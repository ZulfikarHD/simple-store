import{d as N,r as x,a as y,b as s,f as a,h as E,w as l,e as t,s as G,j as r,q as v,v as V,x as L,o as _,F as B,k as z,t as w,B as A,g as R,n as U}from"./app-CZppbeYQ.js";import{_ as H}from"./AppLayout.vue_vue_type_script_setup_true_lang-CNgCg_lr.js";import{_ as k}from"./index-Cc65Ncch.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-D5qj-S-y.js";import{_ as m}from"./Label.vue_vue_type_script_setup_true_lang-BiUR-eYh.js";import{_ as D}from"./Checkbox.vue_vue_type_script_setup_true_lang-CLrD4jF3.js";import{_ as c}from"./InputError.vue_vue_type_script_setup_true_lang-SbAcGJYD.js";import{_ as J}from"./PullToRefresh.vue_vue_type_script_setup_true_lang-Dzx9S4ml.js";import{d as K,b as M,g as q}from"./index-jc7A-Wt-.js";import{u as O,M as f,s as g,a as h}from"./shopping-bag-CgJLrDmv.js";import{A as W}from"./arrow-left-BPXUAo6M.js";import{P as X}from"./package-D47XvBWL.js";import{D as Q,B as Y}from"./dollar-sign-DiYg_--c.js";import{I as Z}from"./image-plus-BrNPCaG6.js";import{X as ee}from"./x-C5bMfCMh.js";import{U as te}from"./upload-DP12OBke.js";import{C as ae}from"./circle-check-big-DmpIkb5U.js";import{S as se}from"./star-BuDq_jVz.js";import{S as F}from"./save-BL2_twCV.js";import"./VisuallyHidden-dee-T_ua.js";import"./useForwardExpose-BON2X7ZT.js";import"./RovingFocusGroup-DlfWv2G2.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-Dp0PW41R.js";import"./settings-DyBCjIIM.js";import"./log-out-Bbr3RYW6.js";import"./chevron-right-BwmxWRAz.js";import"./index-ChOoFR3L.js";import"./PriceDisplay.vue_vue_type_script_setup_true_lang-s8qMSPGe.js";import"./lock-wwAmgkYU.js";import"./loader-circle-Dh4DslJv.js";import"./circle-check-Dq0cs3o_.js";import"./clock-DtWUUNZy.js";import"./phone-CutlmKqZ.js";import"./check-KYstt4-N.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VisuallyHiddenInput-CmbrwRCq.js";const ie={class:"admin-page flex flex-col gap-6 p-4 md:p-6"},oe={class:"flex items-center gap-3"},le={class:"flex flex-col gap-6 lg:col-span-2"},re={class:"admin-form-section"},ne={class:"admin-form-section-header"},de={class:"admin-form-section-content"},me={class:"flex flex-col gap-5"},ue={class:"admin-input-group"},pe={class:"admin-input-group"},ce={class:"grid gap-5 sm:grid-cols-2"},fe={class:"admin-input-group"},ge={class:"admin-input-group"},ve={class:"admin-input-group"},_e=["value"],ke={class:"admin-form-section"},be={class:"admin-form-section-header"},xe={class:"admin-form-section-content"},ye=["src"],he={key:1,class:"admin-upload-area"},Pe={class:"upload-icon"},we={class:"flex flex-col gap-6"},Ce={class:"admin-form-section"},Se={class:"admin-form-section-header"},Ve={class:"admin-form-section-content"},Be={class:"flex flex-col gap-4"},Ue={class:"flex items-start gap-3 rounded-xl border border-border/50 bg-muted/20 p-4"},De={class:"flex flex-col"},Me={class:"flex items-start gap-3 rounded-xl border border-border/50 bg-muted/20 p-4"},Fe={class:"flex flex-col"},$e={class:"admin-form-section"},Ie={class:"admin-form-section-content flex flex-col gap-3"},Te={class:"fixed inset-x-0 bottom-0 z-40 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80 md:hidden",style:{"padding-bottom":"env(safe-area-inset-bottom)"}},je={class:"flex gap-3 p-4"},xt=N({__name:"Create",props:{categories:{}},setup($){const u=O(),I=[{title:"Dashboard",href:K().url},{title:"Produk",href:M().url},{title:"Tambah Produk",href:"#"}],i=x({name:"",description:"",price:"",stock:"",category_id:"",image:null,is_active:!0,is_featured:!1}),n=x({}),p=x(!1),b=x(null);function T(d){u.selection();const o=d.target.files?.[0];o&&(i.value.image=o,b.value=URL.createObjectURL(o))}function j(){u.light(),i.value.image=null,b.value=null}function S(){u.medium(),p.value=!0,n.value={};const d=new FormData;d.append("name",i.value.name),d.append("description",i.value.description||""),d.append("price",i.value.price),d.append("stock",i.value.stock),d.append("category_id",i.value.category_id),d.append("is_active",i.value.is_active?"1":"0"),d.append("is_featured",i.value.is_featured?"1":"0"),i.value.image&&d.append("image",i.value.image),U.post(q().url,d,{forceFormData:!0,onSuccess:()=>{u.success()},onError:e=>{u.error(),n.value=e},onFinish:()=>{p.value=!1}})}function P(){u.light(),U.get(M().url)}return(d,e)=>(_(),y(B,null,[s(a(E),{title:"Tambah Produk"}),s(H,{breadcrumbs:I},{default:l(()=>[s(J,null,{default:l(()=>[t("div",ie,[s(a(f),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:a(g).ios,class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},{default:l(()=>[t("div",oe,[s(a(k),{variant:"ghost",size:"icon",class:"ios-button h-10 w-10 shrink-0",onClick:P},{default:l(()=>[s(a(W),{class:"h-5 w-5"})]),_:1}),e[7]||(e[7]=t("div",{class:"flex flex-col gap-1"},[t("h1",{class:"text-2xl font-bold tracking-tight md:text-3xl"}," Tambah Produk "),t("p",{class:"text-muted-foreground"}," Isi informasi produk baru ")],-1))])]),_:1},8,["transition"]),t("form",{id:"product-form",onSubmit:G(S,["prevent"]),class:"grid gap-6 lg:grid-cols-3"},[t("div",le,[s(a(f),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...a(g).ios,delay:a(h)(0)}},{default:l(()=>[t("div",re,[t("div",ne,[t("h3",null,[s(a(X)),e[8]||(e[8]=r(" Informasi Produk ",-1))])]),t("div",de,[t("div",me,[t("div",ue,[s(a(m),{for:"name"},{default:l(()=>[...e[9]||(e[9]=[r("Nama Produk *",-1)])]),_:1}),s(a(C),{id:"name",modelValue:i.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value.name=o),type:"text",placeholder:"Masukkan nama produk",class:v(["admin-input",{"border-destructive":n.value.name}])},null,8,["modelValue","class"]),s(c,{message:n.value.name},null,8,["message"])]),t("div",pe,[s(a(m),{for:"description"},{default:l(()=>[...e[10]||(e[10]=[r("Deskripsi",-1)])]),_:1}),V(t("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=o=>i.value.description=o),rows:"4",placeholder:"Masukkan deskripsi produk",class:v(["admin-textarea",{"border-destructive":n.value.description}])},null,2),[[L,i.value.description]]),s(c,{message:n.value.description},null,8,["message"])]),t("div",ce,[t("div",fe,[s(a(m),{for:"price",class:"flex items-center gap-2"},{default:l(()=>[s(a(Q),{class:"h-4 w-4 text-primary"}),e[11]||(e[11]=r(" Harga (Rp) * ",-1))]),_:1}),s(a(C),{id:"price",modelValue:i.value.price,"onUpdate:modelValue":e[2]||(e[2]=o=>i.value.price=o),type:"number",min:"0",placeholder:"0",class:v(["admin-input",{"border-destructive":n.value.price}])},null,8,["modelValue","class"]),s(c,{message:n.value.price},null,8,["message"])]),t("div",ge,[s(a(m),{for:"stock",class:"flex items-center gap-2"},{default:l(()=>[s(a(Y),{class:"h-4 w-4 text-primary"}),e[12]||(e[12]=r(" Stok * ",-1))]),_:1}),s(a(C),{id:"stock",modelValue:i.value.stock,"onUpdate:modelValue":e[3]||(e[3]=o=>i.value.stock=o),type:"number",min:"0",placeholder:"0",class:v(["admin-input",{"border-destructive":n.value.stock}])},null,8,["modelValue","class"]),s(c,{message:n.value.stock},null,8,["message"])])]),t("div",ve,[s(a(m),{for:"category_id"},{default:l(()=>[...e[13]||(e[13]=[r("Kategori *",-1)])]),_:1}),V(t("select",{id:"category_id","onUpdate:modelValue":e[4]||(e[4]=o=>i.value.category_id=o),class:v(["admin-select",{"border-destructive":n.value.category_id}])},[e[14]||(e[14]=t("option",{value:"",disabled:""},"Pilih kategori",-1)),(_(!0),y(B,null,z($.categories,o=>(_(),y("option",{key:o.id,value:o.id},w(o.name),9,_e))),128))],2),[[A,i.value.category_id]]),s(c,{message:n.value.category_id},null,8,["message"])])])])])]),_:1},8,["transition"]),s(a(f),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...a(g).ios,delay:a(h)(1)}},{default:l(()=>[t("div",ke,[t("div",be,[t("h3",null,[s(a(Z)),e[15]||(e[15]=r(" Gambar Produk ",-1))])]),t("div",xe,[b.value?(_(),R(a(f),{key:0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:a(g).bouncy,class:"admin-image-preview"},{default:l(()=>[t("img",{src:b.value,alt:"Preview"},null,8,ye),t("button",{type:"button",class:"remove-btn ios-button",onClick:j},[s(a(ee))])]),_:1},8,["transition"])):(_(),y("div",he,[t("div",Pe,[s(a(te))]),e[16]||(e[16]=t("p",{class:"mb-2 text-sm font-medium"}," Klik atau drag file untuk upload ",-1)),e[17]||(e[17]=t("p",{class:"text-xs text-muted-foreground"}," PNG, JPG, JPEG atau WEBP (maks. 2MB) ",-1)),t("input",{type:"file",accept:"image/jpeg,image/png,image/jpg,image/webp",class:"absolute inset-0 cursor-pointer opacity-0",onChange:T},null,32)])),s(c,{message:n.value.image,class:"mt-2"},null,8,["message"])])])]),_:1},8,["transition"])]),t("div",we,[s(a(f),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...a(g).ios,delay:a(h)(2)}},{default:l(()=>[t("div",Ce,[t("div",Se,[t("h3",null,[s(a(ae)),e[18]||(e[18]=r(" Status Produk ",-1))])]),t("div",Ve,[t("div",Be,[t("div",Ue,[s(a(D),{id:"is_active",checked:i.value.is_active,"onUpdate:checked":e[5]||(e[5]=o=>i.value.is_active=o)},null,8,["checked"]),t("div",De,[s(a(m),{for:"is_active",class:"cursor-pointer font-medium"},{default:l(()=>[...e[19]||(e[19]=[r(" Produk Aktif ",-1)])]),_:1}),e[20]||(e[20]=t("p",{class:"text-xs text-muted-foreground"}," Produk akan ditampilkan di toko ",-1))])]),t("div",Me,[s(a(D),{id:"is_featured",checked:i.value.is_featured,"onUpdate:checked":e[6]||(e[6]=o=>i.value.is_featured=o)},null,8,["checked"]),t("div",Fe,[s(a(m),{for:"is_featured",class:"flex cursor-pointer items-center gap-2 font-medium"},{default:l(()=>[s(a(se),{class:"h-4 w-4 text-amber-500"}),e[21]||(e[21]=r(" Produk Unggulan ",-1))]),_:1}),e[22]||(e[22]=t("p",{class:"text-xs text-muted-foreground"}," Tampilkan di bagian featured ",-1))])])])])])]),_:1},8,["transition"]),s(a(f),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...a(g).ios,delay:a(h)(3)}},{default:l(()=>[t("div",$e,[t("div",Ie,[s(a(k),{type:"submit",class:"admin-btn-primary gap-2",disabled:p.value},{default:l(()=>[s(a(F),{class:"h-4 w-4"}),r(" "+w(p.value?"Menyimpan...":"Simpan Produk"),1)]),_:1},8,["disabled"]),s(a(k),{type:"button",variant:"outline",class:"admin-btn-secondary",onClick:P},{default:l(()=>[...e[23]||(e[23]=[r(" Batal ",-1)])]),_:1})])])]),_:1},8,["transition"])])],32),e[24]||(e[24]=t("div",{class:"h-36 md:hidden"},null,-1))])]),_:1}),t("div",Te,[t("div",je,[s(a(k),{type:"button",variant:"outline",class:"h-12 flex-1",onClick:P},{default:l(()=>[...e[25]||(e[25]=[r(" Batal ",-1)])]),_:1}),s(a(k),{type:"submit",form:"product-form",class:"h-12 flex-1 gap-2",disabled:p.value,onClick:S},{default:l(()=>[s(a(F),{class:"h-4 w-4"}),r(" "+w(p.value?"Menyimpan...":"Simpan"),1)]),_:1},8,["disabled"])])])]),_:1})],64))}});export{xt as default};
