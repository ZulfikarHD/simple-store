import{d as se,u as le,c as M,r as _,y as ne,E as oe,a as u,b as a,e as i,w as l,f as t,h as ie,g as d,j as f,l as C,F as S,i as x,o,t as m,p as re,q as j,k as ue,n as R}from"./app-Ct3btzCM.js";import{_ as L}from"./AnimatePresence.vue-B5dbAotW.js";import{u as de,s as D,M as r}from"./shopping-bag-DiqdROFR.js";import{h as U}from"./index-Dp0PW41R.js";import{s as me}from"./CartController-1jpe7Y2F.js";import{_ as ve}from"./ProductCard.vue_vue_type_script_setup_true_lang-Lxi49yWy.js";import{_ as fe}from"./CartCounter.vue_vue_type_script_setup_true_lang-BnfzxR89.js";import{_ as be,a as pe}from"./StoreHeader.vue_vue_type_script_setup_true_lang-B2zjU-IV.js";import{_ as A}from"./package-_HWYeKIc.js";import{_ as T}from"./index-D0cf4wBZ.js";import{C as J}from"./chevron-right-BILIhyH8.js";import{A as ce}from"./arrow-left-CRAhKanp.js";import{S as xe}from"./shopping-cart-6njU7WLF.js";import{C as z}from"./check-DRQ0M-9L.js";import{M as O}from"./minus-DfOqGLMx.js";import{P as B}from"./plus-NZU9j7Gp.js";import{L as G}from"./loader-circle-BRVTe8q5.js";import"./ProductController-0M3t1kra.js";import"./user-BteoU6Yq.js";const ge=["content"],ye={class:"min-h-screen bg-background pb-16"},ke={class:"ios-navbar fixed inset-x-0 top-0 z-50 border-b border-brand-blue-200/30 dark:border-brand-blue-800/30"},_e={class:"mx-auto flex h-14 max-w-7xl items-center justify-between px-4 sm:h-16 sm:px-6 lg:px-8"},we={class:"flex items-center gap-2 sm:gap-3"},he={class:"mx-auto max-w-7xl px-4 pb-36 pt-6 sm:px-6 sm:pb-8 sm:pt-8 lg:px-8"},$e={class:"max-w-[200px] truncate font-medium text-foreground"},Te={class:"grid gap-6 lg:grid-cols-2 lg:gap-8"},Me=["src","alt"],Pe={key:1,class:"flex h-full w-full items-center justify-center bg-muted/50"},Ce={class:"flex flex-col"},Se={class:"inline-flex items-center gap-3 rounded-2xl bg-gradient-to-r from-brand-blue-50 to-brand-gold-50 px-4 py-2 dark:from-brand-blue-900/30 dark:to-brand-gold-900/20"},je={class:"price-tag text-2xl font-bold sm:text-3xl"},De={key:0,class:"text-xs font-medium text-brand-gold"},ze={key:2,class:"text-xs text-amber-600 dark:text-amber-400"},Be={key:0,class:"whitespace-pre-line text-sm leading-relaxed text-muted-foreground sm:text-base"},Fe={key:1,class:"text-sm italic text-muted-foreground sm:text-base"},Ke={class:"flex items-center gap-4"},Le={class:"flex items-center gap-2"},Ae={key:1},He={key:2},Ne={key:3},qe={class:"ios-snap-scroll -mx-4 flex gap-4 overflow-x-auto px-4 pb-4 sm:mx-0 sm:grid sm:grid-cols-2 sm:gap-6 sm:overflow-visible sm:px-0 lg:grid-cols-4"},Ee={class:"mt-12 hidden border-t border-brand-blue-100 bg-gradient-to-b from-brand-blue-50/50 to-white dark:border-brand-blue-900/30 dark:from-brand-blue-900/20 dark:to-background sm:mt-16 md:block"},Ie={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 sm:py-8 lg:px-8"},Ve={class:"flex flex-col items-center gap-2"},Ye={class:"text-center text-sm text-muted-foreground"},Qe={class:"text-xs text-brand-gold"},Re={class:"ios-glass fixed inset-x-0 bottom-16 z-40 border-t border-brand-blue-200/30 p-4 dark:border-brand-blue-800/30 md:hidden"},Ue={class:"mx-auto max-w-7xl"},Je={class:"mb-3 flex items-center justify-between"},Oe={class:"price-tag text-lg font-bold"},Ge={class:"flex items-center gap-2"},We={key:1},Xe={key:2},Ze={key:3},yt=se({__name:"ProductDetail",props:{product:{},relatedProducts:{},cart:{}},setup(F){const H=F,W=le(),K=M(()=>W.props.store??{name:"Simple Store",tagline:"Premium Quality Products",logo:null}),P=de(),s=M(()=>H.product.data),v=_(1),g=_(!1),k=_(!1),w=_(!1),b=_(!1),p=_(!1),c=_(!1),N=_(0),X=M(()=>Math.min(N.value*.3,100));function q(){N.value=window.scrollY}ne(()=>{window.addEventListener("scroll",q,{passive:!0})}),oe(()=>{window.removeEventListener("scroll",q)});const E=M(()=>s.value.image?`/storage/${s.value.image}`:null),I=M(()=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(s.value.price)),Z=M(()=>H.cart?.total_items??0);function V(){v.value<99&&(P.light(),v.value++)}function Y(){v.value>1&&(P.light(),v.value--)}function Q(){!s.value.is_available||g.value||(P.medium(),g.value=!0,R.post(me.url(),{product_id:s.value.id,quantity:v.value},{preserveScroll:!0,onSuccess:()=>{k.value=!0,P.success(),v.value=1,setTimeout(()=>{k.value=!1},2e3)},onFinish:()=>{g.value=!1}}))}function ee(){P.light(),R.visit(U())}const y={type:"spring",...D.ios},h={type:"spring",...D.bouncy},$={type:"spring",...D.snappy};return(te,e)=>(o(),u(S,null,[a(t(ie),{title:`${s.value.name} - ${K.value.name}`},{default:l(()=>[i("meta",{name:"description",content:s.value.description??`Beli ${s.value.name} dengan harga terbaik`},null,8,ge),e[35]||(e[35]=i("link",{rel:"preconnect",href:"https://rsms.me/"},null,-1)),e[36]||(e[36]=i("link",{rel:"stylesheet",href:"https://rsms.me/inter/inter.css"},null,-1))]),_:1},8,["title"]),i("div",ye,[i("header",ke,[i("div",_e,[a(be),i("nav",we,[a(fe,{count:Z.value},null,8,["count"]),te.$page.props.auth.user?(o(),d(t(C),{key:0,href:"/dashboard",class:"ios-button hidden rounded-xl bg-primary px-4 py-2.5 text-sm font-medium text-primary-foreground shadow-sm sm:inline-flex"},{default:l(()=>[...e[37]||(e[37]=[f(" Dashboard ",-1)])]),_:1})):(o(),u(S,{key:1},[a(t(C),{href:"/login",class:"ios-button hidden rounded-xl px-4 py-2.5 text-sm font-medium text-foreground sm:inline-flex"},{default:l(()=>[...e[38]||(e[38]=[f(" Masuk ",-1)])]),_:1}),a(t(C),{href:"/register",class:"ios-button hidden rounded-xl bg-primary px-4 py-2.5 text-sm font-medium text-primary-foreground shadow-sm sm:inline-flex"},{default:l(()=>[...e[39]||(e[39]=[f(" Daftar ",-1)])]),_:1})],64))])])]),e[47]||(e[47]=i("div",{class:"h-14 sm:h-16"},null,-1)),i("main",he,[a(t(r),{tag:"nav",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:y,class:"mb-4 hidden items-center gap-2 text-sm text-muted-foreground sm:mb-6 sm:flex"},{default:l(()=>[a(t(C),{href:t(U)(),class:"transition-colors hover:text-foreground"},{default:l(()=>[...e[40]||(e[40]=[f(" Beranda ",-1)])]),_:1},8,["href"]),a(t(J),{class:"h-4 w-4"}),s.value.category?(o(),u(S,{key:0},[a(t(C),{href:`/?category=${s.value.category.id}`,class:"transition-colors hover:text-foreground"},{default:l(()=>[f(m(s.value.category.name),1)]),_:1},8,["href"]),a(t(J),{class:"h-4 w-4"})],64)):x("",!0),i("span",$e,m(s.value.name),1)]),_:1}),a(t(r),{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{...y,delay:.05}},{default:l(()=>[a(t(r),{animate:{scale:w.value?.95:1,opacity:w.value?.7:1},transition:$},{default:l(()=>[a(t(T),{variant:"ghost",size:"default",class:"ios-button mb-4 flex h-11 items-center gap-2 rounded-xl sm:mb-6 sm:h-10",onClick:ee,onMousedown:e[0]||(e[0]=n=>w.value=!0),onMouseup:e[1]||(e[1]=n=>w.value=!1),onMouseleave:e[2]||(e[2]=n=>w.value=!1),onTouchstartPassive:e[3]||(e[3]=n=>w.value=!0),onTouchend:e[4]||(e[4]=n=>w.value=!1)},{default:l(()=>[a(t(ce),{class:"h-4 w-4"}),e[41]||(e[41]=f(" Kembali ke Katalog ",-1))]),_:1})]),_:1},8,["animate"])]),_:1},8,["transition"]),i("div",Te,[a(t(r),{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{...y,delay:.1},class:"relative overflow-hidden rounded-2xl border border-border/50 bg-card shadow-lg sm:rounded-3xl"},{default:l(()=>[i("div",{class:"aspect-square overflow-hidden",style:re({transform:`translateY(${X.value}px)`})},[E.value?(o(),u("img",{key:0,src:E.value,alt:s.value.name,class:"h-full w-full scale-110 object-cover transition-transform duration-700 ease-[var(--ios-spring-smooth)]"},null,8,Me)):(o(),u("div",Pe,[a(t(xe),{class:"h-16 w-16 text-muted-foreground/30 sm:h-24 sm:w-24"})]))],4),a(t(L),null,{default:l(()=>[s.value.stock_status&&(s.value.stock_status.status==="out_of_stock"||s.value.stock_status.status==="unavailable")?(o(),d(t(r),{key:0,initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{...h,delay:.3},class:"absolute left-3 top-3 sm:left-4 sm:top-4"},{default:l(()=>[a(t(A),{variant:"destructive",class:"text-xs font-medium shadow-sm sm:text-sm"},{default:l(()=>[f(m(s.value.stock_status.label),1)]),_:1})]),_:1},8,["transition"])):s.value.stock_status?.status==="low_stock"?(o(),d(t(r),{key:1,initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{...h,delay:.3},class:"absolute left-3 top-3 sm:left-4 sm:top-4"},{default:l(()=>[a(t(A),{class:"bg-amber-100 text-xs font-medium text-amber-700 shadow-sm hover:bg-amber-100 dark:bg-amber-900/30 dark:text-amber-400 sm:text-sm"},{default:l(()=>[...e[42]||(e[42]=[f(" Stok Terbatas ",-1)])]),_:1})]),_:1},8,["transition"])):s.value.is_available?x("",!0):(o(),d(t(r),{key:2,initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{...h,delay:.3},class:"absolute left-3 top-3 sm:left-4 sm:top-4"},{default:l(()=>[a(t(A),{variant:"destructive",class:"text-xs font-medium shadow-sm sm:text-sm"},{default:l(()=>[...e[43]||(e[43]=[f(" Stok Habis ",-1)])]),_:1})]),_:1},8,["transition"]))]),_:1})]),_:1},8,["transition"]),i("div",Ce,[s.value.category?(o(),d(t(r),{key:0,tag:"p",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...y,delay:.15},class:"mb-1 text-xs font-medium uppercase tracking-wider text-muted-foreground/80 sm:mb-2 sm:text-sm"},{default:l(()=>[f(m(s.value.category.name),1)]),_:1},8,["transition"])):x("",!0),a(t(r),{tag:"h1",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...y,delay:.2},class:"mb-3 text-2xl font-bold tracking-tight text-foreground sm:mb-4 sm:text-3xl lg:text-4xl"},{default:l(()=>[f(m(s.value.name),1)]),_:1},8,["transition"]),a(t(r),{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{...y,delay:.25},class:"mb-4 sm:mb-6"},{default:l(()=>[i("div",Se,[i("p",je,m(I.value),1),s.value.is_available?(o(),u("span",De," Harga Terbaik ")):x("",!0)])]),_:1},8,["transition"]),a(t(r),{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...y,delay:.3},class:"mb-4 flex flex-wrap items-center gap-2 sm:mb-6"},{default:l(()=>[s.value.stock_status?(o(),u("div",{key:0,class:j(["flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium",s.value.stock_status.status==="in_stock"&&"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",s.value.stock_status.status==="low_stock"&&"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",(s.value.stock_status.status==="out_of_stock"||s.value.stock_status.status==="unavailable")&&"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"])},[s.value.stock_status.status==="in_stock"?(o(),d(t(z),{key:0,class:"h-4 w-4"})):x("",!0),i("span",null,m(s.value.stock_status.label),1)],2)):(o(),u("div",{key:1,class:j(["flex items-center gap-2 rounded-full px-3 py-1.5 text-sm font-medium",s.value.is_available?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"])},[s.value.is_available?(o(),d(t(z),{key:0,class:"h-4 w-4"})):x("",!0),i("span",null,m(s.value.is_available?"Tersedia":"Tidak Tersedia"),1)],2)),s.value.stock_status?.status==="low_stock"?(o(),u("span",ze," (Sisa "+m(s.value.stock_status.stock)+" unit) ",1)):x("",!0)]),_:1},8,["transition"]),a(t(r),{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...y,delay:.35},class:"mb-6 sm:mb-8"},{default:l(()=>[e[44]||(e[44]=i("h2",{class:"mb-2 text-base font-semibold text-foreground sm:mb-3 sm:text-lg"},"Deskripsi",-1)),s.value.description?(o(),u("p",Be,m(s.value.description),1)):(o(),u("p",Fe," Belum ada deskripsi untuk produk ini. "))]),_:1},8,["transition"]),a(t(r),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...y,delay:.4},class:"mt-auto hidden space-y-4 sm:block"},{default:l(()=>[i("div",Ke,[e[45]||(e[45]=i("span",{class:"text-sm font-medium text-foreground"},"Jumlah:",-1)),i("div",Le,[a(t(r),{animate:{scale:b.value?.9:1},transition:$},{default:l(()=>[a(t(T),{variant:"outline",size:"icon",class:"h-11 w-11 rounded-xl",disabled:v.value<=1||!s.value.is_available,"aria-label":"Kurangi jumlah",onClick:Y,onMousedown:e[5]||(e[5]=n=>b.value=!0),onMouseup:e[6]||(e[6]=n=>b.value=!1),onMouseleave:e[7]||(e[7]=n=>b.value=!1),onTouchstartPassive:e[8]||(e[8]=n=>b.value=!0),onTouchend:e[9]||(e[9]=n=>b.value=!1)},{default:l(()=>[a(t(O),{class:"h-4 w-4"})]),_:1},8,["disabled"])]),_:1},8,["animate"]),(o(),d(t(r),{key:v.value,initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},transition:h,class:"w-14 text-center text-xl font-semibold"},{default:l(()=>[f(m(v.value),1)]),_:1})),a(t(r),{animate:{scale:p.value?.9:1},transition:$},{default:l(()=>[a(t(T),{variant:"outline",size:"icon",class:"h-11 w-11 rounded-xl",disabled:v.value>=99||!s.value.is_available,"aria-label":"Tambah jumlah",onClick:V,onMousedown:e[10]||(e[10]=n=>p.value=!0),onMouseup:e[11]||(e[11]=n=>p.value=!1),onMouseleave:e[12]||(e[12]=n=>p.value=!1),onTouchstartPassive:e[13]||(e[13]=n=>p.value=!0),onTouchend:e[14]||(e[14]=n=>p.value=!1)},{default:l(()=>[a(t(B),{class:"h-4 w-4"})]),_:1},8,["disabled"])]),_:1},8,["animate"])])]),a(t(r),{animate:{scale:c.value?.95:1},transition:$},{default:l(()=>[a(t(T),{size:"lg",disabled:!s.value.is_available||g.value,class:j(["ios-button h-14 w-full gap-2 rounded-2xl text-base shadow-lg",[k.value?"bg-green-600 hover:bg-green-600":"bg-gradient-to-r from-brand-blue-500 to-brand-blue-600 hover:from-brand-blue-600 hover:to-brand-blue-700 shadow-brand-blue-500/25"]]),onClick:Q,onMousedown:e[15]||(e[15]=n=>c.value=!0),onMouseup:e[16]||(e[16]=n=>c.value=!1),onMouseleave:e[17]||(e[17]=n=>c.value=!1),onTouchstartPassive:e[18]||(e[18]=n=>c.value=!0),onTouchend:e[19]||(e[19]=n=>c.value=!1)},{default:l(()=>[g.value?(o(),d(t(G),{key:0,class:"h-5 w-5 animate-spin"})):x("",!0),a(t(L),{mode:"wait"},{default:l(()=>[k.value?(o(),d(t(r),{key:"success",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:h},{default:l(()=>[a(t(z),{class:"h-5 w-5"})]),_:1})):g.value?x("",!0):(o(),d(t(B),{key:1,class:"h-5 w-5"}))]),_:1}),k.value?(o(),u("span",Ae,"Ditambahkan ke Keranjang!")):s.value.is_available?(o(),u("span",He,"Tambah ke Keranjang")):(o(),u("span",Ne,"Stok Habis"))]),_:1},8,["disabled","class"])]),_:1},8,["animate"])]),_:1},8,["transition"])])]),F.relatedProducts.data.length>0?(o(),d(t(r),{key:0,tag:"section",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{...t(D).smooth,delay:.5},class:"mt-12 sm:mt-16"},{default:l(()=>[e[46]||(e[46]=i("h2",{class:"mb-6 text-2xl font-bold tracking-tight text-foreground"}," Produk Terkait ",-1)),i("div",qe,[(o(!0),u(S,null,ue(F.relatedProducts.data,(n,ae)=>(o(),d(ve,{key:n.id,product:n,index:ae,mode:"grid",class:"ios-snap-item w-44 shrink-0 sm:w-auto"},null,8,["product","index"]))),128))])]),_:1},8,["transition"])):x("",!0)]),i("footer",Ee,[i("div",Ie,[i("div",Ve,[i("p",Ye," Â© "+m(new Date().getFullYear())+" "+m(K.value.name)+". ",1),i("p",Qe,m(K.value.tagline),1)])])]),i("div",Re,[i("div",Ue,[i("div",Je,[i("p",Oe,m(I.value),1),i("div",Ge,[a(t(r),{animate:{scale:b.value?.9:1},transition:$},{default:l(()=>[a(t(T),{variant:"outline",size:"icon",class:"h-11 w-11 rounded-xl",disabled:v.value<=1||!s.value.is_available,"aria-label":"Kurangi jumlah",onClick:Y,onMousedown:e[20]||(e[20]=n=>b.value=!0),onMouseup:e[21]||(e[21]=n=>b.value=!1),onMouseleave:e[22]||(e[22]=n=>b.value=!1),onTouchstartPassive:e[23]||(e[23]=n=>b.value=!0),onTouchend:e[24]||(e[24]=n=>b.value=!1)},{default:l(()=>[a(t(O),{class:"h-4 w-4"})]),_:1},8,["disabled"])]),_:1},8,["animate"]),(o(),d(t(r),{key:v.value,initial:{scale:1.2,opacity:0},animate:{scale:1,opacity:1},transition:h,class:"w-10 text-center text-lg font-semibold"},{default:l(()=>[f(m(v.value),1)]),_:1})),a(t(r),{animate:{scale:p.value?.9:1},transition:$},{default:l(()=>[a(t(T),{variant:"outline",size:"icon",class:"h-11 w-11 rounded-xl",disabled:v.value>=99||!s.value.is_available,"aria-label":"Tambah jumlah",onClick:V,onMousedown:e[25]||(e[25]=n=>p.value=!0),onMouseup:e[26]||(e[26]=n=>p.value=!1),onMouseleave:e[27]||(e[27]=n=>p.value=!1),onTouchstartPassive:e[28]||(e[28]=n=>p.value=!0),onTouchend:e[29]||(e[29]=n=>p.value=!1)},{default:l(()=>[a(t(B),{class:"h-4 w-4"})]),_:1},8,["disabled"])]),_:1},8,["animate"])])]),a(t(r),{animate:{scale:c.value?.95:1},transition:$},{default:l(()=>[a(t(T),{size:"lg",disabled:!s.value.is_available||g.value,class:j(["ios-button h-13 w-full gap-2 rounded-2xl text-base shadow-lg",[k.value?"bg-green-600 hover:bg-green-600":"bg-gradient-to-r from-brand-blue-500 to-brand-blue-600 hover:from-brand-blue-600 hover:to-brand-blue-700 shadow-brand-blue-500/25"]]),onClick:Q,onMousedown:e[30]||(e[30]=n=>c.value=!0),onMouseup:e[31]||(e[31]=n=>c.value=!1),onMouseleave:e[32]||(e[32]=n=>c.value=!1),onTouchstartPassive:e[33]||(e[33]=n=>c.value=!0),onTouchend:e[34]||(e[34]=n=>c.value=!1)},{default:l(()=>[g.value?(o(),d(t(G),{key:0,class:"h-5 w-5 animate-spin"})):x("",!0),a(t(L),{mode:"wait"},{default:l(()=>[k.value?(o(),d(t(r),{key:"success-mobile",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:h},{default:l(()=>[a(t(z),{class:"h-5 w-5"})]),_:1})):g.value?x("",!0):(o(),d(t(B),{key:1,class:"h-5 w-5"}))]),_:1}),k.value?(o(),u("span",We,"Ditambahkan!")):s.value.is_available?(o(),u("span",Xe,"Tambah ke Keranjang")):(o(),u("span",Ze,"Stok Habis"))]),_:1},8,["disabled","class"])]),_:1},8,["animate"])])]),a(pe)])],64))}});export{yt as default};
