import{d as $e,u as Pe,c as S,r as _,a as m,b as a,f as s,h as Ue,w as i,i as f,e,t as l,q as M,T as I,o as d,j as u,F as $,k as B,g as y,v as ee,B as De,x as Ae,m as te,n as se}from"./app-Bup2iCrW.js";import{u as Te,i as Be,j as je,k as Me,l as ze,m as Le,_ as Fe,a as Ie,b as We,c as Ke,d as Ne,e as Re,f as Ve,g as qe,h as He}from"./AppLayout.vue_vue_type_script_setup_true_lang-CdhEcLuC.js";import{_ as P}from"./index-BTLehctj.js";import{P as W,_ as K}from"./package-C9MS62E-.js";import{_ as ae}from"./Label.vue_vue_type_script_setup_true_lang-CtzFslDC.js";import{_ as k}from"./PriceDisplay.vue_vue_type_script_setup_true_lang-tjkdvr0X.js";import{_ as Ee}from"./PullToRefresh.vue_vue_type_script_setup_true_lang-CBIcfCho.js";import{d as Xe,c as ne,f as Ge}from"./index-WEbfYsTi.js";import{c as Oe,u as Qe,M as b,s as h,a as z,S as ie}from"./shopping-bag-Cyqv5MtD.js";import{T as N,C as R}from"./truck-ByQjfjeS.js";import{C as V}from"./chef-hat-BhLYNvXn.js";import{C as q}from"./check-CbP4fQxG.js";import{A as Ye}from"./arrow-left-yHnVqiVj.js";import{U as oe}from"./user-CLIfCHKh.js";import{P as re}from"./phone-DLcFSSmv.js";import{M as Je}from"./map-pin-BTNAhKB9.js";import{N as le,M as Ze,T as et,H as tt,R as st,B as at,S as nt,a as it,C as ot,P as rt,A as lt,G as dt,b as ut,c as ct,F as mt,U as pt,d as ft,e as gt,f as vt,g as xt}from"./utensils-B6AHdGB8.js";import{F as de}from"./file-text-BavSjWAu.js";import{C as L}from"./circle-check-JJYRlxrD.js";import{C as H}from"./clock-CTY1vp6i.js";import{C as bt}from"./chevron-right-Bn8HQhDI.js";import{L as ht}from"./loader-circle-l6oOwzKV.js";import{S as _t}from"./star-n7JicURp.js";import{S as yt}from"./shopping-cart-WNci46Qf.js";import{C as kt}from"./circle-alert-DSDS1ZHo.js";import{X as wt}from"./x-CQAUzY6T.js";import{R as ue}from"./refresh-cw-DZAW9bdF.js";import{C as Ct}from"./circle-check-big-Ccfw_IGb.js";import"./Input.vue_vue_type_script_setup_true_lang-DzWyVDWT.js";import"./VisuallyHidden-D8OsljJ8.js";import"./useForwardExpose-B27rRWi-.js";import"./RovingFocusGroup-BX8Mp_HJ.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-Dp0PW41R.js";import"./settings-8CDS1s_n.js";import"./log-out-C0v3cl93.js";import"./lock-DmMG2Bjl.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const St=Oe("CircleDotIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),$t={class:"admin-page flex flex-col gap-6 p-4 md:p-6"},Pt={class:"flex items-center gap-3"},Ut={class:"flex flex-col gap-1"},Dt={class:"flex items-center gap-3"},At={class:"text-xl font-bold tracking-tight md:text-2xl"},Tt={key:0,class:"rounded-2xl border border-green-200 bg-green-50 p-4 text-green-800 dark:border-green-800 dark:bg-green-950 dark:text-green-200"},Bt={key:0,class:"rounded-2xl border border-red-200 bg-red-50 p-4 text-red-800 dark:border-red-800 dark:bg-red-950 dark:text-red-200"},jt={class:"grid gap-6 lg:grid-cols-3"},Mt={class:"flex flex-col gap-6 lg:col-span-2"},zt={class:"admin-form-section"},Lt={class:"admin-form-section-header"},Ft={class:"admin-form-section-content"},It={class:"grid gap-4 sm:grid-cols-2"},Wt={class:"flex items-start gap-3"},Kt={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-primary/10"},Nt={class:"min-w-0 flex-1"},Rt={class:"truncate font-semibold"},Vt={class:"flex items-start gap-3"},qt={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-green-100 dark:bg-green-900/40"},Ht={class:"min-w-0 flex-1"},Et={class:"font-semibold"},Xt={class:"mt-2 flex gap-2"},Gt={key:0,class:"flex items-start gap-3 sm:col-span-2"},Ot={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-orange-100 dark:bg-orange-900/40"},Qt={class:"min-w-0 flex-1"},Yt={class:"font-medium"},Jt={key:1,class:"flex items-start gap-3 sm:col-span-2"},Zt={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-muted"},es={class:"min-w-0 flex-1"},ts={class:"font-medium"},ss={class:"admin-form-section"},as={class:"admin-form-section-header"},ns={class:"flex items-center justify-between"},is={class:"p-0"},os={class:"flex flex-col gap-3 p-4 md:hidden"},rs={class:"flex items-start justify-between gap-3"},ls={class:"min-w-0 flex-1"},ds={class:"font-semibold leading-snug"},us={key:0,class:"mt-1 text-sm text-muted-foreground"},cs={class:"mt-3 flex items-center justify-between border-t border-border/50 pt-3"},ms={class:"text-sm text-muted-foreground"},ps={class:"hidden overflow-x-auto md:block"},fs={class:"admin-table"},gs={class:"flex flex-col gap-0.5"},vs={class:"font-medium"},xs={key:0,class:"text-sm text-muted-foreground"},bs={class:"text-right"},hs={class:"text-center"},_s={class:"text-right"},ys={class:"border-t bg-muted/30 p-5"},ks={class:"flex flex-col gap-3"},ws={class:"flex justify-between text-sm"},Cs={class:"flex justify-between text-sm"},Ss={class:"flex justify-between border-t pt-3"},$s={class:"flex flex-col gap-6"},Ps={class:"admin-form-section"},Us={class:"admin-form-section-header"},Ds={class:"admin-form-section-content"},As={class:"flex flex-col gap-4"},Ts={class:"admin-input-group"},Bs=["value"],js={key:0,class:"admin-input-group"},Ms={class:"mt-2 border-t border-border pt-4"},zs={class:"admin-form-section"},Ls={class:"admin-form-section-header"},Fs={class:"admin-form-section-content"},Is={class:"status-timeline"},Ws={class:"timeline-dot"},Ks={class:"flex flex-col"},Ns={class:"font-medium"},Rs={class:"text-sm text-muted-foreground"},Vs={class:"flex items-start gap-2"},qs={class:"text-sm text-red-700 dark:text-red-300"},Hs={key:0,class:"fixed inset-x-0 bottom-12 z-40 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80 md:hidden",style:{"padding-bottom":"env(safe-area-inset-bottom)"}},Es={class:"flex items-center gap-3 p-4"},Xs={class:"min-w-0 flex-1"},Gs={class:"flex items-center gap-2"},Os={class:"text-sm font-medium text-primary"},Qs={class:"mt-4 flex flex-col gap-2"},Ys=["onClick"],Js={class:"font-medium"},Zs={key:0,class:"mt-2 block text-red-600"},Wa=$e({__name:"Show",props:{order:{},statuses:{},whatsappUrls:{},timelineIcons:{}},setup(o){const g=Qe(),{openWhatsApp:ce}=Te(),c=o,E=Pe(),me=[{title:"Dashboard",href:Xe().url},{title:"Pesanan",href:ne().url},{title:c.order.order_number,href:"#"}],X=S(()=>E.props.flash?.success),G=S(()=>E.props.flash?.error),v=_(c.order.status),U=_(""),w=_(!1),D=_(!1),j=_(!1),A=_(""),T=_(!1),F=_(!1),C=S(()=>{switch(c.order.status){case"pending":return{status:"confirmed",label:"Konfirmasi",icon:q};case"confirmed":return{status:"preparing",label:"Proses",icon:V};case"preparing":return{status:"ready",label:"Siap Kirim",icon:W};case"ready":return{status:"delivered",label:"Selesai",icon:N};default:return null}});function pe(){C.value&&(g.medium(),v.value=C.value.status,w.value=!0)}const x=S(()=>v.value==="cancelled"),O=S(()=>v.value!==c.order.status);function Q(r){switch(r){case"pending":return"admin-badge--pending";case"confirmed":return"admin-badge--confirmed";case"preparing":return"bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-300";case"ready":return"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/40 dark:text-cyan-300";case"delivered":return"admin-badge--success";case"cancelled":return"admin-badge--destructive";default:return""}}const Y={Clock:H,Timer:xt,Hourglass:vt,CalendarClock:gt,CheckCircle2:L,CircleCheck:L,Check:q,CircleCheckBig:Ct,BadgeCheck:ft,ChefHat:V,Utensils:pt,Flame:mt,CookingPot:ct,Loader:ue,RefreshCw:ue,Package:W,Box:ut,Gift:dt,Archive:lt,PackageCheck:rt,Truck:N,Car:ot,Bike:it,Send:nt,Navigation:le,XCircle:R,X:wt,Ban:at,CircleX:R,AlertCircle:kt,ShoppingBag:ie,ShoppingCart:yt,Receipt:st,FileText:de,Star:_t,Heart:tt,ThumbsUp:et};function fe(r){const t=c.timelineIcons?.[r];if(t&&Y[t])return Y[t];switch(r){case"created":case"pending":return H;case"confirmed":return L;case"preparing":return V;case"ready":return W;case"delivered":return N;case"cancelled":return R;default:return St}}function ge(r){return r?new Date(r).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function ve(r){g.medium(),ce(r)}function xe(r){g.medium();const t=c.whatsappUrls[r];t&&window.open(t,"_blank")}function J(){O.value&&(x.value&&!U.value.trim()||(g.medium(),w.value=!0))}function be(){w.value=!1,D.value=!0}function he(){g.heavy(),T.value=!0,D.value=!1;const r=v.value;se.patch(Ge(c.order.id).url,{status:r,cancellation_reason:x.value?U.value:null},{onSuccess:()=>{g.success(),A.value=r,j.value=!0},onError:()=>{g.error()},onFinish:()=>{T.value=!1}})}function _e(){const r=c.whatsappUrls[A.value];r&&window.open(r,"_blank")}function ye(){j.value=!1}function ke(){D.value=!1}const Z=S(()=>{const r=[];return c.order.timestamps.created_at&&r.push({status:"created",label:"Pesanan Dibuat",timestamp:c.order.timestamps.created_at,active:!0}),c.order.timestamps.confirmed_at&&r.push({status:"confirmed",label:"Dikonfirmasi",timestamp:c.order.timestamps.confirmed_at,active:!0}),c.order.timestamps.preparing_at&&r.push({status:"preparing",label:"Sedang Diproses",timestamp:c.order.timestamps.preparing_at,active:!0}),c.order.timestamps.ready_at&&r.push({status:"ready",label:"Siap Dikirim",timestamp:c.order.timestamps.ready_at,active:!0}),c.order.timestamps.delivered_at&&r.push({status:"delivered",label:"Terkirim",timestamp:c.order.timestamps.delivered_at,active:!0}),c.order.timestamps.cancelled_at&&r.push({status:"cancelled",label:"Dibatalkan",timestamp:c.order.timestamps.cancelled_at,active:!0}),r});function we(){g.light(),se.visit(ne().url)}function Ce(r){g.medium();const t=encodeURIComponent(r);window.open(`https://www.google.com/maps/search/?api=1&query=${t}`,"_blank")}function Se(r){g.medium(),window.location.href=`tel:${r}`}return(r,t)=>(d(),m($,null,[a(s(Ue),{title:`Detail Pesanan - ${o.order.order_number}`},null,8,["title"]),a(Fe,{breadcrumbs:me},{default:i(()=>[a(Ee,null,{default:i(()=>[e("div",$t,[a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:s(h).ios,class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},{default:i(()=>[e("div",Pt,[a(s(P),{variant:"ghost",size:"icon",class:"ios-button h-10 w-10 shrink-0",onClick:we},{default:i(()=>[a(s(Ye),{class:"h-5 w-5"})]),_:1}),e("div",Ut,[e("div",Dt,[e("h1",At,l(o.order.order_number),1),a(s(b),{initial:{scale:0},animate:{scale:1},transition:s(h).bouncy},{default:i(()=>[e("span",{class:M(["admin-badge text-sm",Q(o.order.status)])},l(o.order.status_label),3)]),_:1},8,["transition"])]),t[11]||(t[11]=e("p",{class:"text-sm text-muted-foreground"}," Detail pesanan dan update status ",-1))])])]),_:1},8,["transition"]),a(I,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:i(()=>[X.value?(d(),m("div",Tt,l(X.value),1)):f("",!0)]),_:1}),a(I,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:i(()=>[G.value?(d(),m("div",Bt,l(G.value),1)):f("",!0)]),_:1}),e("div",jt,[e("div",Mt,[a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(h).ios,delay:s(z)(0)}},{default:i(()=>[e("div",zt,[e("div",Lt,[e("h3",null,[a(s(oe)),t[12]||(t[12]=u(" Informasi Customer ",-1))])]),e("div",Ft,[e("div",It,[e("div",Wt,[e("div",Kt,[a(s(oe),{class:"h-5 w-5 text-primary"})]),e("div",Nt,[t[13]||(t[13]=e("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Nama",-1)),e("p",Rt,l(o.order.customer_name),1)])]),e("div",Vt,[e("div",qt,[a(s(re),{class:"h-5 w-5 text-green-600 dark:text-green-400"})]),e("div",Ht,[t[16]||(t[16]=e("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Telepon",-1)),e("p",Et,l(o.order.customer_phone),1),e("div",Xt,[e("button",{class:"ios-button flex h-9 items-center gap-1.5 rounded-lg bg-green-600 px-3 text-sm font-medium text-white active:scale-95",onClick:t[0]||(t[0]=n=>ve(o.order.customer_phone))},[...t[14]||(t[14]=[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1),e("span",{class:"hidden sm:inline"},"WhatsApp",-1)])]),e("button",{class:"ios-button flex h-9 items-center gap-1.5 rounded-lg border border-border bg-background px-3 text-sm font-medium active:scale-95",onClick:t[1]||(t[1]=n=>Se(o.order.customer_phone))},[a(s(re),{class:"h-4 w-4"}),t[15]||(t[15]=e("span",{class:"hidden sm:inline"},"Telepon",-1))])])])]),o.order.customer_address?(d(),m("div",Gt,[e("div",Ot,[a(s(Je),{class:"h-5 w-5 text-orange-600 dark:text-orange-400"})]),e("div",Qt,[t[18]||(t[18]=e("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Alamat",-1)),e("p",Yt,l(o.order.customer_address),1),e("button",{class:"mt-2 flex h-9 items-center gap-1.5 rounded-lg border border-orange-200 bg-orange-50 px-3 text-sm font-medium text-orange-700 active:scale-95 dark:border-orange-800 dark:bg-orange-950 dark:text-orange-300",onClick:t[2]||(t[2]=n=>Ce(o.order.customer_address))},[a(s(le),{class:"h-4 w-4"}),t[17]||(t[17]=u(" Buka di Maps ",-1))])])])):f("",!0),o.order.notes?(d(),m("div",Jt,[e("div",Zt,[a(s(de),{class:"h-5 w-5 text-muted-foreground"})]),e("div",es,[t[19]||(t[19]=e("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Catatan",-1)),e("p",ts,l(o.order.notes),1)])])):f("",!0)])])])]),_:1},8,["transition"]),a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(h).ios,delay:s(z)(1)}},{default:i(()=>[e("div",ss,[e("div",as,[e("div",ns,[e("h3",null,[a(s(ie)),t[20]||(t[20]=u(" Detail Pesanan ",-1))]),a(s(K),{variant:"secondary",class:"tabular-nums"},{default:i(()=>[u(l(o.order.items_count)+" item ",1)]),_:1})])]),e("div",is,[e("div",os,[(d(!0),m($,null,B(o.order.items,(n,p)=>(d(),y(s(b),{key:n.id,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{...s(h).ios,delay:.15+p*.03},class:"rounded-xl border bg-muted/20 p-4"},{default:i(()=>[e("div",rs,[e("div",ls,[e("h4",ds,l(n.product_name),1),n.notes?(d(),m("p",us,l(n.notes),1)):f("",!0)]),a(s(K),{variant:"secondary",class:"shrink-0 tabular-nums"},{default:i(()=>[u(" x"+l(n.quantity),1)]),_:2},1024)]),e("div",cs,[e("span",ms,[a(k,{price:n.product_price,size:"sm"},null,8,["price"]),t[21]||(t[21]=u(" / item ",-1))]),a(k,{price:n.subtotal,size:"base",class:"font-bold text-primary"},null,8,["price"])])]),_:2},1032,["transition"]))),128))]),e("div",ps,[e("table",fs,[t[22]||(t[22]=e("thead",null,[e("tr",null,[e("th",null,"Produk"),e("th",{class:"text-right"},"Harga"),e("th",{class:"text-center"},"Qty"),e("th",{class:"text-right"},"Subtotal")])],-1)),e("tbody",null,[(d(!0),m($,null,B(o.order.items,(n,p)=>(d(),y(s(b),{key:n.id,tag:"tr",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{...s(h).ios,delay:.15+p*.03}},{default:i(()=>[e("td",null,[e("div",gs,[e("span",vs,l(n.product_name),1),n.notes?(d(),m("span",xs,l(n.notes),1)):f("",!0)])]),e("td",bs,[a(k,{price:n.product_price,size:"sm"},null,8,["price"])]),e("td",hs,[a(s(K),{variant:"outline",class:"tabular-nums"},{default:i(()=>[u(l(n.quantity),1)]),_:2},1024)]),e("td",_s,[a(k,{price:n.subtotal,size:"sm",class:"font-semibold"},null,8,["price"])])]),_:2},1032,["transition"]))),128))])])]),e("div",ys,[e("div",ks,[e("div",ws,[t[23]||(t[23]=e("span",{class:"text-muted-foreground"},"Subtotal",-1)),a(k,{price:o.order.subtotal,size:"sm"},null,8,["price"])]),e("div",Cs,[t[24]||(t[24]=e("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),a(k,{price:o.order.delivery_fee,size:"sm"},null,8,["price"])]),e("div",Ss,[t[25]||(t[25]=e("span",{class:"text-lg font-bold"},"Total",-1)),a(k,{price:o.order.total,size:"lg",class:"text-xl! font-bold"},null,8,["price"])])])])])])]),_:1},8,["transition"])]),e("div",$s,[a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(h).ios,delay:s(z)(2)}},{default:i(()=>[e("div",Ps,[e("div",Us,[e("h3",null,[a(s(L)),t[26]||(t[26]=u(" Update Status ",-1))])]),e("div",Ds,[e("div",As,[e("div",Ts,[a(s(ae),{for:"status"},{default:i(()=>[...t[27]||(t[27]=[u("Status Pesanan",-1)])]),_:1}),ee(e("select",{id:"status","onUpdate:modelValue":t[3]||(t[3]=n=>v.value=n),class:"admin-select"},[(d(!0),m($,null,B(o.statuses,(n,p)=>(d(),m("option",{key:p,value:p},l(n),9,Bs))),128))],512),[[De,v.value]])]),a(I,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:i(()=>[x.value?(d(),m("div",js,[a(s(ae),{for:"cancellation_reason"},{default:i(()=>[...t[28]||(t[28]=[u(" Alasan Pembatalan ",-1),e("span",{class:"text-destructive"},"*",-1)])]),_:1}),ee(e("textarea",{id:"cancellation_reason","onUpdate:modelValue":t[4]||(t[4]=n=>U.value=n),placeholder:"Masukkan alasan pembatalan...",rows:"3",class:"admin-textarea"},null,512),[[Ae,U.value]])])):f("",!0)]),_:1}),a(s(P),{disabled:!O.value||x.value&&!U.value.trim(),class:"admin-btn-primary",onClick:J},{default:i(()=>[...t[29]||(t[29]=[u(" Update Status ",-1)])]),_:1},8,["disabled"]),e("div",Ms,[t[31]||(t[31]=e("p",{class:"mb-2 text-sm text-muted-foreground"}," Kirim notifikasi ke customer: ",-1)),a(s(P),{type:"button",variant:"outline",class:"ios-button w-full gap-2 border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",onClick:t[5]||(t[5]=n=>xe(o.order.status))},{default:i(()=>[...t[30]||(t[30]=[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1),u(" Kirim via WhatsApp ",-1)])]),_:1})])])])])]),_:1},8,["transition"]),a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(h).ios,delay:s(z)(3)}},{default:i(()=>[e("div",zs,[e("div",Ls,[e("h3",null,[a(s(H)),t[32]||(t[32]=u(" Timeline ",-1))])]),e("div",Fs,[e("div",Is,[(d(!0),m($,null,B(Z.value,(n,p)=>(d(),y(s(b),{key:n.status,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{...s(h).ios,delay:.25+p*.05},class:M(["timeline-item",{completed:n.status!=="cancelled",active:p===Z.value.length-1}])},{default:i(()=>[e("div",Ws,[(d(),y(te(fe(n.status)),{class:"h-4 w-4"}))]),e("div",Ks,[e("span",Ns,l(n.label),1),e("span",Rs,l(ge(n.timestamp)),1)])]),_:2},1032,["transition","class"]))),128))]),o.order.status==="cancelled"&&o.order.cancellation_reason?(d(),y(s(b),{key:0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:s(h).ios,class:"mt-4 rounded-xl border border-red-200 bg-red-50 p-3 dark:border-red-800 dark:bg-red-950"},{default:i(()=>[e("div",Vs,[a(s(Ze),{class:"mt-0.5 h-4 w-4 shrink-0 text-red-600 dark:text-red-400"}),e("div",null,[t[33]||(t[33]=e("p",{class:"text-sm font-medium text-red-800 dark:text-red-200"}," Alasan Pembatalan ",-1)),e("p",qs,l(o.order.cancellation_reason),1)])])]),_:1},8,["transition"])):f("",!0)])])]),_:1},8,["transition"])])]),t[34]||(t[34]=e("div",{class:"h-40 md:hidden"},null,-1))])]),_:1}),C.value?(d(),m("div",Hs,[e("div",Es,[e("div",Xs,[t[35]||(t[35]=e("p",{class:"text-xs text-muted-foreground"},"Status Sekarang",-1)),e("div",Gs,[e("span",{class:M(["admin-badge",Q(o.order.status)])},l(o.order.status_label),3),a(s(bt),{class:"h-4 w-4 text-muted-foreground"}),e("span",Os,l(o.statuses[C.value.status]),1)])]),a(s(P),{class:"h-12 shrink-0 gap-2 rounded-xl px-6",disabled:T.value,onClick:pe},{default:i(()=>[T.value?(d(),y(s(ht),{key:0,class:"h-5 w-5 animate-spin"})):(d(),y(te(C.value.icon),{key:1,class:"h-5 w-5"})),u(" "+l(C.value.label),1)]),_:1},8,["disabled"])])])):f("",!0),a(s(Be),{open:F.value,"onUpdate:open":t[6]||(t[6]=n=>F.value=n)},{default:i(()=>[a(s(je),{side:"bottom",class:"rounded-t-3xl"},{default:i(()=>[a(s(Me),null,{default:i(()=>[a(s(ze),null,{default:i(()=>[...t[36]||(t[36]=[u("Update Status Pesanan",-1)])]),_:1}),a(s(Le),null,{default:i(()=>[u(" Pilih status baru untuk pesanan "+l(o.order.order_number),1)]),_:1})]),_:1}),e("div",Qs,[(d(!0),m($,null,B(o.statuses,(n,p)=>(d(),m("button",{key:p,class:M(["flex items-center justify-between rounded-xl px-4 py-4 text-left transition-colors",[v.value===p?"bg-primary/10 text-primary":"hover:bg-muted/50"]]),onClick:ea=>{v.value=p,F.value=!1,J()}},[e("span",Js,l(n),1),v.value===p?(d(),y(s(q),{key:0,class:"h-5 w-5 text-primary"})):f("",!0)],10,Ys))),128))])]),_:1})]),_:1},8,["open"])]),_:1}),a(s(Ve),{open:w.value,"onUpdate:open":t[8]||(t[8]=n=>w.value=n)},{default:i(()=>[a(s(Ie),{class:"rounded-2xl"},{default:i(()=>[a(s(We),null,{default:i(()=>[a(s(Ke),null,{default:i(()=>[...t[37]||(t[37]=[u("Konfirmasi Update Status",-1)])]),_:1}),a(s(Ne),null,{default:i(()=>[t[38]||(t[38]=u(" Apakah Anda yakin ingin mengubah status pesanan menjadi ",-1)),e("strong",null,l(o.statuses[v.value]),1),t[39]||(t[39]=u("? ",-1)),x.value?(d(),m("span",Zs," Tindakan pembatalan tidak dapat dibatalkan. ")):f("",!0)]),_:1})]),_:1}),a(s(Re),null,{default:i(()=>[a(s(P),{variant:"outline",class:"ios-button",onClick:t[7]||(t[7]=n=>w.value=!1)},{default:i(()=>[...t[40]||(t[40]=[u(" Batal ",-1)])]),_:1}),a(s(P),{variant:x.value?"destructive":"default",class:"ios-button",onClick:be},{default:i(()=>[...t[41]||(t[41]=[u(" Ya, Lanjutkan ",-1)])]),_:1},8,["variant"])]),_:1})]),_:1})]),_:1},8,["open"]),a(qe,{open:D.value,"onUpdate:open":t[9]||(t[9]=n=>D.value=n),title:x.value?"Konfirmasi Pembatalan":"Konfirmasi Update Status",description:`Masukkan password Anda untuk ${x.value?"membatalkan":"mengupdate status"} pesanan ini.`,"confirm-label":x.value?"Batalkan Pesanan":"Update Status","confirm-variant":x.value?"destructive":"default",loading:T.value,onConfirm:he,onCancel:ke},null,8,["open","title","description","confirm-label","confirm-variant","loading"]),a(He,{open:j.value,"onUpdate:open":t[10]||(t[10]=n=>j.value=n),"new-status":A.value,"new-status-label":o.statuses[A.value]||"","order-number":o.order.order_number,"customer-name":o.order.customer_name,"whatsapp-url":o.whatsappUrls[A.value],onClose:ye,onSendWhatsApp:_e},null,8,["open","new-status","new-status-label","order-number","customer-name","whatsapp-url"])],64))}});export{Wa as default};
