import{d as O,u as W,r as Q,c as A,z as M,a as C,e as v,F as R,k as X,g as b,w as p,b as _,f as o,o as f,m as Y,q as P,i as F,j as Z,t as $,l as D}from"./app-ER5cxcBq.js";import{_ as H}from"./AnimatePresence.vue-D0ejmWbx.js";import{u as N,s as j,M as T,S as ee}from"./shopping-bag-BY6ZtFtF.js";import{H as te,P as re,_ as ae}from"./package-CsDP_40k.js";import{q,a as U,h as V}from"./index-Dp0PW41R.js";import{S as oe}from"./shopping-cart-_a805H-2.js";import{U as se}from"./user-DYDmTIwW.js";const a=e=>({url:a.url(e),method:"get"});a.definition={methods:["get","head"],url:"/cart"};a.url=e=>a.definition.url+q(e);a.get=e=>({url:a.url(e),method:"get"});a.head=e=>({url:a.url(e),method:"head"});const S=e=>({action:a.url(e),method:"get"});S.get=e=>({action:a.url(e),method:"get"});S.head=e=>({action:a.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});a.form=S;const s=e=>({url:s.url(e),method:"post"});s.definition={methods:["post"],url:"/cart"};s.url=e=>s.definition.url+q(e);s.post=e=>({url:s.url(e),method:"post"});const z=e=>({action:s.url(e),method:"post"});z.post=e=>({action:s.url(e),method:"post"});s.form=z;const n=(e,t)=>({url:n.url(e,t),method:"patch"});n.definition={methods:["patch"],url:"/cart/{cartItem}"};n.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={cartItem:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={cartItem:e.id}),Array.isArray(e)&&(e={cartItem:e[0]}),e=U(e);const l={cartItem:typeof e.cartItem=="object"?e.cartItem.id:e.cartItem};return n.definition.url.replace("{cartItem}",l.cartItem.toString()).replace(/\/+$/,"")+q(t)};n.patch=(e,t)=>({url:n.url(e,t),method:"patch"});const L=(e,t)=>({action:n.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});L.patch=(e,t)=>({action:n.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});n.form=L;const i=(e,t)=>({url:i.url(e,t),method:"delete"});i.definition={methods:["delete"],url:"/cart/{cartItem}"};i.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={cartItem:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={cartItem:e.id}),Array.isArray(e)&&(e={cartItem:e[0]}),e=U(e);const l={cartItem:typeof e.cartItem=="object"?e.cartItem.id:e.cartItem};return i.definition.url.replace("{cartItem}",l.cartItem.toString()).replace(/\/+$/,"")+q(t)};i.delete=(e,t)=>({url:i.url(e,t),method:"delete"});const K=(e,t)=>({action:i.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});K.delete=(e,t)=>({action:i.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});i.form=K;Object.assign(a,a),Object.assign(s,s),Object.assign(n,n),Object.assign(i,i);const ne={class:"ios-tabbar fixed inset-x-0 bottom-0 z-50 border-t border-border/50 md:hidden"},ie={class:"flex items-center justify-around"},_e=O({__name:"UserBottomNav",setup(e){const t=W(),l=N(),u=Q(null),d=Q(!1),y=Q(!1),I=A(()=>t.props.cart?.total_items??0),w=A(()=>t.props.active_orders?.count??0);M(I,(m,g)=>{m>g&&(d.value=!0,l.success(),setTimeout(()=>{d.value=!1},400))}),M(w,(m,g)=>{m!==g&&(y.value=!0,l.light(),setTimeout(()=>{y.value=!1},400))});const c=A(()=>t.url),h=A(()=>[{id:"home",title:"Beranda",href:V(),icon:te,badge:0,badgeType:"default",isActive:c.value==="/"||c.value.startsWith("/products")},{id:"orders",title:"Pesanan",href:"/account/orders",icon:re,badge:w.value,badgeType:"orders",isActive:c.value.startsWith("/account/orders")},{id:"cart",title:"Keranjang",href:a(),icon:oe,badge:I.value,badgeType:"cart",isActive:c.value.startsWith("/cart")||c.value.startsWith("/checkout")},{id:"account",title:"Akun",href:"/account",icon:se,badge:0,badgeType:"default",isActive:c.value==="/account"||c.value.startsWith("/settings")||c.value.startsWith("/login")||c.value.startsWith("/register")}]);function x(m){u.value=m,l.light()}function k(){u.value=null}function G(){l.medium()}const B={type:"spring",...j.bouncy},J={type:"spring",...j.snappy};return(m,g)=>(f(),C("nav",ne,[v("div",ie,[(f(!0),C(R,null,X(h.value,r=>(f(),b(o(D),{key:r.id,href:r.href,class:P(["relative flex flex-1 flex-col items-center gap-1 py-3",[r.isActive?"text-primary":"text-muted-foreground"]]),onMousedown:E=>x(r.id),onMouseup:k,onMouseleave:k,onTouchstartPassive:E=>x(r.id),onTouchend:k,onTouchcancel:k,onClick:g[0]||(g[0]=E=>G())},{default:p(()=>[_(o(T),{animate:{scale:u.value===r.id?.9:r.isActive?1.1:1,opacity:u.value===r.id?.7:1},transition:J,class:"relative"},{default:p(()=>[(f(),b(Y(r.icon),{class:P(["h-6 w-6 transition-colors duration-200",[r.isActive?"text-primary":"text-muted-foreground"]]),"stroke-width":r.isActive?2.5:2},null,8,["class","stroke-width"])),_(o(H),null,{default:p(()=>[r.badge&&r.badge>0?(f(),b(o(T),{key:0,initial:{scale:0},animate:{scale:d.value&&r.badgeType==="cart"||y.value&&r.badgeType==="orders"?[1,1.3,1]:1},exit:{scale:0},transition:B,class:"absolute -right-2.5 -top-1.5"},{default:p(()=>[_(o(ae),{class:P(["flex h-5 min-w-5 items-center justify-center rounded-full px-1.5 text-[10px] font-bold shadow-sm ring-2 ring-background",r.badgeType==="orders"?"bg-gradient-to-r from-brand-gold-500 to-brand-gold-600 text-white":"bg-primary text-primary-foreground"])},{default:p(()=>[Z($(r.badge>99?"99+":r.badge),1)]),_:2},1032,["class"])]),_:2},1032,["animate"])):F("",!0)]),_:2},1024)]),_:2},1032,["animate"]),v("span",{class:P(["text-[11px] font-medium transition-all duration-200",[r.isActive?"text-primary font-semibold":"text-muted-foreground"]])},$(r.title),3),_(o(H),null,{default:p(()=>[r.isActive?(f(),b(o(T),{key:0,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:B,class:"absolute -bottom-0.5 h-1 w-1 rounded-full bg-primary"})):F("",!0)]),_:2},1024)]),_:2},1032,["href","class","onMousedown","onTouchstartPassive"]))),128))])]))}}),le={class:"h-9 w-9 sm:h-10 sm:w-10"},ue=["src","alt"],ce={class:"flex flex-col"},de={class:"text-lg font-bold text-foreground sm:text-xl"},me={class:"hidden text-[10px] font-medium text-brand-gold sm:block"},xe=O({__name:"StoreHeader",setup(e){const t=W(),l=N(),u=A(()=>t.props.store??{name:"Simple Store",tagline:"Premium Quality Products",logo:null}),d=Q(!1);function y(){d.value=!0,l.light()}const I={type:"spring",...j.ios},w={type:"spring",...j.snappy};return(c,h)=>(f(),b(o(T),{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:I},{default:p(()=>[_(o(T),{animate:{scale:d.value?.97:1},transition:w},{default:p(()=>[_(o(D),{href:o(V)(),class:"flex items-center gap-2 transition-transform sm:gap-3",onMousedown:y,onMouseup:h[0]||(h[0]=x=>d.value=!1),onMouseleave:h[1]||(h[1]=x=>d.value=!1),onTouchstartPassive:y,onTouchend:h[2]||(h[2]=x=>d.value=!1)},{default:p(()=>[v("div",le,[u.value.logo?(f(),C("img",{key:0,src:`/storage/${u.value.logo}`,alt:u.value.name,class:"h-full w-full rounded-xl object-contain"},null,8,ue)):(f(),b(o(ee),{key:1,class:"h-4 w-4 text-white sm:h-5 sm:w-5"}))]),v("div",ce,[v("span",de,$(u.value.name),1),v("span",me,$(u.value.tagline),1)])]),_:1},8,["href"])]),_:1},8,["animate"])]),_:1}))}});export{xe as _,_e as a,a as s};
