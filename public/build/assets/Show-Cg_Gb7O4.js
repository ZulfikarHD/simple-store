import{d as xt,u as bt,c as C,r as S,a as m,b as a,f as s,h as _t,w as i,i as f,e as t,t as r,q as T,T as B,o as l,j as u,F as $,k as j,g as h,v as E,B as ht,x as yt,m as H,n as R}from"./app-CAYXbVeM.js";import{u as kt,h as wt,i as Ct,j as St,k as $t,l as Pt,_ as Dt,a as Ut,b as At,c as jt,d as Tt,e as Mt,f as zt,g as Bt}from"./AppLayout.vue_vue_type_script_setup_true_lang-D7RAfu8I.js";import{_ as P}from"./index-1PViEHjy.js";import{P as O,_ as L}from"./package-BmKyDxuD.js";import{_ as Q}from"./Label.vue_vue_type_script_setup_true_lang-CFEy8RI-.js";import{_ as y}from"./PriceDisplay.vue_vue_type_script_setup_true_lang-BdsoVryV.js";import{_ as Lt}from"./PullToRefresh.vue_vue_type_script_setup_true_lang-DSELG3QB.js";import{d as It,c as X,f as Kt}from"./index-7PYCkdjy.js";import{c as at,u as Ft,M as b,s as _,a as M,S as Nt}from"./shopping-bag-BiuUpbGV.js";import{T as Y}from"./truck-Bzr_we2K.js";import{C as G}from"./chef-hat-CnHgiqlF.js";import{C as J}from"./check-QY5SULjT.js";import{A as Vt}from"./arrow-left-LAf4w-TY.js";import{U as Z}from"./user-B-ACHF0u.js";import{P as tt}from"./phone-Du7T9odY.js";import{M as Wt}from"./map-pin-Bie3Op62.js";import{F as qt}from"./file-text-B6pSlSN9.js";import{C as et}from"./circle-check-C1mshB5Q.js";import{C as st}from"./clock-TpdgirmV.js";import{M as Et}from"./message-square-CLkcVHBZ.js";import{C as Ht}from"./chevron-right-CgWU_2T3.js";import{L as Rt}from"./loader-circle-Zm1edA7y.js";import{C as Ot}from"./circle-x-cREPuhfO.js";import"./Input.vue_vue_type_script_setup_true_lang-DFL0mwt6.js";import"./VisuallyHidden-CfGureH5.js";import"./useForwardExpose-BbFiiHjx.js";import"./RovingFocusGroup-UBavOkDQ.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-Dp0PW41R.js";import"./settings-BKt9DXgC.js";import"./log-out-CxEAptks.js";import"./x-DBhWDGlB.js";import"./lock-CCQ2jy2A.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Qt=at("CircleDotIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);const Xt=at("NavigationIcon",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),Yt={class:"admin-page flex flex-col gap-6 p-4 md:p-6"},Gt={class:"flex items-center gap-3"},Jt={class:"flex flex-col gap-1"},Zt={class:"flex items-center gap-3"},te={class:"text-xl font-bold tracking-tight md:text-2xl"},ee={key:0,class:"rounded-2xl border border-green-200 bg-green-50 p-4 text-green-800 dark:border-green-800 dark:bg-green-950 dark:text-green-200"},se={key:0,class:"rounded-2xl border border-red-200 bg-red-50 p-4 text-red-800 dark:border-red-800 dark:bg-red-950 dark:text-red-200"},ae={class:"grid gap-6 lg:grid-cols-3"},ne={class:"flex flex-col gap-6 lg:col-span-2"},ie={class:"admin-form-section"},oe={class:"admin-form-section-header"},re={class:"admin-form-section-content"},le={class:"grid gap-4 sm:grid-cols-2"},de={class:"flex items-start gap-3"},ue={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-primary/10"},ce={class:"min-w-0 flex-1"},me={class:"truncate font-semibold"},pe={class:"flex items-start gap-3"},fe={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-green-100 dark:bg-green-900/40"},ge={class:"min-w-0 flex-1"},ve={class:"font-semibold"},xe={class:"mt-2 flex gap-2"},be={key:0,class:"flex items-start gap-3 sm:col-span-2"},_e={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-orange-100 dark:bg-orange-900/40"},he={class:"min-w-0 flex-1"},ye={class:"font-medium"},ke={key:1,class:"flex items-start gap-3 sm:col-span-2"},we={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-muted"},Ce={class:"min-w-0 flex-1"},Se={class:"font-medium"},$e={class:"admin-form-section"},Pe={class:"admin-form-section-header"},De={class:"flex items-center justify-between"},Ue={class:"p-0"},Ae={class:"flex flex-col gap-3 p-4 md:hidden"},je={class:"flex items-start justify-between gap-3"},Te={class:"min-w-0 flex-1"},Me={class:"font-semibold leading-snug"},ze={key:0,class:"mt-1 text-sm text-muted-foreground"},Be={class:"mt-3 flex items-center justify-between border-t border-border/50 pt-3"},Le={class:"text-sm text-muted-foreground"},Ie={class:"hidden overflow-x-auto md:block"},Ke={class:"admin-table"},Fe={class:"flex flex-col gap-0.5"},Ne={class:"font-medium"},Ve={key:0,class:"text-sm text-muted-foreground"},We={class:"text-right"},qe={class:"text-center"},Ee={class:"text-right"},He={class:"border-t bg-muted/30 p-5"},Re={class:"flex flex-col gap-3"},Oe={class:"flex justify-between text-sm"},Qe={class:"flex justify-between text-sm"},Xe={class:"flex justify-between border-t pt-3"},Ye={class:"flex flex-col gap-6"},Ge={class:"admin-form-section"},Je={class:"admin-form-section-header"},Ze={class:"admin-form-section-content"},ts={class:"flex flex-col gap-4"},es={class:"admin-input-group"},ss=["value"],as={key:0,class:"admin-input-group"},ns={class:"mt-2 border-t border-border pt-4"},is={class:"admin-form-section"},os={class:"admin-form-section-header"},rs={class:"admin-form-section-content"},ls={class:"status-timeline"},ds={class:"timeline-dot"},us={class:"flex flex-col"},cs={class:"font-medium"},ms={class:"text-sm text-muted-foreground"},ps={class:"flex items-start gap-2"},fs={class:"text-sm text-red-700 dark:text-red-300"},gs={key:0,class:"fixed inset-x-0 bottom-0 z-40 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80 md:hidden",style:{"padding-bottom":"env(safe-area-inset-bottom)"}},vs={class:"flex items-center gap-3 p-4"},xs={class:"min-w-0 flex-1"},bs={class:"flex items-center gap-2"},_s={class:"text-sm font-medium text-primary"},hs={class:"mt-4 flex flex-col gap-2"},ys=["onClick"],ks={class:"font-medium"},ws={key:0,class:"mt-2 block text-red-600"},ia=xt({__name:"Show",props:{order:{},statuses:{},whatsappUrls:{}},setup(o){const g=Ft(),{openWhatsApp:nt}=kt(),c=o,I=bt(),it=[{title:"Dashboard",href:It().url},{title:"Pesanan",href:X().url},{title:c.order.order_number,href:"#"}],K=C(()=>I.props.flash?.success),F=C(()=>I.props.flash?.error),v=S(c.order.status),D=S(""),k=S(!1),U=S(!1),A=S(!1),z=S(!1),w=C(()=>{switch(c.order.status){case"pending":return{status:"confirmed",label:"Konfirmasi",icon:J};case"confirmed":return{status:"preparing",label:"Proses",icon:G};case"preparing":return{status:"ready",label:"Siap Kirim",icon:O};case"ready":return{status:"delivered",label:"Selesai",icon:Y};default:return null}});function ot(){w.value&&(g.medium(),v.value=w.value.status,k.value=!0)}const x=C(()=>v.value==="cancelled"),N=C(()=>v.value!==c.order.status);function V(d){switch(d){case"pending":return"admin-badge--pending";case"confirmed":return"admin-badge--confirmed";case"preparing":return"bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-300";case"ready":return"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/40 dark:text-cyan-300";case"delivered":return"admin-badge--success";case"cancelled":return"admin-badge--destructive";default:return""}}function rt(d){switch(d){case"created":return st;case"confirmed":return et;case"preparing":return G;case"ready":return O;case"delivered":return Y;case"cancelled":return Ot;default:return Qt}}function lt(d){return d?new Date(d).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function dt(d){g.medium(),nt(d)}function ut(d){g.medium();const e=c.whatsappUrls[d];e&&window.open(e,"_blank")}function W(){N.value&&(x.value&&!D.value.trim()||(g.medium(),k.value=!0))}function ct(){k.value=!1,U.value=!0}function mt(){g.heavy(),A.value=!0,U.value=!1,R.patch(Kt(c.order.id).url,{status:v.value,cancellation_reason:x.value?D.value:null},{onSuccess:()=>{g.success()},onError:()=>{g.error()},onFinish:()=>{A.value=!1}})}function pt(){U.value=!1}const q=C(()=>{const d=[];return c.order.timestamps.created_at&&d.push({status:"created",label:"Pesanan Dibuat",timestamp:c.order.timestamps.created_at,active:!0}),c.order.timestamps.confirmed_at&&d.push({status:"confirmed",label:"Dikonfirmasi",timestamp:c.order.timestamps.confirmed_at,active:!0}),c.order.timestamps.preparing_at&&d.push({status:"preparing",label:"Sedang Diproses",timestamp:c.order.timestamps.preparing_at,active:!0}),c.order.timestamps.ready_at&&d.push({status:"ready",label:"Siap Dikirim",timestamp:c.order.timestamps.ready_at,active:!0}),c.order.timestamps.delivered_at&&d.push({status:"delivered",label:"Terkirim",timestamp:c.order.timestamps.delivered_at,active:!0}),c.order.timestamps.cancelled_at&&d.push({status:"cancelled",label:"Dibatalkan",timestamp:c.order.timestamps.cancelled_at,active:!0}),d});function ft(){g.light(),R.visit(X().url)}function gt(d){g.medium();const e=encodeURIComponent(d);window.open(`https://www.google.com/maps/search/?api=1&query=${e}`,"_blank")}function vt(d){g.medium(),window.location.href=`tel:${d}`}return(d,e)=>(l(),m($,null,[a(s(_t),{title:`Detail Pesanan - ${o.order.order_number}`},null,8,["title"]),a(Dt,{breadcrumbs:it},{default:i(()=>[a(Lt,null,{default:i(()=>[t("div",Yt,[a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:s(_).ios,class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},{default:i(()=>[t("div",Gt,[a(s(P),{variant:"ghost",size:"icon",class:"ios-button h-10 w-10 shrink-0",onClick:ft},{default:i(()=>[a(s(Vt),{class:"h-5 w-5"})]),_:1}),t("div",Jt,[t("div",Zt,[t("h1",te,r(o.order.order_number),1),a(s(b),{initial:{scale:0},animate:{scale:1},transition:s(_).bouncy},{default:i(()=>[t("span",{class:T(["admin-badge text-sm",V(o.order.status)])},r(o.order.status_label),3)]),_:1},8,["transition"])]),e[10]||(e[10]=t("p",{class:"text-sm text-muted-foreground"}," Detail pesanan dan update status ",-1))])])]),_:1},8,["transition"]),a(B,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:i(()=>[K.value?(l(),m("div",ee,r(K.value),1)):f("",!0)]),_:1}),a(B,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:i(()=>[F.value?(l(),m("div",se,r(F.value),1)):f("",!0)]),_:1}),t("div",ae,[t("div",ne,[a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(_).ios,delay:s(M)(0)}},{default:i(()=>[t("div",ie,[t("div",oe,[t("h3",null,[a(s(Z)),e[11]||(e[11]=u(" Informasi Customer ",-1))])]),t("div",re,[t("div",le,[t("div",de,[t("div",ue,[a(s(Z),{class:"h-5 w-5 text-primary"})]),t("div",ce,[e[12]||(e[12]=t("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Nama",-1)),t("p",me,r(o.order.customer_name),1)])]),t("div",pe,[t("div",fe,[a(s(tt),{class:"h-5 w-5 text-green-600 dark:text-green-400"})]),t("div",ge,[e[15]||(e[15]=t("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Telepon",-1)),t("p",ve,r(o.order.customer_phone),1),t("div",xe,[t("button",{class:"ios-button flex h-9 items-center gap-1.5 rounded-lg bg-green-600 px-3 text-sm font-medium text-white active:scale-95",onClick:e[0]||(e[0]=n=>dt(o.order.customer_phone))},[...e[13]||(e[13]=[t("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1),t("span",{class:"hidden sm:inline"},"WhatsApp",-1)])]),t("button",{class:"ios-button flex h-9 items-center gap-1.5 rounded-lg border border-border bg-background px-3 text-sm font-medium active:scale-95",onClick:e[1]||(e[1]=n=>vt(o.order.customer_phone))},[a(s(tt),{class:"h-4 w-4"}),e[14]||(e[14]=t("span",{class:"hidden sm:inline"},"Telepon",-1))])])])]),o.order.customer_address?(l(),m("div",be,[t("div",_e,[a(s(Wt),{class:"h-5 w-5 text-orange-600 dark:text-orange-400"})]),t("div",he,[e[17]||(e[17]=t("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Alamat",-1)),t("p",ye,r(o.order.customer_address),1),t("button",{class:"mt-2 flex h-9 items-center gap-1.5 rounded-lg border border-orange-200 bg-orange-50 px-3 text-sm font-medium text-orange-700 active:scale-95 dark:border-orange-800 dark:bg-orange-950 dark:text-orange-300",onClick:e[2]||(e[2]=n=>gt(o.order.customer_address))},[a(s(Xt),{class:"h-4 w-4"}),e[16]||(e[16]=u(" Buka di Maps ",-1))])])])):f("",!0),o.order.notes?(l(),m("div",ke,[t("div",we,[a(s(qt),{class:"h-5 w-5 text-muted-foreground"})]),t("div",Ce,[e[18]||(e[18]=t("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Catatan",-1)),t("p",Se,r(o.order.notes),1)])])):f("",!0)])])])]),_:1},8,["transition"]),a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(_).ios,delay:s(M)(1)}},{default:i(()=>[t("div",$e,[t("div",Pe,[t("div",De,[t("h3",null,[a(s(Nt)),e[19]||(e[19]=u(" Detail Pesanan ",-1))]),a(s(L),{variant:"secondary",class:"tabular-nums"},{default:i(()=>[u(r(o.order.items_count)+" item ",1)]),_:1})])]),t("div",Ue,[t("div",Ae,[(l(!0),m($,null,j(o.order.items,(n,p)=>(l(),h(s(b),{key:n.id,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{...s(_).ios,delay:.15+p*.03},class:"rounded-xl border bg-muted/20 p-4"},{default:i(()=>[t("div",je,[t("div",Te,[t("h4",Me,r(n.product_name),1),n.notes?(l(),m("p",ze,r(n.notes),1)):f("",!0)]),a(s(L),{variant:"secondary",class:"shrink-0 tabular-nums"},{default:i(()=>[u(" x"+r(n.quantity),1)]),_:2},1024)]),t("div",Be,[t("span",Le,[a(y,{price:n.product_price,size:"sm"},null,8,["price"]),e[20]||(e[20]=u(" / item ",-1))]),a(y,{price:n.subtotal,size:"base",class:"font-bold text-primary"},null,8,["price"])])]),_:2},1032,["transition"]))),128))]),t("div",Ie,[t("table",Ke,[e[21]||(e[21]=t("thead",null,[t("tr",null,[t("th",null,"Produk"),t("th",{class:"text-right"},"Harga"),t("th",{class:"text-center"},"Qty"),t("th",{class:"text-right"},"Subtotal")])],-1)),t("tbody",null,[(l(!0),m($,null,j(o.order.items,(n,p)=>(l(),h(s(b),{key:n.id,tag:"tr",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{...s(_).ios,delay:.15+p*.03}},{default:i(()=>[t("td",null,[t("div",Fe,[t("span",Ne,r(n.product_name),1),n.notes?(l(),m("span",Ve,r(n.notes),1)):f("",!0)])]),t("td",We,[a(y,{price:n.product_price,size:"sm"},null,8,["price"])]),t("td",qe,[a(s(L),{variant:"outline",class:"tabular-nums"},{default:i(()=>[u(r(n.quantity),1)]),_:2},1024)]),t("td",Ee,[a(y,{price:n.subtotal,size:"sm",class:"font-semibold"},null,8,["price"])])]),_:2},1032,["transition"]))),128))])])]),t("div",He,[t("div",Re,[t("div",Oe,[e[22]||(e[22]=t("span",{class:"text-muted-foreground"},"Subtotal",-1)),a(y,{price:o.order.subtotal,size:"sm"},null,8,["price"])]),t("div",Qe,[e[23]||(e[23]=t("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),a(y,{price:o.order.delivery_fee,size:"sm"},null,8,["price"])]),t("div",Xe,[e[24]||(e[24]=t("span",{class:"text-lg font-bold"},"Total",-1)),a(y,{price:o.order.total,size:"lg",class:"text-xl! font-bold"},null,8,["price"])])])])])])]),_:1},8,["transition"])]),t("div",Ye,[a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(_).ios,delay:s(M)(2)}},{default:i(()=>[t("div",Ge,[t("div",Je,[t("h3",null,[a(s(et)),e[25]||(e[25]=u(" Update Status ",-1))])]),t("div",Ze,[t("div",ts,[t("div",es,[a(s(Q),{for:"status"},{default:i(()=>[...e[26]||(e[26]=[u("Status Pesanan",-1)])]),_:1}),E(t("select",{id:"status","onUpdate:modelValue":e[3]||(e[3]=n=>v.value=n),class:"admin-select"},[(l(!0),m($,null,j(o.statuses,(n,p)=>(l(),m("option",{key:p,value:p},r(n),9,ss))),128))],512),[[ht,v.value]])]),a(B,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:i(()=>[x.value?(l(),m("div",as,[a(s(Q),{for:"cancellation_reason"},{default:i(()=>[...e[27]||(e[27]=[u(" Alasan Pembatalan ",-1),t("span",{class:"text-destructive"},"*",-1)])]),_:1}),E(t("textarea",{id:"cancellation_reason","onUpdate:modelValue":e[4]||(e[4]=n=>D.value=n),placeholder:"Masukkan alasan pembatalan...",rows:"3",class:"admin-textarea"},null,512),[[yt,D.value]])])):f("",!0)]),_:1}),a(s(P),{disabled:!N.value||x.value&&!D.value.trim(),class:"admin-btn-primary",onClick:W},{default:i(()=>[...e[28]||(e[28]=[u(" Update Status ",-1)])]),_:1},8,["disabled"]),t("div",ns,[e[30]||(e[30]=t("p",{class:"mb-2 text-sm text-muted-foreground"}," Kirim notifikasi ke customer: ",-1)),a(s(P),{type:"button",variant:"outline",class:"ios-button w-full gap-2 border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",onClick:e[5]||(e[5]=n=>ut(o.order.status))},{default:i(()=>[...e[29]||(e[29]=[t("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1),u(" Kirim via WhatsApp ",-1)])]),_:1})])])])])]),_:1},8,["transition"]),a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(_).ios,delay:s(M)(3)}},{default:i(()=>[t("div",is,[t("div",os,[t("h3",null,[a(s(st)),e[31]||(e[31]=u(" Timeline ",-1))])]),t("div",rs,[t("div",ls,[(l(!0),m($,null,j(q.value,(n,p)=>(l(),h(s(b),{key:n.status,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{...s(_).ios,delay:.25+p*.05},class:T(["timeline-item",{completed:n.status!=="cancelled",active:p===q.value.length-1}])},{default:i(()=>[t("div",ds,[(l(),h(H(rt(n.status)),{class:"h-4 w-4"}))]),t("div",us,[t("span",cs,r(n.label),1),t("span",ms,r(lt(n.timestamp)),1)])]),_:2},1032,["transition","class"]))),128))]),o.order.status==="cancelled"&&o.order.cancellation_reason?(l(),h(s(b),{key:0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:s(_).ios,class:"mt-4 rounded-xl border border-red-200 bg-red-50 p-3 dark:border-red-800 dark:bg-red-950"},{default:i(()=>[t("div",ps,[a(s(Et),{class:"mt-0.5 h-4 w-4 shrink-0 text-red-600 dark:text-red-400"}),t("div",null,[e[32]||(e[32]=t("p",{class:"text-sm font-medium text-red-800 dark:text-red-200"}," Alasan Pembatalan ",-1)),t("p",fs,r(o.order.cancellation_reason),1)])])]),_:1},8,["transition"])):f("",!0)])])]),_:1},8,["transition"])])]),e[33]||(e[33]=t("div",{class:"h-40 md:hidden"},null,-1))])]),_:1}),w.value?(l(),m("div",gs,[t("div",vs,[t("div",xs,[e[34]||(e[34]=t("p",{class:"text-xs text-muted-foreground"},"Status Sekarang",-1)),t("div",bs,[t("span",{class:T(["admin-badge",V(o.order.status)])},r(o.order.status_label),3),a(s(Ht),{class:"h-4 w-4 text-muted-foreground"}),t("span",_s,r(o.statuses[w.value.status]),1)])]),a(s(P),{class:"h-12 shrink-0 gap-2 rounded-xl px-6",disabled:A.value,onClick:ot},{default:i(()=>[A.value?(l(),h(s(Rt),{key:0,class:"h-5 w-5 animate-spin"})):(l(),h(H(w.value.icon),{key:1,class:"h-5 w-5"})),u(" "+r(w.value.label),1)]),_:1},8,["disabled"])])])):f("",!0),a(s(wt),{open:z.value,"onUpdate:open":e[6]||(e[6]=n=>z.value=n)},{default:i(()=>[a(s(Ct),{side:"bottom",class:"rounded-t-3xl"},{default:i(()=>[a(s(St),null,{default:i(()=>[a(s($t),null,{default:i(()=>[...e[35]||(e[35]=[u("Update Status Pesanan",-1)])]),_:1}),a(s(Pt),null,{default:i(()=>[u(" Pilih status baru untuk pesanan "+r(o.order.order_number),1)]),_:1})]),_:1}),t("div",hs,[(l(!0),m($,null,j(o.statuses,(n,p)=>(l(),m("button",{key:p,class:T(["flex items-center justify-between rounded-xl px-4 py-4 text-left transition-colors",[v.value===p?"bg-primary/10 text-primary":"hover:bg-muted/50"]]),onClick:Cs=>{v.value=p,z.value=!1,W()}},[t("span",ks,r(n),1),v.value===p?(l(),h(s(J),{key:0,class:"h-5 w-5 text-primary"})):f("",!0)],10,ys))),128))])]),_:1})]),_:1},8,["open"])]),_:1}),a(s(zt),{open:k.value,"onUpdate:open":e[8]||(e[8]=n=>k.value=n)},{default:i(()=>[a(s(Ut),{class:"rounded-2xl"},{default:i(()=>[a(s(At),null,{default:i(()=>[a(s(jt),null,{default:i(()=>[...e[36]||(e[36]=[u("Konfirmasi Update Status",-1)])]),_:1}),a(s(Tt),null,{default:i(()=>[e[37]||(e[37]=u(" Apakah Anda yakin ingin mengubah status pesanan menjadi ",-1)),t("strong",null,r(o.statuses[v.value]),1),e[38]||(e[38]=u("? ",-1)),x.value?(l(),m("span",ws," Tindakan pembatalan tidak dapat dibatalkan. ")):f("",!0)]),_:1})]),_:1}),a(s(Mt),null,{default:i(()=>[a(s(P),{variant:"outline",class:"ios-button",onClick:e[7]||(e[7]=n=>k.value=!1)},{default:i(()=>[...e[39]||(e[39]=[u(" Batal ",-1)])]),_:1}),a(s(P),{variant:x.value?"destructive":"default",class:"ios-button",onClick:ct},{default:i(()=>[...e[40]||(e[40]=[u(" Ya, Lanjutkan ",-1)])]),_:1},8,["variant"])]),_:1})]),_:1})]),_:1},8,["open"]),a(Bt,{open:U.value,"onUpdate:open":e[9]||(e[9]=n=>U.value=n),title:x.value?"Konfirmasi Pembatalan":"Konfirmasi Update Status",description:`Masukkan password Anda untuk ${x.value?"membatalkan":"mengupdate status"} pesanan ini.`,"confirm-label":x.value?"Batalkan Pesanan":"Update Status","confirm-variant":x.value?"destructive":"default",loading:A.value,onConfirm:mt,onCancel:pt},null,8,["open","title","description","confirm-label","confirm-variant","loading"])],64))}});export{ia as default};
