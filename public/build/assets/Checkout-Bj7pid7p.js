import{d as O,u as q,c as j,r as F,a as m,b as a,e,w as o,f as s,h as H,g as v,j as u,l as w,F as M,i as h,o as l,q as U,t as i,k as G,D as Q,E as Y}from"./app-C_et5Nii.js";import{_ as Z}from"./AnimatePresence.vue-BQXis7Om.js";import{u as J,d as X,s as D,M as d}from"./shopping-bag-BAFdhrfu.js";import{_ as tt,s as et,a as st}from"./StoreHeader.vue_vue_type_script_setup_true_lang-mz7I-78f.js";import{a as at}from"./CheckoutController-BPHuwCVz.js";import{_ as ot}from"./CartCounter.vue_vue_type_script_setup_true_lang-BpHRhu7I.js";import{_ as nt}from"./index-Bu5ZuFCB.js";import{_ as N}from"./Input.vue_vue_type_script_setup_true_lang-DwE1W5cy.js";import{_ as $}from"./Label.vue_vue_type_script_setup_true_lang-Cf5ayH9F.js";import{A as rt}from"./arrow-left-YFzySl7G.js";import{C as it}from"./circle-alert-D4Ov3NSN.js";import{U as lt}from"./user-CSQGuhUU.js";import{M as dt}from"./map-pin-DEcaxzAd.js";import{P as L}from"./package-DD18sG6K.js";import{L as ut}from"./loader-circle-CQnpU841.js";import{C as mt}from"./circle-check-big-BOVf0M-_.js";import"./index-Dp0PW41R.js";import"./CartController-1jpe7Y2F.js";import"./useForwardExpose-DTqPGL2t.js";const ct={class:"min-h-screen bg-background"},pt={class:"ios-navbar fixed inset-x-0 top-0 z-50 border-b border-brand-blue-200/30 dark:border-brand-blue-800/30"},ft={class:"mx-auto flex h-14 max-w-7xl items-center justify-between px-4 sm:h-16 sm:px-6 lg:px-8"},xt={class:"flex items-center gap-2 sm:gap-3"},bt={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 sm:py-8 lg:px-8"},gt={class:"space-y-4 sm:space-y-6 lg:col-span-2"},yt={class:"flex items-center gap-2 text-destructive"},vt={class:"text-sm font-medium sm:text-base"},ht={class:"mb-4 flex items-center gap-2 text-base font-semibold text-foreground sm:mb-6 sm:text-lg"},kt={class:"space-y-4"},_t={class:"space-y-2"},wt={key:0,class:"animate-ios-shake text-sm text-destructive"},$t={class:"space-y-2"},Pt={key:0,class:"animate-ios-shake text-sm text-destructive"},Ct={class:"mb-4 flex items-center gap-2 text-base font-semibold text-foreground sm:mb-6 sm:text-lg"},Ft={class:"space-y-4"},Mt={class:"space-y-2"},Dt=["aria-invalid"],Bt={key:0,class:"animate-ios-shake text-sm text-destructive"},At={class:"space-y-2"},Tt=["aria-invalid"],jt={key:0,class:"animate-ios-shake text-sm text-destructive"},Nt={class:"premium-card sticky top-24 rounded-2xl p-6"},Lt={class:"mb-4 flex items-center gap-2 text-lg font-semibold text-foreground"},St={class:"ios-scroll mb-4 max-h-64 space-y-3 overflow-y-auto"},It={class:"h-12 w-12 shrink-0 overflow-hidden rounded-lg bg-muted"},Rt=["src","alt"],Wt={key:1,class:"flex h-full w-full items-center justify-center"},Et={class:"min-w-0 flex-1"},Vt={class:"truncate text-sm font-medium text-foreground"},zt={class:"text-xs text-muted-foreground"},Kt={class:"text-sm font-medium text-foreground"},Ot={class:"space-y-3"},qt={class:"flex items-center justify-between text-sm"},Ht={class:"text-muted-foreground"},Ut={class:"font-medium text-foreground"},Gt={class:"flex items-center justify-between rounded-xl bg-gradient-to-r from-brand-blue-50 to-brand-gold-50 p-3 dark:from-brand-blue-900/30 dark:to-brand-gold-900/20"},Qt={class:"price-tag text-xl font-bold"},Yt={class:"mt-16 hidden border-t border-brand-blue-100 bg-gradient-to-b from-brand-blue-50/50 to-white dark:border-brand-blue-900/30 dark:from-brand-blue-900/20 dark:to-background md:block"},Zt={class:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8"},Jt={class:"flex flex-col items-center gap-2"},Xt={class:"text-center text-sm text-muted-foreground"},te={class:"text-xs text-brand-gold"},he=O({__name:"Checkout",props:{cart:{},customer:{}},setup(c){const S=c,I=q(),P=j(()=>I.props.store??{name:"Simple Store",tagline:"Premium Quality Products",logo:null}),B=J(),{shakeClass:R,shake:W}=X(),p=F(!1),f=F(!1),x=F(null),A=j(()=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(S.cart.subtotal));function T(y){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(y)}function E(){B.error(),W()}function k(y){x.value=y,B.selection()}function _(){x.value=null}const b={type:"spring",...D.ios},V={type:"spring",...D.bouncy},g={type:"spring",...D.snappy};return(y,t)=>(l(),m(M,null,[a(s(H),{title:`Checkout - ${P.value.name}`},{default:o(()=>[...t[14]||(t[14]=[e("link",{rel:"preconnect",href:"https://rsms.me/"},null,-1),e("link",{rel:"stylesheet",href:"https://rsms.me/inter/inter.css"},null,-1)])]),_:1},8,["title"]),e("div",ct,[e("header",pt,[e("div",ft,[a(tt),e("nav",xt,[a(ot,{count:c.cart.total_items},null,8,["count"]),y.$page.props.auth.user?(l(),v(s(w),{key:0,href:"/dashboard",class:"ios-button hidden rounded-xl bg-primary px-4 py-2.5 text-sm font-medium text-primary-foreground shadow-sm sm:inline-flex"},{default:o(()=>[...t[15]||(t[15]=[u(" Dashboard ",-1)])]),_:1})):(l(),m(M,{key:1},[a(s(w),{href:"/login",class:"ios-button hidden rounded-xl px-4 py-2.5 text-sm font-medium text-foreground sm:inline-flex"},{default:o(()=>[...t[16]||(t[16]=[u(" Masuk ",-1)])]),_:1}),a(s(w),{href:"/register",class:"ios-button hidden rounded-xl bg-primary px-4 py-2.5 text-sm font-medium text-primary-foreground shadow-sm sm:inline-flex"},{default:o(()=>[...t[17]||(t[17]=[u(" Daftar ",-1)])]),_:1})],64))])])]),t[33]||(t[33]=e("div",{class:"h-14 sm:h-16"},null,-1)),e("main",bt,[a(s(d),{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:b},{default:o(()=>[a(s(d),{animate:{scale:p.value?.95:1,opacity:p.value?.7:1},transition:g},{default:o(()=>[a(s(w),{href:s(et)(),class:"ios-button mb-4 inline-flex h-11 items-center gap-2 rounded-xl px-3 text-sm text-muted-foreground hover:bg-accent hover:text-foreground sm:mb-6 sm:h-auto sm:px-0",onMousedown:t[0]||(t[0]=n=>p.value=!0),onMouseup:t[1]||(t[1]=n=>p.value=!1),onMouseleave:t[2]||(t[2]=n=>p.value=!1),onTouchstartPassive:t[3]||(t[3]=n=>p.value=!0),onTouchend:t[4]||(t[4]=n=>p.value=!1)},{default:o(()=>[a(s(rt),{class:"h-4 w-4"}),t[18]||(t[18]=u(" Kembali ke Keranjang ",-1))]),_:1},8,["href"])]),_:1},8,["animate"])]),_:1}),a(s(d),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...b,delay:.05},class:"mb-6 sm:mb-8"},{default:o(()=>[...t[19]||(t[19]=[e("h1",{class:"text-2xl font-bold tracking-tight text-foreground sm:text-3xl"}," Checkout ",-1),e("p",{class:"mt-1 text-sm text-muted-foreground sm:mt-2 sm:text-base"}," Lengkapi data pengiriman untuk melanjutkan pesanan ",-1)])]),_:1},8,["transition"]),a(s(Y),Q(s(at).form(),{class:"grid gap-6 lg:grid-cols-3 lg:gap-8",onError:E}),{default:o(({errors:n,processing:C,hasErrors:z})=>[e("div",gt,[a(s(Z),null,{default:o(()=>[z&&n.checkout?(l(),v(s(d),{key:0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:V,class:U([s(R),"rounded-2xl border border-destructive/50 bg-destructive/10 p-4"])},{default:o(()=>[e("div",yt,[a(s(it),{class:"h-5 w-5 shrink-0"}),e("span",vt,i(n.checkout),1)])]),_:2},1032,["class"])):h("",!0)]),_:2},1024),a(s(d),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...b,delay:.1},class:"ios-card rounded-2xl border border-brand-blue-100 bg-card p-4 dark:border-brand-blue-800/30 sm:p-6"},{default:o(()=>[e("h2",ht,[a(s(lt),{class:"h-5 w-5 text-brand-blue"}),t[20]||(t[20]=u(" Data Penerima ",-1))]),e("div",kt,[e("div",_t,[a(s($),{for:"customer_name",class:"text-sm sm:text-base"},{default:o(()=>[...t[21]||(t[21]=[u("Nama Lengkap *",-1)])]),_:1}),a(s(d),{animate:{scale:x.value==="customer_name"?1.02:1},transition:g},{default:o(()=>[a(s(N),{id:"customer_name",name:"customer_name",type:"text",placeholder:"Masukkan nama lengkap","default-value":c.customer?.name??"",class:"ios-input h-12 rounded-xl text-base sm:h-11 sm:text-sm","aria-invalid":!!n.customer_name,onFocus:t[5]||(t[5]=r=>k("customer_name")),onBlur:_},null,8,["default-value","aria-invalid"])]),_:2},1032,["animate"]),n.customer_name?(l(),m("p",wt,i(n.customer_name),1)):h("",!0)]),e("div",$t,[a(s($),{for:"customer_phone",class:"text-sm sm:text-base"},{default:o(()=>[...t[22]||(t[22]=[u(" Nomor Telepon (WhatsApp) * ",-1)])]),_:1}),a(s(d),{animate:{scale:x.value==="customer_phone"?1.02:1},transition:g},{default:o(()=>[a(s(N),{id:"customer_phone",name:"customer_phone",type:"tel",inputmode:"tel",placeholder:"08xxxxxxxxxx","default-value":c.customer?.phone??"",class:"ios-input h-12 rounded-xl text-base sm:h-11 sm:text-sm","aria-invalid":!!n.customer_phone,onFocus:t[6]||(t[6]=r=>k("customer_phone")),onBlur:_},null,8,["default-value","aria-invalid"])]),_:2},1032,["animate"]),n.customer_phone?(l(),m("p",Pt,i(n.customer_phone),1)):h("",!0),t[23]||(t[23]=e("p",{class:"text-xs text-muted-foreground"}," Pesanan akan dikonfirmasi via WhatsApp ke nomor ini ",-1))])])]),_:2},1032,["transition"]),a(s(d),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...b,delay:.15},class:"ios-card rounded-2xl border border-brand-blue-100 bg-card p-4 dark:border-brand-blue-800/30 sm:p-6"},{default:o(()=>[e("h2",Ct,[a(s(dt),{class:"h-5 w-5 text-brand-blue"}),t[24]||(t[24]=u(" Alamat Pengiriman ",-1))]),e("div",Ft,[e("div",Mt,[a(s($),{for:"customer_address",class:"text-sm sm:text-base"},{default:o(()=>[...t[25]||(t[25]=[u(" Alamat Lengkap ",-1),e("span",{class:"text-muted-foreground"},"(Opsional)",-1)])]),_:1}),a(s(d),{animate:{scale:x.value==="customer_address"?1.01:1},transition:g},{default:o(()=>[e("textarea",{id:"customer_address",name:"customer_address",rows:"4",placeholder:"Masukkan alamat lengkap dengan RT/RW, kelurahan, kecamatan, kota, dan kode pos",class:"ios-input flex min-h-[120px] w-full rounded-xl border-0 bg-muted/50 px-4 py-3 text-base shadow-xs placeholder:text-muted-foreground focus:bg-background focus:ring-2 focus:ring-primary/20 disabled:cursor-not-allowed disabled:opacity-50 sm:text-sm","aria-invalid":!!n.customer_address,onFocus:t[7]||(t[7]=r=>k("customer_address")),onBlur:_},i(c.customer?.address??""),41,Dt)]),_:2},1032,["animate"]),n.customer_address?(l(),m("p",Bt,i(n.customer_address),1)):h("",!0)]),e("div",At,[a(s($),{for:"notes",class:"text-sm sm:text-base"},{default:o(()=>[...t[26]||(t[26]=[u(" Catatan (Opsional) ",-1)])]),_:1}),a(s(d),{animate:{scale:x.value==="notes"?1.01:1},transition:g},{default:o(()=>[e("textarea",{id:"notes",name:"notes",rows:"3",placeholder:"Catatan tambahan untuk pesanan (misal: warna, ukuran, patokan alamat, dll)",class:"ios-input flex min-h-[100px] w-full rounded-xl border-0 bg-muted/50 px-4 py-3 text-base shadow-xs placeholder:text-muted-foreground focus:bg-background focus:ring-2 focus:ring-primary/20 disabled:cursor-not-allowed disabled:opacity-50 sm:text-sm","aria-invalid":!!n.notes,onFocus:t[8]||(t[8]=r=>k("notes")),onBlur:_},null,40,Tt)]),_:2},1032,["animate"]),n.notes?(l(),m("p",jt,i(n.notes),1)):h("",!0)])])]),_:2},1032,["transition"])]),a(s(d),{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{...b,delay:.2},class:"lg:col-span-1"},{default:o(()=>[e("div",Nt,[e("h2",Lt,[a(s(L),{class:"h-5 w-5 text-brand-blue"}),t[27]||(t[27]=u(" Ringkasan Pesanan ",-1))]),e("div",St,[(l(!0),m(M,null,G(c.cart.items,(r,K)=>(l(),v(s(d),{key:r.id,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...b,delay:.25+K*.05},class:"flex items-center gap-3 rounded-xl bg-muted/30 p-3"},{default:o(()=>[e("div",It,[r.product.image?(l(),m("img",{key:0,src:`/storage/${r.product.image}`,alt:r.product.name,class:"h-full w-full object-cover"},null,8,Rt)):(l(),m("div",Wt,[a(s(L),{class:"h-5 w-5 text-muted-foreground"})]))]),e("div",Et,[e("p",Vt,i(r.product.name),1),e("p",zt,i(r.quantity)+" x "+i(T(r.product.price)),1)]),e("p",Kt,i(T(r.subtotal)),1)]),_:2},1032,["transition"]))),128))]),t[31]||(t[31]=e("hr",{class:"my-4 border-border"},null,-1)),e("div",Ot,[e("div",qt,[e("span",Ht,"Subtotal ("+i(c.cart.total_items)+" item)",1),e("span",Ut,i(A.value),1)]),t[29]||(t[29]=e("div",{class:"flex items-center justify-between text-sm"},[e("span",{class:"text-muted-foreground"},"Ongkos Kirim"),e("span",{class:"font-medium text-brand-gold"},"Gratis")],-1)),t[30]||(t[30]=e("hr",{class:"border-border"},null,-1)),e("div",Gt,[t[28]||(t[28]=e("span",{class:"font-semibold text-foreground"},"Total",-1)),e("span",Qt,i(A.value),1)])]),a(s(d),{animate:{scale:f.value?.95:1},transition:g},{default:o(()=>[a(s(nt),{type:"submit",size:"lg",class:"ios-button mt-6 h-14 w-full gap-2 rounded-2xl bg-gradient-to-r from-brand-blue-500 to-brand-blue-600 shadow-lg shadow-brand-blue-500/25 hover:from-brand-blue-600 hover:to-brand-blue-700",disabled:C,onMousedown:t[9]||(t[9]=r=>f.value=!0),onMouseup:t[10]||(t[10]=r=>f.value=!1),onMouseleave:t[11]||(t[11]=r=>f.value=!1),onTouchstartPassive:t[12]||(t[12]=r=>f.value=!0),onTouchend:t[13]||(t[13]=r=>f.value=!1)},{default:o(()=>[C?(l(),v(s(ut),{key:0,class:"h-5 w-5 animate-spin"})):(l(),v(s(mt),{key:1,class:"h-5 w-5"})),e("span",null,i(C?"Memproses...":"Pesan via WhatsApp"),1)]),_:2},1032,["disabled"])]),_:2},1032,["animate"]),t[32]||(t[32]=e("p",{class:"mt-4 text-center text-xs text-muted-foreground"}," Dengan memesan, Anda akan diarahkan ke WhatsApp untuk konfirmasi pesanan ",-1))])]),_:2},1032,["transition"])]),_:1},16)]),e("footer",Yt,[e("div",Zt,[e("div",Jt,[e("p",Xt," Â© "+i(new Date().getFullYear())+" "+i(P.value.name)+". Created By Zulfikar Hidayatullah. ",1),e("p",te,i(P.value.tagline),1)])])]),t[34]||(t[34]=e("div",{class:"h-20 md:hidden"},null,-1)),a(st)])],64))}});export{he as default};
