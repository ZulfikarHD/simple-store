import{d as vt,u as xt,c as C,r as S,a as m,b as a,f as s,h as bt,w as i,i as p,e as t,t as r,q as A,T as B,o as l,j as u,F as $,k as T,g as h,v as E,C as _t,x as ht,m as H,n as R}from"./app-DFCAcBxY.js";import{h as yt,i as kt,j as wt,k as Ct,l as St,_ as $t,a as Pt,b as Dt,c as Ut,d as jt,e as Tt,f as At,g as Mt}from"./AppLayout.vue_vue_type_script_setup_true_lang-DkLqUITi.js";import{_ as P}from"./index-DLvYs-W1.js";import{P as O,_ as L}from"./package-C_ORoyoZ.js";import{_ as Q}from"./Label.vue_vue_type_script_setup_true_lang-BSMPTL2J.js";import{_ as y}from"./PriceDisplay.vue_vue_type_script_setup_true_lang-Crvh3PKL.js";import{_ as zt}from"./PullToRefresh.vue_vue_type_script_setup_true_lang-CO4V6-sd.js";import{d as Bt,c as X,f as Lt}from"./index-7PYCkdjy.js";import{c as at,u as It,M as b,s as _,a as M,S as Kt}from"./shopping-bag-B6VKI7sq.js";import{T as Y}from"./truck-BzwXBAs7.js";import{C as G}from"./chef-hat-CmdsMb0v.js";import{C as J}from"./check-Cjcw6ys6.js";import{A as Nt}from"./arrow-left-BdoA81pv.js";import{U as Z}from"./user-C_i57HKz.js";import{P as tt}from"./phone-B9XiDBOn.js";import{M as Vt}from"./map-pin-DiAjZOmj.js";import{F as qt}from"./file-text-Cw7ab9qT.js";import{C as et}from"./circle-check-Bo98v_hs.js";import{C as st}from"./clock-C9eE2lX2.js";import{M as Ft}from"./message-square-DMGmBe6Y.js";import{C as Wt}from"./chevron-right-CZEmCPtx.js";import{L as Et}from"./loader-circle-6h6_FZdM.js";import{C as Ht}from"./circle-x-DwOU03Pd.js";import"./Input.vue_vue_type_script_setup_true_lang-DVqLXCRn.js";import"./VisuallyHidden-Ch7EV57W.js";import"./useForwardExpose-D6SWLn_1.js";import"./RovingFocusGroup-CDcxHENA.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-Dp0PW41R.js";import"./settings-YLotSQbe.js";import"./log-out-fgXzZBJN.js";import"./x-Bsz6avL0.js";import"./lock-COBZXJbX.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Rt=at("CircleDotIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);const Ot=at("NavigationIcon",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),Qt={class:"admin-page flex flex-col gap-6 p-4 md:p-6"},Xt={class:"flex items-center gap-3"},Yt={class:"flex flex-col gap-1"},Gt={class:"flex items-center gap-3"},Jt={class:"text-xl font-bold tracking-tight md:text-2xl"},Zt={key:0,class:"rounded-2xl border border-green-200 bg-green-50 p-4 text-green-800 dark:border-green-800 dark:bg-green-950 dark:text-green-200"},te={key:0,class:"rounded-2xl border border-red-200 bg-red-50 p-4 text-red-800 dark:border-red-800 dark:bg-red-950 dark:text-red-200"},ee={class:"grid gap-6 lg:grid-cols-3"},se={class:"flex flex-col gap-6 lg:col-span-2"},ae={class:"admin-form-section"},ne={class:"admin-form-section-header"},ie={class:"admin-form-section-content"},oe={class:"grid gap-4 sm:grid-cols-2"},re={class:"flex items-start gap-3"},le={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-primary/10"},de={class:"min-w-0 flex-1"},ue={class:"truncate font-semibold"},ce={class:"flex items-start gap-3"},me={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-green-100 dark:bg-green-900/40"},fe={class:"min-w-0 flex-1"},pe={class:"font-semibold"},ge={class:"mt-2 flex gap-2"},ve={key:0,class:"flex items-start gap-3 sm:col-span-2"},xe={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-orange-100 dark:bg-orange-900/40"},be={class:"min-w-0 flex-1"},_e={class:"font-medium"},he={key:1,class:"flex items-start gap-3 sm:col-span-2"},ye={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-muted"},ke={class:"min-w-0 flex-1"},we={class:"font-medium"},Ce={class:"admin-form-section"},Se={class:"admin-form-section-header"},$e={class:"flex items-center justify-between"},Pe={class:"p-0"},De={class:"flex flex-col gap-3 p-4 md:hidden"},Ue={class:"flex items-start justify-between gap-3"},je={class:"min-w-0 flex-1"},Te={class:"font-semibold leading-snug"},Ae={key:0,class:"mt-1 text-sm text-muted-foreground"},Me={class:"mt-3 flex items-center justify-between border-t border-border/50 pt-3"},ze={class:"text-sm text-muted-foreground"},Be={class:"hidden overflow-x-auto md:block"},Le={class:"admin-table"},Ie={class:"flex flex-col gap-0.5"},Ke={class:"font-medium"},Ne={key:0,class:"text-sm text-muted-foreground"},Ve={class:"text-right"},qe={class:"text-center"},Fe={class:"text-right"},We={class:"border-t bg-muted/30 p-5"},Ee={class:"flex flex-col gap-3"},He={class:"flex justify-between text-sm"},Re={class:"flex justify-between text-sm"},Oe={class:"flex justify-between border-t pt-3"},Qe={class:"flex flex-col gap-6"},Xe={class:"admin-form-section"},Ye={class:"admin-form-section-header"},Ge={class:"admin-form-section-content"},Je={class:"flex flex-col gap-4"},Ze={class:"admin-input-group"},ts=["value"],es={key:0,class:"admin-input-group"},ss={class:"mt-2 border-t border-border pt-4"},as={class:"admin-form-section"},ns={class:"admin-form-section-header"},is={class:"admin-form-section-content"},os={class:"status-timeline"},rs={class:"timeline-dot"},ls={class:"flex flex-col"},ds={class:"font-medium"},us={class:"text-sm text-muted-foreground"},cs={class:"flex items-start gap-2"},ms={class:"text-sm text-red-700 dark:text-red-300"},fs={key:0,class:"fixed inset-x-0 bottom-0 z-40 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80 md:hidden",style:{"padding-bottom":"env(safe-area-inset-bottom)"}},ps={class:"flex items-center gap-3 p-4"},gs={class:"min-w-0 flex-1"},vs={class:"flex items-center gap-2"},xs={class:"text-sm font-medium text-primary"},bs={class:"mt-4 flex flex-col gap-2"},_s=["onClick"],hs={class:"font-medium"},ys={key:0,class:"mt-2 block text-red-600"},aa=vt({__name:"Show",props:{order:{},statuses:{},whatsappUrls:{}},setup(o){const g=It(),c=o,I=xt(),nt=[{title:"Dashboard",href:Bt().url},{title:"Pesanan",href:X().url},{title:c.order.order_number,href:"#"}],K=C(()=>I.props.flash?.success),N=C(()=>I.props.flash?.error),v=S(c.order.status),D=S(""),k=S(!1),U=S(!1),j=S(!1),z=S(!1),w=C(()=>{switch(c.order.status){case"pending":return{status:"confirmed",label:"Konfirmasi",icon:J};case"confirmed":return{status:"preparing",label:"Proses",icon:G};case"preparing":return{status:"ready",label:"Siap Kirim",icon:O};case"ready":return{status:"delivered",label:"Selesai",icon:Y};default:return null}});function it(){w.value&&(g.medium(),v.value=w.value.status,k.value=!0)}const x=C(()=>v.value==="cancelled"),V=C(()=>v.value!==c.order.status);function q(d){switch(d){case"pending":return"admin-badge--pending";case"confirmed":return"admin-badge--confirmed";case"preparing":return"bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-300";case"ready":return"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/40 dark:text-cyan-300";case"delivered":return"admin-badge--success";case"cancelled":return"admin-badge--destructive";default:return""}}function ot(d){switch(d){case"created":return st;case"confirmed":return et;case"preparing":return G;case"ready":return O;case"delivered":return Y;case"cancelled":return Ht;default:return Rt}}function rt(d){return d?new Date(d).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function lt(d){g.medium();const e=d.replace(/\D/g,"");window.open(`https://wa.me/${e}`,"_blank")}function dt(d){g.medium();const e=c.whatsappUrls[d];e&&window.open(e,"_blank")}function F(){V.value&&(x.value&&!D.value.trim()||(g.medium(),k.value=!0))}function ut(){k.value=!1,U.value=!0}function ct(){g.heavy(),j.value=!0,U.value=!1,R.patch(Lt(c.order.id).url,{status:v.value,cancellation_reason:x.value?D.value:null},{onSuccess:()=>{g.success()},onError:()=>{g.error()},onFinish:()=>{j.value=!1}})}function mt(){U.value=!1}const W=C(()=>{const d=[];return c.order.timestamps.created_at&&d.push({status:"created",label:"Pesanan Dibuat",timestamp:c.order.timestamps.created_at,active:!0}),c.order.timestamps.confirmed_at&&d.push({status:"confirmed",label:"Dikonfirmasi",timestamp:c.order.timestamps.confirmed_at,active:!0}),c.order.timestamps.preparing_at&&d.push({status:"preparing",label:"Sedang Diproses",timestamp:c.order.timestamps.preparing_at,active:!0}),c.order.timestamps.ready_at&&d.push({status:"ready",label:"Siap Dikirim",timestamp:c.order.timestamps.ready_at,active:!0}),c.order.timestamps.delivered_at&&d.push({status:"delivered",label:"Terkirim",timestamp:c.order.timestamps.delivered_at,active:!0}),c.order.timestamps.cancelled_at&&d.push({status:"cancelled",label:"Dibatalkan",timestamp:c.order.timestamps.cancelled_at,active:!0}),d});function ft(){g.light(),R.visit(X().url)}function pt(d){g.medium();const e=encodeURIComponent(d);window.open(`https://www.google.com/maps/search/?api=1&query=${e}`,"_blank")}function gt(d){g.medium(),window.location.href=`tel:${d}`}return(d,e)=>(l(),m($,null,[a(s(bt),{title:`Detail Pesanan - ${o.order.order_number}`},null,8,["title"]),a($t,{breadcrumbs:nt},{default:i(()=>[a(zt,null,{default:i(()=>[t("div",Qt,[a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:s(_).ios,class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},{default:i(()=>[t("div",Xt,[a(s(P),{variant:"ghost",size:"icon",class:"ios-button h-10 w-10 shrink-0",onClick:ft},{default:i(()=>[a(s(Nt),{class:"h-5 w-5"})]),_:1}),t("div",Yt,[t("div",Gt,[t("h1",Jt,r(o.order.order_number),1),a(s(b),{initial:{scale:0},animate:{scale:1},transition:s(_).bouncy},{default:i(()=>[t("span",{class:A(["admin-badge text-sm",q(o.order.status)])},r(o.order.status_label),3)]),_:1},8,["transition"])]),e[10]||(e[10]=t("p",{class:"text-sm text-muted-foreground"}," Detail pesanan dan update status ",-1))])])]),_:1},8,["transition"]),a(B,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:i(()=>[K.value?(l(),m("div",Zt,r(K.value),1)):p("",!0)]),_:1}),a(B,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:i(()=>[N.value?(l(),m("div",te,r(N.value),1)):p("",!0)]),_:1}),t("div",ee,[t("div",se,[a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(_).ios,delay:s(M)(0)}},{default:i(()=>[t("div",ae,[t("div",ne,[t("h3",null,[a(s(Z)),e[11]||(e[11]=u(" Informasi Customer ",-1))])]),t("div",ie,[t("div",oe,[t("div",re,[t("div",le,[a(s(Z),{class:"h-5 w-5 text-primary"})]),t("div",de,[e[12]||(e[12]=t("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Nama",-1)),t("p",ue,r(o.order.customer_name),1)])]),t("div",ce,[t("div",me,[a(s(tt),{class:"h-5 w-5 text-green-600 dark:text-green-400"})]),t("div",fe,[e[15]||(e[15]=t("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Telepon",-1)),t("p",pe,r(o.order.customer_phone),1),t("div",ge,[t("button",{class:"ios-button flex h-9 items-center gap-1.5 rounded-lg bg-green-600 px-3 text-sm font-medium text-white active:scale-95",onClick:e[0]||(e[0]=n=>lt(o.order.customer_phone))},[...e[13]||(e[13]=[t("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1),t("span",{class:"hidden sm:inline"},"WhatsApp",-1)])]),t("button",{class:"ios-button flex h-9 items-center gap-1.5 rounded-lg border border-border bg-background px-3 text-sm font-medium active:scale-95",onClick:e[1]||(e[1]=n=>gt(o.order.customer_phone))},[a(s(tt),{class:"h-4 w-4"}),e[14]||(e[14]=t("span",{class:"hidden sm:inline"},"Telepon",-1))])])])]),o.order.customer_address?(l(),m("div",ve,[t("div",xe,[a(s(Vt),{class:"h-5 w-5 text-orange-600 dark:text-orange-400"})]),t("div",be,[e[17]||(e[17]=t("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Alamat",-1)),t("p",_e,r(o.order.customer_address),1),t("button",{class:"mt-2 flex h-9 items-center gap-1.5 rounded-lg border border-orange-200 bg-orange-50 px-3 text-sm font-medium text-orange-700 active:scale-95 dark:border-orange-800 dark:bg-orange-950 dark:text-orange-300",onClick:e[2]||(e[2]=n=>pt(o.order.customer_address))},[a(s(Ot),{class:"h-4 w-4"}),e[16]||(e[16]=u(" Buka di Maps ",-1))])])])):p("",!0),o.order.notes?(l(),m("div",he,[t("div",ye,[a(s(qt),{class:"h-5 w-5 text-muted-foreground"})]),t("div",ke,[e[18]||(e[18]=t("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Catatan",-1)),t("p",we,r(o.order.notes),1)])])):p("",!0)])])])]),_:1},8,["transition"]),a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(_).ios,delay:s(M)(1)}},{default:i(()=>[t("div",Ce,[t("div",Se,[t("div",$e,[t("h3",null,[a(s(Kt)),e[19]||(e[19]=u(" Detail Pesanan ",-1))]),a(s(L),{variant:"secondary",class:"tabular-nums"},{default:i(()=>[u(r(o.order.items_count)+" item ",1)]),_:1})])]),t("div",Pe,[t("div",De,[(l(!0),m($,null,T(o.order.items,(n,f)=>(l(),h(s(b),{key:n.id,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{...s(_).ios,delay:.15+f*.03},class:"rounded-xl border bg-muted/20 p-4"},{default:i(()=>[t("div",Ue,[t("div",je,[t("h4",Te,r(n.product_name),1),n.notes?(l(),m("p",Ae,r(n.notes),1)):p("",!0)]),a(s(L),{variant:"secondary",class:"shrink-0 tabular-nums"},{default:i(()=>[u(" x"+r(n.quantity),1)]),_:2},1024)]),t("div",Me,[t("span",ze,[a(y,{price:n.product_price,size:"sm"},null,8,["price"]),e[20]||(e[20]=u(" / item ",-1))]),a(y,{price:n.subtotal,size:"base",class:"font-bold text-primary"},null,8,["price"])])]),_:2},1032,["transition"]))),128))]),t("div",Be,[t("table",Le,[e[21]||(e[21]=t("thead",null,[t("tr",null,[t("th",null,"Produk"),t("th",{class:"text-right"},"Harga"),t("th",{class:"text-center"},"Qty"),t("th",{class:"text-right"},"Subtotal")])],-1)),t("tbody",null,[(l(!0),m($,null,T(o.order.items,(n,f)=>(l(),h(s(b),{key:n.id,tag:"tr",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{...s(_).ios,delay:.15+f*.03}},{default:i(()=>[t("td",null,[t("div",Ie,[t("span",Ke,r(n.product_name),1),n.notes?(l(),m("span",Ne,r(n.notes),1)):p("",!0)])]),t("td",Ve,[a(y,{price:n.product_price,size:"sm"},null,8,["price"])]),t("td",qe,[a(s(L),{variant:"outline",class:"tabular-nums"},{default:i(()=>[u(r(n.quantity),1)]),_:2},1024)]),t("td",Fe,[a(y,{price:n.subtotal,size:"sm",class:"font-semibold"},null,8,["price"])])]),_:2},1032,["transition"]))),128))])])]),t("div",We,[t("div",Ee,[t("div",He,[e[22]||(e[22]=t("span",{class:"text-muted-foreground"},"Subtotal",-1)),a(y,{price:o.order.subtotal,size:"sm"},null,8,["price"])]),t("div",Re,[e[23]||(e[23]=t("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),a(y,{price:o.order.delivery_fee,size:"sm"},null,8,["price"])]),t("div",Oe,[e[24]||(e[24]=t("span",{class:"text-lg font-bold"},"Total",-1)),a(y,{price:o.order.total,size:"lg",class:"text-xl! font-bold"},null,8,["price"])])])])])])]),_:1},8,["transition"])]),t("div",Qe,[a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(_).ios,delay:s(M)(2)}},{default:i(()=>[t("div",Xe,[t("div",Ye,[t("h3",null,[a(s(et)),e[25]||(e[25]=u(" Update Status ",-1))])]),t("div",Ge,[t("div",Je,[t("div",Ze,[a(s(Q),{for:"status"},{default:i(()=>[...e[26]||(e[26]=[u("Status Pesanan",-1)])]),_:1}),E(t("select",{id:"status","onUpdate:modelValue":e[3]||(e[3]=n=>v.value=n),class:"admin-select"},[(l(!0),m($,null,T(o.statuses,(n,f)=>(l(),m("option",{key:f,value:f},r(n),9,ts))),128))],512),[[_t,v.value]])]),a(B,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:i(()=>[x.value?(l(),m("div",es,[a(s(Q),{for:"cancellation_reason"},{default:i(()=>[...e[27]||(e[27]=[u(" Alasan Pembatalan ",-1),t("span",{class:"text-destructive"},"*",-1)])]),_:1}),E(t("textarea",{id:"cancellation_reason","onUpdate:modelValue":e[4]||(e[4]=n=>D.value=n),placeholder:"Masukkan alasan pembatalan...",rows:"3",class:"admin-textarea"},null,512),[[ht,D.value]])])):p("",!0)]),_:1}),a(s(P),{disabled:!V.value||x.value&&!D.value.trim(),class:"admin-btn-primary",onClick:F},{default:i(()=>[...e[28]||(e[28]=[u(" Update Status ",-1)])]),_:1},8,["disabled"]),t("div",ss,[e[30]||(e[30]=t("p",{class:"mb-2 text-sm text-muted-foreground"}," Kirim notifikasi ke customer: ",-1)),a(s(P),{type:"button",variant:"outline",class:"ios-button w-full gap-2 border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",onClick:e[5]||(e[5]=n=>dt(o.order.status))},{default:i(()=>[...e[29]||(e[29]=[t("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1),u(" Kirim via WhatsApp ",-1)])]),_:1})])])])])]),_:1},8,["transition"]),a(s(b),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(_).ios,delay:s(M)(3)}},{default:i(()=>[t("div",as,[t("div",ns,[t("h3",null,[a(s(st)),e[31]||(e[31]=u(" Timeline ",-1))])]),t("div",is,[t("div",os,[(l(!0),m($,null,T(W.value,(n,f)=>(l(),h(s(b),{key:n.status,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{...s(_).ios,delay:.25+f*.05},class:A(["timeline-item",{completed:n.status!=="cancelled",active:f===W.value.length-1}])},{default:i(()=>[t("div",rs,[(l(),h(H(ot(n.status)),{class:"h-4 w-4"}))]),t("div",ls,[t("span",ds,r(n.label),1),t("span",us,r(rt(n.timestamp)),1)])]),_:2},1032,["transition","class"]))),128))]),o.order.status==="cancelled"&&o.order.cancellation_reason?(l(),h(s(b),{key:0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:s(_).ios,class:"mt-4 rounded-xl border border-red-200 bg-red-50 p-3 dark:border-red-800 dark:bg-red-950"},{default:i(()=>[t("div",cs,[a(s(Ft),{class:"mt-0.5 h-4 w-4 shrink-0 text-red-600 dark:text-red-400"}),t("div",null,[e[32]||(e[32]=t("p",{class:"text-sm font-medium text-red-800 dark:text-red-200"}," Alasan Pembatalan ",-1)),t("p",ms,r(o.order.cancellation_reason),1)])])]),_:1},8,["transition"])):p("",!0)])])]),_:1},8,["transition"])])]),e[33]||(e[33]=t("div",{class:"h-40 md:hidden"},null,-1))])]),_:1}),w.value?(l(),m("div",fs,[t("div",ps,[t("div",gs,[e[34]||(e[34]=t("p",{class:"text-xs text-muted-foreground"},"Status Sekarang",-1)),t("div",vs,[t("span",{class:A(["admin-badge",q(o.order.status)])},r(o.order.status_label),3),a(s(Wt),{class:"h-4 w-4 text-muted-foreground"}),t("span",xs,r(o.statuses[w.value.status]),1)])]),a(s(P),{class:"h-12 shrink-0 gap-2 rounded-xl px-6",disabled:j.value,onClick:it},{default:i(()=>[j.value?(l(),h(s(Et),{key:0,class:"h-5 w-5 animate-spin"})):(l(),h(H(w.value.icon),{key:1,class:"h-5 w-5"})),u(" "+r(w.value.label),1)]),_:1},8,["disabled"])])])):p("",!0),a(s(yt),{open:z.value,"onUpdate:open":e[6]||(e[6]=n=>z.value=n)},{default:i(()=>[a(s(kt),{side:"bottom",class:"rounded-t-3xl"},{default:i(()=>[a(s(wt),null,{default:i(()=>[a(s(Ct),null,{default:i(()=>[...e[35]||(e[35]=[u("Update Status Pesanan",-1)])]),_:1}),a(s(St),null,{default:i(()=>[u(" Pilih status baru untuk pesanan "+r(o.order.order_number),1)]),_:1})]),_:1}),t("div",bs,[(l(!0),m($,null,T(o.statuses,(n,f)=>(l(),m("button",{key:f,class:A(["flex items-center justify-between rounded-xl px-4 py-4 text-left transition-colors",[v.value===f?"bg-primary/10 text-primary":"hover:bg-muted/50"]]),onClick:ks=>{v.value=f,z.value=!1,F()}},[t("span",hs,r(n),1),v.value===f?(l(),h(s(J),{key:0,class:"h-5 w-5 text-primary"})):p("",!0)],10,_s))),128))])]),_:1})]),_:1},8,["open"])]),_:1}),a(s(At),{open:k.value,"onUpdate:open":e[8]||(e[8]=n=>k.value=n)},{default:i(()=>[a(s(Pt),{class:"rounded-2xl"},{default:i(()=>[a(s(Dt),null,{default:i(()=>[a(s(Ut),null,{default:i(()=>[...e[36]||(e[36]=[u("Konfirmasi Update Status",-1)])]),_:1}),a(s(jt),null,{default:i(()=>[e[37]||(e[37]=u(" Apakah Anda yakin ingin mengubah status pesanan menjadi ",-1)),t("strong",null,r(o.statuses[v.value]),1),e[38]||(e[38]=u("? ",-1)),x.value?(l(),m("span",ys," Tindakan pembatalan tidak dapat dibatalkan. ")):p("",!0)]),_:1})]),_:1}),a(s(Tt),null,{default:i(()=>[a(s(P),{variant:"outline",class:"ios-button",onClick:e[7]||(e[7]=n=>k.value=!1)},{default:i(()=>[...e[39]||(e[39]=[u(" Batal ",-1)])]),_:1}),a(s(P),{variant:x.value?"destructive":"default",class:"ios-button",onClick:ut},{default:i(()=>[...e[40]||(e[40]=[u(" Ya, Lanjutkan ",-1)])]),_:1},8,["variant"])]),_:1})]),_:1})]),_:1},8,["open"]),a(Mt,{open:U.value,"onUpdate:open":e[9]||(e[9]=n=>U.value=n),title:x.value?"Konfirmasi Pembatalan":"Konfirmasi Update Status",description:`Masukkan password Anda untuk ${x.value?"membatalkan":"mengupdate status"} pesanan ini.`,"confirm-label":x.value?"Batalkan Pesanan":"Update Status","confirm-variant":x.value?"destructive":"default",loading:j.value,onConfirm:ct,onCancel:mt},null,8,["open","title","description","confirm-label","confirm-variant","loading"])],64))}});export{aa as default};
