import{d as me,r as D,c as T,B as we,a as m,F as A,b as a,f as s,q as F,w as l,i as g,j as u,t as o,e,g as P,l as G,m as Z,n as K,o as d,u as _e,z as ke,h as Ce,T as Q,k as W,v as $e,C as Se}from"./app-C_et5Nii.js";import{E as fe,f as De,a as Pe,b as Ve,c as Te,d as Me,e as je,_ as Fe}from"./AppLayout.vue_vue_type_script_setup_true_lang-vqJpAo0L.js";import{_}from"./index-Bu5ZuFCB.js";import{_ as z}from"./Input.vue_vue_type_script_setup_true_lang-DwE1W5cy.js";import{P as R,_ as pe}from"./package-DD18sG6K.js";import{_ as ee}from"./PriceDisplay.vue_vue_type_script_setup_true_lang-Da75Zsk_.js";import{_ as Be,a as ze}from"./CardContent.vue_vue_type_script_setup_true_lang-DubuRink.js";import"./ProductController-0M3t1kra.js";import"./CartController-1jpe7Y2F.js";/* empty css                                                                       */import{_ as Ue}from"./OrderStatusBadge.vue_vue_type_script_setup_true_lang-CRqwceix.js";import{e as Y,d as Ae,c as H}from"./index-7PYCkdjy.js";import{C as te}from"./circle-check-Cc4N0mqr.js";import{C as ge}from"./chef-hat-Dnm2_QkX.js";import{C as Le}from"./check-T4FAxatG.js";import{C as re}from"./circle-alert-D4Ov3NSN.js";import{C as ve}from"./clock-DiGAWnCk.js";import{L as ne}from"./loader-circle-CQnpU841.js";import{_ as Ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Ne}from"./PullToRefresh.vue_vue_type_script_setup_true_lang-CDmDdKdC.js";import{u as Ee,b as Ke,M as N,s as E,a as X,S as le}from"./shopping-bag-BAFdhrfu.js";import{_ as U}from"./SortableHeader.vue_vue_type_script_setup_true_lang-clfREQ4z.js";import{S as oe}from"./search-CYOHmfX3.js";import{C as ie}from"./calendar-DPcj4Kli.js";import{X as de}from"./x-BzNdqwW4.js";import{F as Re}from"./filter-GKay6KdH.js";import{C as ue}from"./chevron-left-lrC-Zlie.js";import{C as ce}from"./chevron-right-D7hTR6gG.js";import{P as qe}from"./phone-Bj1y2nsU.js";import{C as Oe}from"./circle-x-BAYYQNQm.js";import{T as We}from"./truck-Dow5Z_M-.js";import"./VisuallyHidden-DpGQHYui.js";import"./useForwardExpose-DTqPGL2t.js";import"./RovingFocusGroup-Bs_1u-BQ.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-Dp0PW41R.js";import"./settings-lUwU6QNU.js";import"./log-out-7NEB8FWW.js";import"./Label.vue_vue_type_script_setup_true_lang-Cf5ayH9F.js";import"./lock-D3tR05Mf.js";const He={key:0,class:"flex items-center gap-2 bg-red-500 px-4 py-2 text-sm font-medium text-white"},Xe={class:"flex items-start justify-between gap-2"},Ge={class:"flex-1 min-w-0"},Ye={class:"flex items-center gap-2 flex-wrap"},Je={class:"mt-1 text-base font-medium text-foreground truncate"},Qe={class:"mt-3 flex flex-wrap items-center gap-3 text-sm text-muted-foreground"},Ze={class:"flex items-center gap-1"},et={class:"mt-3 text-sm text-muted-foreground"},tt={class:"truncate"},st={key:0,class:"mt-3 rounded-lg bg-red-50 p-2 text-sm text-red-600 dark:bg-red-950 dark:text-red-400"},at={class:"mt-4 flex flex-col gap-3"},rt={class:"flex items-center justify-between"},nt={class:"flex items-center gap-2"},lt={class:"font-semibold text-foreground"},ot={class:"font-semibold text-primary"},it={class:"rounded-lg border bg-muted/50 p-3"},dt={class:"flex items-center justify-between text-sm"},ut={class:"font-medium"},ct={class:"mt-1 flex items-center justify-between text-sm"},mt={class:"mt-1 flex items-center justify-between text-sm"},ft=me({__name:"OrderCard",props:{order:{},statuses:{}},emits:["statusUpdated"],setup(n,{emit:k}){const f=n,M=k,v=D(!1),C=T(()=>{if(f.order.waiting_minutes!==void 0)return f.order.waiting_minutes;const p=new Date(f.order.created_at);return Math.floor((new Date().getTime()-p.getTime())/6e4)}),V=T(()=>["pending","confirmed","preparing"].includes(f.order.status)?C.value>=15?"urgent":C.value>=5?"warning":"normal":"none"),J=T(()=>{switch(V.value){case"urgent":return"border-l-4 border-l-red-500";case"warning":return"border-l-4 border-l-amber-500";case"normal":return"border-l-4 border-l-green-500";default:return""}}),L=T(()=>{const p=C.value;if(p<1)return"Baru saja";if(p<60)return`${p} menit`;const i=Math.floor(p/60),S=p%60;return S===0?`${i} jam`:`${i} jam ${S} menit`}),h=T(()=>{switch(f.order.status){case"pending":return{status:"confirmed",label:"Konfirmasi",icon:Le};case"confirmed":return{status:"preparing",label:"Proses",icon:ge};case"preparing":return{status:"ready",label:"Siap Kirim",icon:R};case"ready":return{status:"delivered",label:"Selesai",icon:te};default:return null}}),j=D(null),x=D(!1);function $(){!h.value||v.value||(x.value=!0)}function y(){x.value=!1}function w(){!h.value||v.value||(v.value=!0,j.value=null,x.value=!1,K.patch(`/admin/orders/${f.order.id}/status`,{status:h.value.status},{preserveScroll:!0,onSuccess:()=>{M("statusUpdated",f.order.id,h.value.status)},onError:p=>{j.value=p.status||"Gagal mengubah status pesanan",setTimeout(()=>{j.value=null},3e3)},onFinish:()=>{v.value=!1}}))}function I(p){return{confirmed:"Dikonfirmasi",preparing:"Diproses",ready:"Siap Kirim",delivered:"Selesai"}[p]||p}function q(){const p=f.order.customer_phone.replace(/\D/g,"");window.open(`https://wa.me/${p}`,"_blank")}return(p,i)=>{const S=we("Phone");return d(),m(A,null,[a(s(Be),{class:F(["overflow-hidden transition-all duration-200",J.value,V.value==="urgent"&&"animate-pulse-subtle ring-2 ring-red-200 dark:ring-red-900",V.value==="warning"&&"ring-1 ring-amber-200 dark:ring-amber-900"])},{default:l(()=>[V.value==="urgent"?(d(),m("div",He,[a(s(re),{class:"h-4 w-4"}),u(" Menunggu "+o(L.value)+" - Segera proses! ",1)])):g("",!0),a(s(ze),{class:"p-4"},{default:l(()=>[e("div",Xe,[e("div",Ge,[e("div",Ye,[a(s(G),{href:s(Y)(n.order.id).url,class:"font-mono text-sm font-semibold text-primary hover:underline"},{default:l(()=>[u(o(n.order.order_number),1)]),_:1},8,["href"]),a(s(Ue),{status:n.order.status},null,8,["status"])]),e("h3",Je,o(n.order.customer_name),1)]),["pending","confirmed","preparing"].includes(n.order.status)&&V.value!=="urgent"?(d(),P(s(pe),{key:0,variant:V.value==="warning"?"secondary":"outline",class:"shrink-0 gap-1"},{default:l(()=>[a(s(ve),{class:"h-3 w-3"}),u(" "+o(L.value),1)]),_:1},8,["variant"])):g("",!0)]),e("div",Qe,[e("span",Ze,[a(s(R),{class:"h-4 w-4"}),u(" "+o(n.order.items.length)+" item ",1)]),e("button",{class:"flex items-center gap-1 hover:text-primary transition-colors",onClick:q},[a(S,{class:"h-4 w-4"}),u(" "+o(n.order.customer_phone),1)])]),e("div",et,[e("p",tt,o(n.order.items.map(B=>`${B.product_name} (${B.quantity})`).join(", ")),1)]),j.value?(d(),m("div",st,o(j.value),1)):g("",!0),e("div",at,[e("div",rt,[i[1]||(i[1]=e("span",{class:"text-sm text-muted-foreground"},"Total Pesanan",-1)),a(ee,{price:n.order.total,size:"lg",class:"font-bold text-primary"},null,8,["price"])]),e("div",nt,[a(s(_),{variant:"outline",class:"h-11 flex-1 gap-2 text-green-600 hover:bg-green-50 hover:text-green-700 dark:text-green-400 dark:hover:bg-green-950",onClick:q},{default:l(()=>[...i[2]||(i[2]=[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1),e("span",{class:"text-sm"},"WhatsApp",-1)])]),_:1}),a(s(G),{href:s(Y)(n.order.id).url,class:"flex-1"},{default:l(()=>[a(s(_),{variant:"outline",class:"h-11 w-full gap-2"},{default:l(()=>[a(s(fe),{class:"h-4 w-4"}),i[3]||(i[3]=e("span",{class:"text-sm"},"Detail",-1))]),_:1})]),_:1},8,["href"])]),h.value?(d(),P(s(_),{key:0,class:"h-12 w-full gap-2 rounded-xl text-base font-semibold",disabled:v.value,onClick:$},{default:l(()=>[v.value?(d(),P(s(ne),{key:0,class:"h-5 w-5 animate-spin"})):(d(),P(Z(h.value.icon),{key:1,class:"h-5 w-5"})),u(" "+o(h.value.label),1)]),_:1},8,["disabled"])):g("",!0)])]),_:1})]),_:1},8,["class"]),a(s(De),{open:x.value,"onUpdate:open":i[0]||(i[0]=B=>x.value=B)},{default:l(()=>[a(s(Pe),{class:"sm:max-w-md"},{default:l(()=>[a(s(Ve),null,{default:l(()=>[a(s(Te),{class:"flex items-center gap-2"},{default:l(()=>[a(s(re),{class:"h-5 w-5 text-amber-500"}),i[4]||(i[4]=u(" Konfirmasi Perubahan Status ",-1))]),_:1}),a(s(Me),null,{default:l(()=>[i[5]||(i[5]=u(" Apakah Anda yakin ingin mengubah status pesanan ",-1)),e("span",lt,o(n.order.order_number),1),i[6]||(i[6]=u(" menjadi ",-1)),e("span",ot,o(h.value?I(h.value.status):""),1),i[7]||(i[7]=u("? ",-1))]),_:1})]),_:1}),e("div",it,[e("div",dt,[i[8]||(i[8]=e("span",{class:"text-muted-foreground"},"Customer:",-1)),e("span",ut,o(n.order.customer_name),1)]),e("div",ct,[i[9]||(i[9]=e("span",{class:"text-muted-foreground"},"Total:",-1)),a(ee,{price:n.order.total,size:"sm"},null,8,["price"])]),e("div",mt,[i[10]||(i[10]=e("span",{class:"text-muted-foreground"},"Items:",-1)),e("span",null,o(n.order.items.length)+" item",1)])]),a(s(je),{class:"flex-col gap-2 sm:flex-row"},{default:l(()=>[a(s(_),{variant:"outline",class:"w-full sm:w-auto",onClick:y},{default:l(()=>[...i[11]||(i[11]=[u(" Batal ",-1)])]),_:1}),a(s(_),{class:"w-full sm:w-auto",disabled:v.value,onClick:w},{default:l(()=>[v.value?(d(),P(s(ne),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(d(),P(Z(h.value?.icon),{key:1,class:"mr-2 h-4 w-4"})),u(" Ya, "+o(h.value?.label),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64)}}}),pt=Ie(ft,[["__scopeId","data-v-12c467ed"]]),gt={class:"admin-page flex flex-col gap-6 p-4 md:p-6"},vt={class:"flex items-center gap-3"},xt={key:0,class:"rounded-2xl border border-green-200 bg-green-50 p-4 text-green-800 dark:border-green-800 dark:bg-green-950 dark:text-green-200"},bt={key:0,class:"rounded-2xl border border-red-200 bg-red-50 p-4 text-red-800 dark:border-red-800 dark:bg-red-950 dark:text-red-200"},ht={class:"-mx-4 overflow-x-auto px-4 scrollbar-hide"},yt={class:"flex gap-2 pb-2"},wt=["onClick"],_t={class:"relative flex-1"},kt={key:0,class:"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary"},Ct={key:0,class:"admin-form-section md:hidden"},$t={class:"admin-form-section-content"},St={class:"flex flex-col gap-4"},Dt={class:"grid grid-cols-2 gap-3"},Pt={class:"admin-input-group"},Vt={class:"admin-input-group"},Tt={class:"admin-form-section"},Mt={class:"admin-form-section-header"},jt={class:"admin-form-section-content"},Ft={class:"flex flex-col gap-4"},Bt={class:"flex flex-col gap-4 sm:flex-row"},zt={class:"relative flex-1"},Ut=["value"],At={class:"flex flex-col gap-4 sm:flex-row sm:items-center"},Lt={class:"flex items-center gap-2 text-sm text-muted-foreground"},It={class:"flex flex-col gap-3 md:hidden"},Nt={key:0,class:"admin-form-section"},Et={class:"admin-empty-state"},Kt={class:"icon-wrapper"},Rt={key:1,class:"flex items-center justify-between rounded-2xl border bg-card p-3"},qt={class:"text-sm text-muted-foreground"},Ot={class:"ios-table-container"},Wt={class:"overflow-x-auto"},Ht={class:"ios-table w-full"},Xt={class:"px-4 py-3"},Gt={class:"px-4 py-3"},Yt={class:"flex flex-col"},Jt={class:"font-medium text-foreground"},Qt=["onClick"],Zt={class:"px-4 py-3 text-right"},es={class:"px-4 py-3 text-center"},ts={class:"ios-badge ios-badge--outline tabular-nums"},ss={class:"px-4 py-3 text-center"},as={class:"px-4 py-3 text-center"},rs={class:"whitespace-nowrap text-sm text-muted-foreground"},ns={class:"px-4 py-3 text-center"},ls={key:0},os={colspan:"7",class:"px-4 py-16"},is={class:"flex flex-col items-center justify-center text-center"},ds={class:"mb-4 rounded-2xl bg-muted p-4"},us={key:0,class:"flex items-center justify-between border-t border-border/50 px-4 py-3"},cs={class:"text-sm text-muted-foreground"},ms={class:"font-medium text-foreground"},fs={class:"font-medium text-foreground"},ps={class:"font-medium text-foreground"},gs={class:"flex items-center gap-2"},vs={class:"rounded-lg bg-muted px-3 py-1 text-sm font-medium tabular-nums"},ra=me({__name:"Index",props:{orders:{},statuses:{},filters:{},statusCounts:{}},setup(n){const k=D(null),f=D("asc");function M(c){const t=c;k.value===t?f.value=f.value==="asc"?"desc":"asc":(k.value=t,f.value="asc")}const v=Ee(),C=n,V=_e(),J=[{title:"Dashboard",href:Ae().url},{title:"Pesanan",href:H().url}],L=T(()=>V.props.flash?.success),h=T(()=>V.props.flash?.error),j=T(()=>k.value?[...C.orders.data].sort((c,t)=>{let r=0;switch(k.value){case"order_number":r=c.order_number.localeCompare(t.order_number);break;case"customer_name":r=c.customer_name.localeCompare(t.customer_name,"id");break;case"total":r=c.total-t.total;break;case"items":r=c.items.length-t.items.length;break;case"status":r=c.status.localeCompare(t.status);break;case"created_at":r=new Date(c.created_at).getTime()-new Date(t.created_at).getTime();break}return f.value==="asc"?r:-r}):C.orders.data),x=D(C.filters.search||""),$=D(C.filters.status||""),y=D(C.filters.start_date||""),w=D(C.filters.end_date||""),I=D(!1);function q(){v.selection(),I.value=!I.value}const p=T(()=>x.value||$.value||y.value||w.value),i=Ke(()=>{S()},300);ke(x,()=>{i()});function S(){v.selection(),K.get(H().url,{search:x.value||void 0,status:$.value||void 0,start_date:y.value||void 0,end_date:w.value||void 0},{preserveState:!0,preserveScroll:!0})}function B(){v.medium(),x.value="",$.value="",y.value="",w.value="",K.get(H().url)}function se(c){v.selection(),$.value=c,K.get(H().url,{search:x.value||void 0,status:c||void 0,start_date:y.value||void 0,end_date:w.value||void 0},{preserveState:!0,preserveScroll:!0})}function ae(c){return C.statusCounts?C.statusCounts.find(r=>r.status===c)?.count??0:0}function xe(c){switch(c){case"pending":return ve;case"confirmed":return te;case"preparing":return ge;case"ready":return We;case"delivered":return te;case"cancelled":return Oe;default:return R}}function O(c){c&&(v.light(),K.get(c,{},{preserveState:!0,preserveScroll:!0}))}function be(c){switch(c){case"pending":return"ios-badge--pending";case"confirmed":return"ios-badge--confirmed";case"preparing":return"ios-badge--preparing";case"ready":return"ios-badge--ready";case"delivered":return"ios-badge--delivered";case"cancelled":return"ios-badge--cancelled";default:return"ios-badge--muted"}}function he(c){return new Date(c).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function ye(c){v.medium();const t=c.replace(/\D/g,"");window.open(`https://wa.me/${t}`,"_blank")}return(c,t)=>(d(),m(A,null,[a(s(Ce),{title:"Manajemen Pesanan"}),a(Fe,{breadcrumbs:J},{default:l(()=>[a(Ne,null,{default:l(()=>[e("div",gt,[a(s(N),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:s(E).ios,class:"flex flex-col gap-1"},{default:l(()=>[e("div",vt,[t[13]||(t[13]=e("h1",{class:"text-2xl font-bold tracking-tight md:text-3xl"}," Pesanan ",-1)),a(s(pe),{variant:"secondary",class:"tabular-nums"},{default:l(()=>[u(o(n.orders.total)+" total ",1)]),_:1})]),t[14]||(t[14]=e("p",{class:"text-muted-foreground"}," Kelola dan pantau semua pesanan customer ",-1))]),_:1},8,["transition"]),a(Q,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:l(()=>[L.value?(d(),m("div",xt,o(L.value),1)):g("",!0)]),_:1}),a(Q,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:l(()=>[h.value?(d(),m("div",bt,o(h.value),1)):g("",!0)]),_:1}),a(s(N),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(E).ios,delay:s(X)(0)},class:"md:hidden"},{default:l(()=>[e("div",ht,[e("div",yt,[e("button",{class:F(["ios-button flex h-10 shrink-0 items-center gap-2 rounded-full px-4 text-sm font-medium transition-all",[$.value?"bg-muted/50 text-muted-foreground hover:bg-muted":"bg-primary text-primary-foreground shadow-md"]]),onClick:t[0]||(t[0]=r=>se(""))},[a(s(R),{class:"h-4 w-4"}),t[15]||(t[15]=u(" Semua ",-1)),n.orders.total?(d(),m("span",{key:0,class:F(["rounded-full px-1.5 text-xs tabular-nums",$.value?"bg-muted":"bg-primary-foreground/20"])},o(n.orders.total),3)):g("",!0)],2),(d(!0),m(A,null,W(n.statuses,(r,b)=>(d(),m("button",{key:b,class:F(["ios-button flex h-10 shrink-0 items-center gap-2 rounded-full px-4 text-sm font-medium transition-all",[$.value===b?b==="pending"?"bg-amber-500 text-white shadow-md":b==="cancelled"?"bg-red-500 text-white shadow-md":"bg-primary text-primary-foreground shadow-md":"bg-muted/50 text-muted-foreground hover:bg-muted"]]),onClick:xs=>se(b)},[(d(),P(Z(xe(b)),{class:"h-4 w-4"})),u(" "+o(r)+" ",1),ae(b)>0?(d(),m("span",{key:0,class:F(["rounded-full px-1.5 text-xs tabular-nums",[$.value===b?"bg-white/20":b==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300":"bg-muted"]])},o(ae(b)),3)):g("",!0)],10,wt))),128))])])]),_:1},8,["transition"]),a(s(N),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(E).ios,delay:s(X)(1)},class:"flex gap-2 md:hidden"},{default:l(()=>[e("div",_t,[a(s(oe),{class:"absolute left-3.5 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(s(z),{modelValue:x.value,"onUpdate:modelValue":t[1]||(t[1]=r=>x.value=r),type:"text",placeholder:"Cari pesanan...",class:"admin-input h-12 pl-10"},null,8,["modelValue"])]),a(s(_),{variant:"outline",size:"icon",class:F(["ios-button relative h-12 w-12 shrink-0",{"border-primary bg-primary/5":y.value||w.value}]),onClick:q},{default:l(()=>[a(s(ie),{class:"h-4 w-4"}),y.value||w.value?(d(),m("span",kt,[...t[16]||(t[16]=[e("span",{class:"h-2 w-2 rounded-full bg-white"},null,-1)])])):g("",!0)]),_:1},8,["class"])]),_:1},8,["transition"]),a(Q,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2 scale-95","enter-to-class":"opacity-100 translate-y-0 scale-100","leave-active-class":"transition-all duration-200 ease-[var(--ios-spring-snappy)]","leave-from-class":"opacity-100 translate-y-0 scale-100","leave-to-class":"opacity-0 -translate-y-2 scale-95"},{default:l(()=>[I.value?(d(),m("div",Ct,[e("div",$t,[e("div",St,[t[20]||(t[20]=e("p",{class:"text-sm font-medium text-muted-foreground"}," Filter berdasarkan tanggal ",-1)),e("div",Dt,[e("div",Pt,[t[17]||(t[17]=e("label",null,"Dari Tanggal",-1)),a(s(z),{modelValue:y.value,"onUpdate:modelValue":t[2]||(t[2]=r=>y.value=r),type:"date",class:"admin-input",onChange:S},null,8,["modelValue"])]),e("div",Vt,[t[18]||(t[18]=e("label",null,"Sampai",-1)),a(s(z),{modelValue:w.value,"onUpdate:modelValue":t[3]||(t[3]=r=>w.value=r),type:"date",class:"admin-input",onChange:S},null,8,["modelValue"])])]),y.value||w.value?(d(),P(s(_),{key:0,variant:"outline",class:"admin-btn-secondary",onClick:t[4]||(t[4]=r=>{y.value="",w.value="",S()})},{default:l(()=>[a(s(de),{class:"mr-2 h-4 w-4"}),t[19]||(t[19]=u(" Reset Tanggal ",-1))]),_:1})):g("",!0)])])])):g("",!0)]),_:1}),a(s(N),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(E).ios,delay:s(X)(0)},class:"hidden md:block"},{default:l(()=>[e("div",Tt,[e("div",Mt,[e("h3",null,[a(s(Re)),t[21]||(t[21]=u(" Filter & Pencarian ",-1))])]),e("div",jt,[e("div",Ft,[e("div",Bt,[e("div",zt,[a(s(oe),{class:"absolute left-3.5 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(s(z),{modelValue:x.value,"onUpdate:modelValue":t[5]||(t[5]=r=>x.value=r),type:"text",placeholder:"Cari order number, nama, atau telepon...",class:"admin-input pl-10"},null,8,["modelValue"])]),$e(e("select",{"onUpdate:modelValue":t[6]||(t[6]=r=>$.value=r),class:"admin-select w-full sm:w-48",onChange:S},[t[22]||(t[22]=e("option",{value:""},"Semua Status",-1)),(d(!0),m(A,null,W(n.statuses,(r,b)=>(d(),m("option",{key:b,value:b},o(r),9,Ut))),128))],544),[[Se,$.value]])]),e("div",At,[e("div",Lt,[a(s(ie),{class:"h-4 w-4"}),t[23]||(t[23]=e("span",null,"Rentang Tanggal:",-1))]),a(s(z),{modelValue:y.value,"onUpdate:modelValue":t[7]||(t[7]=r=>y.value=r),type:"date",class:"admin-input w-full sm:w-auto",onChange:S},null,8,["modelValue"]),t[25]||(t[25]=e("span",{class:"text-muted-foreground"},"sampai",-1)),a(s(z),{modelValue:w.value,"onUpdate:modelValue":t[8]||(t[8]=r=>w.value=r),type:"date",class:"admin-input w-full sm:w-auto",onChange:S},null,8,["modelValue"]),p.value?(d(),P(s(_),{key:0,variant:"outline",class:"ios-button",onClick:B},{default:l(()=>[a(s(de),{class:"mr-2 h-4 w-4"}),t[24]||(t[24]=u(" Reset ",-1))]),_:1})):g("",!0)])])])])]),_:1},8,["transition"]),e("div",It,[(d(!0),m(A,null,W(n.orders.data,r=>(d(),P(pt,{key:r.id,order:r,statuses:n.statuses},null,8,["order","statuses"]))),128)),!n.orders.data||n.orders.data.length===0?(d(),m("div",Nt,[e("div",Et,[e("div",Kt,[a(s(le))]),t[26]||(t[26]=e("h3",null,"Belum Ada Pesanan",-1)),t[27]||(t[27]=e("p",null,"Pesanan customer akan muncul di sini",-1))])])):g("",!0),n.orders.data?.length>0&&n.orders.last_page>1?(d(),m("div",Rt,[a(s(_),{variant:"outline",size:"sm",class:"ios-button h-10 w-10 p-0",disabled:n.orders.current_page===1,onClick:t[9]||(t[9]=r=>O(n.orders.links[0]?.url))},{default:l(()=>[a(s(ue),{class:"h-4 w-4"})]),_:1},8,["disabled"]),e("span",qt,o(n.orders.current_page)+" / "+o(n.orders.last_page),1),a(s(_),{variant:"outline",size:"sm",class:"ios-button h-10 w-10 p-0",disabled:n.orders.current_page===n.orders.last_page,onClick:t[10]||(t[10]=r=>O(n.orders.links[n.orders.links.length-1]?.url))},{default:l(()=>[a(s(ce),{class:"h-4 w-4"})]),_:1},8,["disabled"])])):g("",!0)]),a(s(N),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(E).ios,delay:s(X)(1)},class:"hidden md:block"},{default:l(()=>[e("div",Ot,[e("div",Wt,[e("table",Ht,[e("thead",null,[e("tr",null,[a(U,{column:"order_number",label:"No. Pesanan","current-sort":k.value,"current-direction":f.value,style:{width:"180px"},onSort:M},null,8,["current-sort","current-direction"]),a(U,{column:"customer_name",label:"Customer","current-sort":k.value,"current-direction":f.value,style:{"min-width":"200px"},onSort:M},null,8,["current-sort","current-direction"]),a(U,{column:"total",label:"Total","current-sort":k.value,"current-direction":f.value,align:"right",style:{width:"120px"},onSort:M},null,8,["current-sort","current-direction"]),a(U,{column:"items",label:"Items","current-sort":k.value,"current-direction":f.value,align:"center",style:{width:"80px"},onSort:M},null,8,["current-sort","current-direction"]),a(U,{column:"status",label:"Status","current-sort":k.value,"current-direction":f.value,align:"center",style:{width:"120px"},onSort:M},null,8,["current-sort","current-direction"]),a(U,{column:"created_at",label:"Tanggal","current-sort":k.value,"current-direction":f.value,align:"center",style:{width:"160px"},onSort:M},null,8,["current-sort","current-direction"]),t[28]||(t[28]=e("th",{class:"whitespace-nowrap px-4 py-3 text-center text-xs font-semibold uppercase tracking-wider text-muted-foreground",style:{width:"100px"}}," Aksi ",-1))])]),e("tbody",null,[(d(!0),m(A,null,W(j.value,r=>(d(),m("tr",{key:r.id,class:"ios-table-row"},[e("td",Xt,[a(s(G),{href:s(Y)(r.id).url,class:"font-mono text-sm font-semibold text-primary hover:underline"},{default:l(()=>[u(o(r.order_number),1)]),_:2},1032,["href"])]),e("td",Gt,[e("div",Yt,[e("span",Jt,o(r.customer_name),1),e("button",{class:"mt-0.5 flex w-fit items-center gap-1.5 text-sm text-green-600 transition-colors hover:text-green-700 dark:text-green-400",onClick:b=>ye(r.customer_phone)},[a(s(qe),{class:"h-3.5 w-3.5"}),u(" "+o(r.customer_phone),1)],8,Qt)])]),e("td",Zt,[a(ee,{price:r.total,size:"sm",class:"font-semibold text-primary"},null,8,["price"])]),e("td",es,[e("span",ts,[a(s(R),{class:"h-3 w-3"}),u(" "+o(r.items.length),1)])]),e("td",ss,[e("span",{class:F(["ios-badge",be(r.status)])},[t[29]||(t[29]=e("span",{class:"ios-badge-dot"},null,-1)),u(" "+o(n.statuses[r.status]||r.status),1)],2)]),e("td",as,[e("span",rs,o(he(r.created_at)),1)]),e("td",ns,[a(s(G),{href:s(Y)(r.id).url},{default:l(()=>[a(s(_),{variant:"outline",size:"sm",class:"h-8 gap-1.5"},{default:l(()=>[a(s(fe),{class:"h-4 w-4"}),t[30]||(t[30]=u(" Detail ",-1))]),_:1})]),_:1},8,["href"])])]))),128)),j.value.length===0?(d(),m("tr",ls,[e("td",os,[e("div",is,[e("div",ds,[a(s(le),{class:"h-10 w-10 text-muted-foreground/50"})]),t[31]||(t[31]=e("h3",{class:"text-lg font-semibold"},"Belum Ada Pesanan",-1)),t[32]||(t[32]=e("p",{class:"mt-1 text-sm text-muted-foreground"},"Pesanan customer akan muncul di sini",-1))])])])):g("",!0)])])]),n.orders.last_page>1?(d(),m("div",us,[e("p",cs,[t[33]||(t[33]=u(" Menampilkan ",-1)),e("span",ms,o(n.orders.from),1),t[34]||(t[34]=u(" - ",-1)),e("span",fs,o(n.orders.to),1),t[35]||(t[35]=u(" dari ",-1)),e("span",ps,o(n.orders.total),1),t[36]||(t[36]=u(" pesanan ",-1))]),e("div",gs,[a(s(_),{variant:"outline",size:"sm",disabled:n.orders.current_page===1,onClick:t[11]||(t[11]=r=>O(n.orders.links[0]?.url))},{default:l(()=>[a(s(ue),{class:"h-4 w-4"}),t[37]||(t[37]=u(" Prev ",-1))]),_:1},8,["disabled"]),e("span",vs,o(n.orders.current_page)+" / "+o(n.orders.last_page),1),a(s(_),{variant:"outline",size:"sm",disabled:n.orders.current_page===n.orders.last_page,onClick:t[12]||(t[12]=r=>O(n.orders.links[n.orders.links.length-1]?.url))},{default:l(()=>[t[38]||(t[38]=u(" Next ",-1)),a(s(ce),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])):g("",!0)])]),_:1},8,["transition"]),t[39]||(t[39]=e("div",{class:"h-20 md:hidden"},null,-1))])]),_:1})]),_:1})],64))}});export{ra as default};
