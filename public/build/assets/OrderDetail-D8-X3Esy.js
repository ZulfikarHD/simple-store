import{d as R,u as U,c as w,r as B,a as c,b as s,e as t,w as o,f as a,h as Q,g as k,i as b,l as F,t as l,j as p,o as d,p as X,F as _,k as z,q as $,m as G}from"./app-CZppbeYQ.js";import{u as J,s as I,M as x}from"./shopping-bag-CgJLrDmv.js";import{_ as Y}from"./UserBottomNav.vue_vue_type_script_setup_true_lang-rKDUElj6.js";import{_ as Z}from"./StoreHeader.vue_vue_type_script_setup_true_lang-BO1oy3sZ.js";import{_ as ee}from"./PullToRefresh.vue_vue_type_script_setup_true_lang-Dzx9S4ml.js";import{_ as M,a as C}from"./CardContent.vue_vue_type_script_setup_true_lang-D9FgFAoY.js";import{_ as P,a as T}from"./CardTitle.vue_vue_type_script_setup_true_lang-hL4MGq2q.js";import{_ as K}from"./Separator.vue_vue_type_script_setup_true_lang-CBTlUHzw.js";import"./ProductController-0M3t1kra.js";import"./CartController-1jpe7Y2F.js";/* empty css                                                                       */import{_ as L}from"./OrderStatusBadge.vue_vue_type_script_setup_true_lang-BwFs5z5U.js";import{C as N}from"./clock-DtWUUNZy.js";import{C as te}from"./circle-check-big-DmpIkb5U.js";import{C as se}from"./chef-hat-A9P6tsOI.js";import{P as O}from"./package-D47XvBWL.js";import{T as ae}from"./truck-DYJTG-Lf.js";import{C as re}from"./circle-x-BDGHwrPP.js";import{A as V}from"./arrow-left-BPXUAo6M.js";import{E as W}from"./external-link-CW5AnUdP.js";import{U as ne}from"./user-BcBa71Ld.js";import{P as oe}from"./phone-CutlmKqZ.js";import{M as le}from"./map-pin-BHQg_jdA.js";import{F as ie}from"./file-text-NiSgRPA5.js";import"./AnimatePresence.vue-BCT8tUuZ.js";import"./index-ChOoFR3L.js";import"./index-Dp0PW41R.js";import"./shopping-cart-Dh-ymfaE.js";import"./loader-circle-Dh4DslJv.js";const de={class:"flex min-h-screen flex-col bg-background"},ue={class:"ios-navbar fixed inset-x-0 top-0 z-50 border-b border-brand-blue-200/30 dark:border-brand-blue-800/30"},me={class:"mx-auto flex h-14 max-w-7xl items-center justify-between px-4 sm:h-16 sm:px-6 lg:px-8"},fe={class:"mx-auto w-full max-w-2xl flex-1 px-4 py-4 sm:px-6 sm:py-8"},ce={class:"flex items-center justify-between gap-3 sm:hidden"},xe={class:"min-w-0 flex-1 text-center"},be={class:"truncate text-base font-bold text-foreground"},pe={class:"hidden sm:block"},ve={class:"flex items-center justify-between"},ge={class:"text-2xl font-bold tracking-tight text-foreground"},ye={class:"mt-1 text-sm text-muted-foreground"},he={class:"overflow-hidden rounded-2xl border-2 border-amber-400 bg-gradient-to-r from-amber-50 to-orange-50 p-4 shadow-lg shadow-amber-500/10 dark:border-amber-600 dark:from-amber-900/30 dark:to-orange-900/30"},we={class:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},ke={class:"flex items-start gap-3"},_e={class:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-amber-500 shadow-md shadow-amber-500/30"},$e={class:"relative"},Me={class:"space-y-4"},Ce={class:"min-w-0 flex-1 pt-1"},Pe={key:0,class:"text-xs text-muted-foreground"},Te={key:0,class:"mt-4 rounded-xl bg-red-50 p-3 dark:bg-red-900/20"},De={class:"text-sm text-red-700 dark:text-red-400"},je={class:"space-y-3"},Ae={class:"min-w-0 flex-1"},Se={class:"font-medium text-foreground"},Be={class:"text-xs text-muted-foreground"},Fe={class:"shrink-0 font-semibold text-foreground"},ze={class:"space-y-2 text-sm"},Ie={class:"flex justify-between"},Ke={class:"flex justify-between"},Le={class:"flex justify-between text-base font-bold"},Ne={class:"text-brand-blue"},Oe={class:"space-y-3"},Ve={class:"flex items-start gap-3"},We={class:"font-medium text-foreground"},Ee={class:"flex items-start gap-3"},qe={class:"font-medium text-foreground"},He={key:0,class:"flex items-start gap-3"},Re={class:"font-medium text-foreground"},Ue={key:1,class:"flex items-start gap-3"},Qe={class:"font-medium text-foreground"},Xe={class:"mx-4 overflow-hidden rounded-2xl border border-green-200 bg-white/95 p-3 shadow-xl shadow-green-500/10 backdrop-blur-md dark:border-green-800/30 dark:bg-background/95"},Ge={class:"flex items-center gap-3"},Je={class:"min-w-0 flex-1"},Ye={class:"truncate text-sm font-bold text-foreground"},Tt=R({__name:"OrderDetail",props:{order:{}},setup(n){const m=n,E=U(),q=w(()=>E.props.store??{name:"Simple Store",tagline:"Premium Quality Products",logo:null}),H=J(),i=B(!1),u=B(!1);function D(){m.order.whatsapp_url&&(H.medium(),window.open(m.order.whatsapp_url,"_blank"))}const j=w(()=>{const f=[{status:"pending",label:"Menunggu",icon:N,time:m.order.timestamps.created_at},{status:"confirmed",label:"Dikonfirmasi",icon:te,time:m.order.timestamps.confirmed_at},{status:"preparing",label:"Diproses",icon:se,time:m.order.timestamps.preparing_at},{status:"ready",label:"Siap",icon:O,time:m.order.timestamps.ready_at},{status:"delivered",label:"Selesai",icon:ae,time:m.order.timestamps.delivered_at}];return m.order.status==="cancelled"?[...f.slice(0,1),{status:"cancelled",label:"Dibatalkan",icon:re,time:m.order.timestamps.cancelled_at}]:f}),y=w(()=>{const f=["pending","confirmed","preparing","ready","delivered"];return m.order.status==="cancelled"?-1:f.indexOf(m.order.status)});function g(f){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(f)}function A(f){return f?new Date(f).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}const v={type:"spring",...I.ios},h={type:"spring",...I.snappy};return(f,e)=>(d(),c(_,null,[s(a(Q),{title:`Pesanan ${n.order.order_number} - ${q.value.name}`},{default:o(()=>[...e[20]||(e[20]=[t("link",{rel:"preconnect",href:"https://rsms.me/"},null,-1),t("link",{rel:"stylesheet",href:"https://rsms.me/inter/inter.css"},null,-1)])]),_:1},8,["title"]),t("div",de,[t("header",ue,[t("div",me,[s(Z)])]),e[40]||(e[40]=t("div",{class:"h-14 sm:h-16"},null,-1)),s(ee,null,{default:o(()=>[t("main",fe,[s(a(x),{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:v,class:"mb-4"},{default:o(()=>[t("div",ce,[s(a(x),{animate:{scale:i.value?.9:1},transition:h},{default:o(()=>[s(a(F),{href:"/account/orders",class:"flex h-10 w-10 items-center justify-center rounded-full bg-muted/50",onMousedown:e[0]||(e[0]=r=>i.value=!0),onMouseup:e[1]||(e[1]=r=>i.value=!1),onMouseleave:e[2]||(e[2]=r=>i.value=!1),onTouchstartPassive:e[3]||(e[3]=r=>i.value=!0),onTouchend:e[4]||(e[4]=r=>i.value=!1)},{default:o(()=>[s(a(V),{class:"h-5 w-5 text-muted-foreground"})]),_:1})]),_:1},8,["animate"]),t("div",xe,[t("h1",be,l(n.order.order_number),1),s(a(L),{status:n.order.status},null,8,["status"])]),e[21]||(e[21]=t("div",{class:"h-10 w-10"},null,-1))]),t("div",pe,[s(a(x),{animate:{scale:i.value?.95:1,opacity:i.value?.7:1},transition:h},{default:o(()=>[s(a(F),{href:"/account/orders",class:"ios-button mb-4 inline-flex h-11 items-center gap-2 rounded-xl px-3 text-sm text-muted-foreground hover:bg-accent hover:text-foreground sm:mb-6 sm:h-auto sm:px-0",onMousedown:e[5]||(e[5]=r=>i.value=!0),onMouseup:e[6]||(e[6]=r=>i.value=!1),onMouseleave:e[7]||(e[7]=r=>i.value=!1),onTouchstartPassive:e[8]||(e[8]=r=>i.value=!0),onTouchend:e[9]||(e[9]=r=>i.value=!1)},{default:o(()=>[s(a(V),{class:"h-4 w-4"}),e[22]||(e[22]=p(" Kembali ke Riwayat ",-1))]),_:1})]),_:1},8,["animate"]),t("div",ve,[t("div",null,[t("h1",ge,l(n.order.order_number),1),t("p",ye,l(A(n.order.timestamps.created_at)),1)]),s(a(L),{status:n.order.status},null,8,["status"])])])]),_:1}),n.order.status==="pending"&&n.order.whatsapp_url?(d(),k(a(x),{key:0,initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{...v,delay:.05},class:"mb-4"},{default:o(()=>[t("div",he,[t("div",we,[t("div",ke,[t("div",_e,[s(a(N),{class:"h-5 w-5 text-white"})]),e[23]||(e[23]=t("div",null,[t("p",{class:"text-sm font-bold text-amber-800 dark:text-amber-300"}," Menunggu Konfirmasi "),t("p",{class:"text-sm text-amber-700 dark:text-amber-400"}," Kirim pesan WhatsApp untuk mengkonfirmasi pesanan ini ")],-1))]),s(a(x),{animate:{scale:u.value?.95:1},transition:h,class:"shrink-0"},{default:o(()=>[t("button",{class:"flex w-full items-center justify-center gap-2 rounded-xl bg-green-600 px-4 py-2.5 text-sm font-medium text-white shadow-lg shadow-green-600/30 transition-colors hover:bg-green-700 sm:w-auto",onClick:D,onMousedown:e[10]||(e[10]=r=>u.value=!0),onMouseup:e[11]||(e[11]=r=>u.value=!1),onMouseleave:e[12]||(e[12]=r=>u.value=!1),onTouchstartPassive:e[13]||(e[13]=r=>u.value=!0),onTouchend:e[14]||(e[14]=r=>u.value=!1)},[e[24]||(e[24]=t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1)),e[25]||(e[25]=p(" Konfirmasi via WhatsApp ",-1)),s(a(W),{class:"h-4 w-4"})],32)]),_:1},8,["animate"])])])]),_:1},8,["transition"])):b("",!0),s(a(x),{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{...v,delay:.1},class:"mb-4"},{default:o(()=>[s(a(M),{class:"overflow-hidden rounded-2xl border-brand-blue-100 dark:border-brand-blue-800/30"},{default:o(()=>[s(a(P),{class:"pb-3"},{default:o(()=>[s(a(T),{class:"text-base"},{default:o(()=>[...e[26]||(e[26]=[p("Status Pesanan",-1)])]),_:1})]),_:1}),s(a(C),{class:"pb-4"},{default:o(()=>[t("div",$e,[e[27]||(e[27]=t("div",{class:"absolute left-4 top-4 h-[calc(100%-32px)] w-0.5 bg-muted sm:left-5"},null,-1)),y.value>=0?(d(),c("div",{key:0,class:"absolute left-4 top-4 w-0.5 bg-brand-blue-500 transition-all duration-500 sm:left-5",style:X({height:`${Math.min(y.value/(j.value.length-1)*100,100)}%`})},null,4)):b("",!0),t("div",Me,[(d(!0),c(_,null,z(j.value,(r,S)=>(d(),c("div",{key:r.status,class:"relative flex items-start gap-3 sm:gap-4"},[t("div",{class:$(["relative z-10 flex h-8 w-8 shrink-0 items-center justify-center rounded-full sm:h-10 sm:w-10",[S<=y.value||r.status===n.order.status?r.status==="cancelled"?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"bg-brand-blue-100 text-brand-blue-600 dark:bg-brand-blue-900/30 dark:text-brand-blue-400":"bg-muted text-muted-foreground"]])},[(d(),k(G(r.icon),{class:"h-4 w-4 sm:h-5 sm:w-5"}))],2),t("div",Ce,[t("p",{class:$(["text-sm font-medium",[S<=y.value||r.status===n.order.status?"text-foreground":"text-muted-foreground"]])},l(r.label),3),r.time?(d(),c("p",Pe,l(A(r.time)),1)):b("",!0)])]))),128))])]),n.order.status==="cancelled"&&n.order.cancellation_reason?(d(),c("div",Te,[t("p",De,[e[28]||(e[28]=t("strong",null,"Alasan:",-1)),p(" "+l(n.order.cancellation_reason),1)])])):b("",!0)]),_:1})]),_:1})]),_:1},8,["transition"]),s(a(x),{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{...v,delay:.15},class:"mb-4"},{default:o(()=>[s(a(M),{class:"overflow-hidden rounded-2xl border-brand-blue-100 dark:border-brand-blue-800/30"},{default:o(()=>[s(a(P),{class:"pb-3"},{default:o(()=>[s(a(T),{class:"flex items-center gap-2 text-base"},{default:o(()=>[s(a(O),{class:"h-4 w-4"}),p(" Item Pesanan ("+l(n.order.items_count)+") ",1)]),_:1})]),_:1}),s(a(C),{class:"pb-4"},{default:o(()=>[t("div",je,[(d(!0),c(_,null,z(n.order.items,r=>(d(),c("div",{key:r.id,class:"flex items-start justify-between gap-3 rounded-xl bg-muted/50 p-3"},[t("div",Ae,[t("p",Se,l(r.product_name),1),t("p",Be,l(g(r.product_price))+" × "+l(r.quantity),1)]),t("p",Fe,l(g(r.subtotal)),1)]))),128))]),s(a(K),{class:"my-4"}),t("div",ze,[t("div",Ie,[e[29]||(e[29]=t("span",{class:"text-muted-foreground"},"Subtotal",-1)),t("span",null,l(g(n.order.subtotal)),1)]),t("div",Ke,[e[30]||(e[30]=t("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),t("span",null,l(g(n.order.delivery_fee)),1)]),s(a(K)),t("div",Le,[e[31]||(e[31]=t("span",null,"Total",-1)),t("span",Ne,l(g(n.order.total)),1)])])]),_:1})]),_:1})]),_:1},8,["transition"]),s(a(x),{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{...v,delay:.2},class:"mb-4"},{default:o(()=>[s(a(M),{class:"overflow-hidden rounded-2xl border-brand-blue-100 dark:border-brand-blue-800/30"},{default:o(()=>[s(a(P),{class:"pb-3"},{default:o(()=>[s(a(T),{class:"text-base"},{default:o(()=>[...e[32]||(e[32]=[p("Info Pengiriman",-1)])]),_:1})]),_:1}),s(a(C),{class:"pb-4"},{default:o(()=>[t("div",Oe,[t("div",Ve,[s(a(ne),{class:"mt-0.5 h-4 w-4 shrink-0 text-muted-foreground"}),t("div",null,[e[33]||(e[33]=t("p",{class:"text-xs text-muted-foreground"},"Nama",-1)),t("p",We,l(n.order.customer_name),1)])]),t("div",Ee,[s(a(oe),{class:"mt-0.5 h-4 w-4 shrink-0 text-muted-foreground"}),t("div",null,[e[34]||(e[34]=t("p",{class:"text-xs text-muted-foreground"},"Telepon",-1)),t("p",qe,l(n.order.customer_phone),1)])]),n.order.customer_address?(d(),c("div",He,[s(a(le),{class:"mt-0.5 h-4 w-4 shrink-0 text-muted-foreground"}),t("div",null,[e[35]||(e[35]=t("p",{class:"text-xs text-muted-foreground"},"Alamat",-1)),t("p",Re,l(n.order.customer_address),1)])])):b("",!0),n.order.notes?(d(),c("div",Ue,[s(a(ie),{class:"mt-0.5 h-4 w-4 shrink-0 text-muted-foreground"}),t("div",null,[e[36]||(e[36]=t("p",{class:"text-xs text-muted-foreground"},"Catatan",-1)),t("p",Qe,l(n.order.notes),1)])])):b("",!0)])]),_:1})]),_:1})]),_:1},8,["transition"])])]),_:1}),n.order.status==="pending"&&n.order.whatsapp_url?(d(),k(a(x),{key:0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...v,delay:.3},class:"fixed inset-x-0 bottom-20 z-40 md:hidden"},{default:o(()=>[t("div",Xe,[t("div",Ge,[t("div",Je,[e[37]||(e[37]=t("p",{class:"truncate text-xs font-medium text-amber-600 dark:text-amber-400"},"⏳ Menunggu Konfirmasi",-1)),t("p",Ye,l(n.order.order_number),1)]),s(a(x),{animate:{scale:u.value?.95:1},transition:h},{default:o(()=>[t("button",{class:"flex shrink-0 items-center gap-2 rounded-xl bg-green-600 px-4 py-2.5 text-sm font-medium text-white shadow-lg shadow-green-600/30 transition-colors hover:bg-green-700",onClick:D,onMousedown:e[15]||(e[15]=r=>u.value=!0),onMouseup:e[16]||(e[16]=r=>u.value=!1),onMouseleave:e[17]||(e[17]=r=>u.value=!1),onTouchstartPassive:e[18]||(e[18]=r=>u.value=!0),onTouchend:e[19]||(e[19]=r=>u.value=!1)},[e[38]||(e[38]=t("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor"},[t("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1)),e[39]||(e[39]=p(" Konfirmasi ",-1)),s(a(W),{class:"h-4 w-4"})],32)]),_:1},8,["animate"])])])]),_:1},8,["transition"])):b("",!0),t("div",{class:$(["md:hidden",n.order.status==="pending"&&n.order.whatsapp_url?"h-40":"h-20"])},null,2),s(Y)])],64))}});export{Tt as default};
