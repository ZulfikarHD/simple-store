import{d as P,r as g,a as w,b as i,f as a,h as $,w as o,e as t,s as I,j as n,q as x,v as T,x as j,g as N,o as h,t as C,F as A,n as K}from"./app-Xzr7XPdc.js";import{F as E,_ as G}from"./AppLayout.vue_vue_type_script_setup_true_lang-M3JTXDXO.js";import{_ as v}from"./index-CaAJprXl.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-BNNH7lEl.js";import{_}from"./Label.vue_vue_type_script_setup_true_lang-Cw3f1xlV.js";import{_ as z}from"./Checkbox.vue_vue_type_script_setup_true_lang-DE5AwWTn.js";import{_ as b}from"./InputError.vue_vue_type_script_setup_true_lang-CivA9U7J.js";import{_ as H}from"./PullToRefresh.vue_vue_type_script_setup_true_lang-CvtLkK9d.js";import{d as L,i as F,s as J}from"./index-WEbfYsTi.js";import{u as R,M as p,s as c,a as y}from"./shopping-bag-JC4P6ug4.js";import{A as q}from"./arrow-left-DNoiXA3l.js";import{H as O}from"./hash-BfH1n_EA.js";import{I as W}from"./image-plus-h62XPGyR.js";import{X}from"./x-CXORcXoV.js";import{U as Q}from"./upload-DZJB5QMC.js";import{C as Y}from"./circle-check-big-DoNy0iM-.js";import{S as M}from"./save-CwJrdtb9.js";import"./VisuallyHidden-DieOkrEN.js";import"./useForwardExpose-1OMvrt9B.js";import"./RovingFocusGroup-X78QlYhv.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-Dp0PW41R.js";import"./package-DRA6eS4s.js";import"./settings-BE5pWgkO.js";import"./log-out-NrarUGqG.js";import"./chevron-right-CdA8Ikxv.js";import"./PriceDisplay.vue_vue_type_script_setup_true_lang-Cu7tPeJi.js";import"./lock-Dqv_5mIf.js";import"./loader-circle-C8Zx05AU.js";import"./circle-check-Bmna56xZ.js";import"./clock-Bk__DVzR.js";import"./phone-DmoKKMMD.js";import"./check-BepK06WP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./VisuallyHiddenInput-CYehMXaE.js";const Z={class:"admin-page flex flex-col gap-6 p-4 md:p-6"},ee={class:"flex items-center gap-3"},te={class:"flex flex-col gap-6 lg:col-span-2"},ae={class:"admin-form-section"},ie={class:"admin-form-section-header"},se={class:"admin-form-section-content"},oe={class:"flex flex-col gap-5"},re={class:"admin-input-group"},ne={class:"admin-input-group"},le={class:"admin-input-group"},de={class:"admin-form-section"},me={class:"admin-form-section-header"},ue={class:"admin-form-section-content"},pe=["src"],ce={key:1,class:"admin-upload-area"},fe={class:"upload-icon"},ge={class:"flex flex-col gap-6"},ve={class:"admin-form-section"},_e={class:"admin-form-section-header"},be={class:"admin-form-section-content"},ye={class:"flex items-start gap-3 rounded-xl border border-border/50 bg-muted/20 p-4"},xe={class:"flex flex-col"},he={class:"admin-form-section"},ke={class:"admin-form-section-content flex flex-col gap-3"},we={class:"fixed inset-x-0 bottom-0 z-40 border-t bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/80 p-4 md:hidden"},rt=P({__name:"Create",setup(Ce){const m=R(),S=[{title:"Dashboard",href:L().url},{title:"Kategori",href:F().url},{title:"Tambah Kategori",href:"#"}],s=g({name:"",description:"",image:null,is_active:!0,sort_order:""}),l=g({}),u=g(!1),f=g(null);function U(d){m.selection();const r=d.target.files?.[0];r&&(s.value.image=r,f.value=URL.createObjectURL(r))}function B(){m.light(),s.value.image=null,f.value=null}function D(){m.medium(),u.value=!0,l.value={};const d=new FormData;d.append("name",s.value.name),d.append("description",s.value.description||""),d.append("is_active",s.value.is_active?"1":"0"),s.value.sort_order&&d.append("sort_order",s.value.sort_order),s.value.image&&d.append("image",s.value.image),K.post(J().url,d,{forceFormData:!0,onSuccess:()=>{m.success()},onError:e=>{m.error(),l.value=e},onFinish:()=>{u.value=!1}})}function k(){m.light(),K.get(F().url)}return(d,e)=>(h(),w(A,null,[i(a($),{title:"Tambah Kategori"}),i(G,{breadcrumbs:S},{default:o(()=>[i(H,null,{default:o(()=>[t("div",Z,[i(a(p),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:a(c).ios,class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},{default:o(()=>[t("div",ee,[i(a(v),{variant:"ghost",size:"icon",class:"ios-button h-10 w-10 shrink-0",onClick:k},{default:o(()=>[i(a(q),{class:"h-5 w-5"})]),_:1}),e[4]||(e[4]=t("div",{class:"flex flex-col gap-1"},[t("h1",{class:"text-2xl font-bold tracking-tight md:text-3xl"}," Tambah Kategori "),t("p",{class:"text-muted-foreground"}," Isi informasi kategori baru ")],-1))])]),_:1},8,["transition"]),t("form",{id:"category-form",onSubmit:I(D,["prevent"]),class:"grid gap-6 lg:grid-cols-3"},[t("div",te,[i(a(p),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...a(c).ios,delay:a(y)(0)}},{default:o(()=>[t("div",ae,[t("div",ie,[t("h3",null,[i(a(E)),e[5]||(e[5]=n(" Informasi Kategori ",-1))])]),t("div",se,[t("div",oe,[t("div",re,[i(a(_),{for:"name"},{default:o(()=>[...e[6]||(e[6]=[n("Nama Kategori *",-1)])]),_:1}),i(a(V),{id:"name",modelValue:s.value.name,"onUpdate:modelValue":e[0]||(e[0]=r=>s.value.name=r),type:"text",placeholder:"Masukkan nama kategori",class:x(["admin-input",{"border-destructive":l.value.name}])},null,8,["modelValue","class"]),i(b,{message:l.value.name},null,8,["message"])]),t("div",ne,[i(a(_),{for:"description"},{default:o(()=>[...e[7]||(e[7]=[n("Deskripsi",-1)])]),_:1}),T(t("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=r=>s.value.description=r),rows:"4",placeholder:"Masukkan deskripsi kategori",class:x(["admin-textarea",{"border-destructive":l.value.description}])},null,2),[[j,s.value.description]]),i(b,{message:l.value.description},null,8,["message"])]),t("div",le,[i(a(_),{for:"sort_order",class:"flex items-center gap-2"},{default:o(()=>[i(a(O),{class:"h-4 w-4 text-primary"}),e[8]||(e[8]=n(" Urutan ",-1))]),_:1}),i(a(V),{id:"sort_order",modelValue:s.value.sort_order,"onUpdate:modelValue":e[2]||(e[2]=r=>s.value.sort_order=r),type:"number",min:"0",placeholder:"0",class:x(["admin-input",{"border-destructive":l.value.sort_order}])},null,8,["modelValue","class"]),e[9]||(e[9]=t("p",{class:"hint"},"Angka lebih kecil akan ditampilkan lebih dulu",-1)),i(b,{message:l.value.sort_order},null,8,["message"])])])])])]),_:1},8,["transition"]),i(a(p),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...a(c).ios,delay:a(y)(1)}},{default:o(()=>[t("div",de,[t("div",me,[t("h3",null,[i(a(W)),e[10]||(e[10]=n(" Gambar Kategori ",-1))])]),t("div",ue,[f.value?(h(),N(a(p),{key:0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:a(c).bouncy,class:"admin-image-preview"},{default:o(()=>[t("img",{src:f.value,alt:"Preview"},null,8,pe),t("button",{type:"button",class:"remove-btn ios-button",onClick:B},[i(a(X))])]),_:1},8,["transition"])):(h(),w("div",ce,[t("div",fe,[i(a(Q))]),e[11]||(e[11]=t("p",{class:"mb-2 text-sm font-medium"}," Klik atau drag file untuk upload ",-1)),e[12]||(e[12]=t("p",{class:"text-xs text-muted-foreground"}," PNG, JPG, JPEG atau WEBP (maks. 2MB) ",-1)),t("input",{type:"file",accept:"image/jpeg,image/png,image/jpg,image/webp",class:"absolute inset-0 cursor-pointer opacity-0",onChange:U},null,32)])),i(b,{message:l.value.image,class:"mt-2"},null,8,["message"])])])]),_:1},8,["transition"])]),t("div",ge,[i(a(p),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...a(c).ios,delay:a(y)(2)}},{default:o(()=>[t("div",ve,[t("div",_e,[t("h3",null,[i(a(Y)),e[13]||(e[13]=n(" Status ",-1))])]),t("div",be,[t("div",ye,[i(a(z),{id:"is_active",checked:s.value.is_active,"onUpdate:checked":e[3]||(e[3]=r=>s.value.is_active=r)},null,8,["checked"]),t("div",xe,[i(a(_),{for:"is_active",class:"cursor-pointer font-medium"},{default:o(()=>[...e[14]||(e[14]=[n(" Kategori Aktif ",-1)])]),_:1}),e[15]||(e[15]=t("p",{class:"text-xs text-muted-foreground"}," Kategori akan ditampilkan di toko ",-1))])])])])]),_:1},8,["transition"]),i(a(p),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...a(c).ios,delay:a(y)(3)}},{default:o(()=>[t("div",he,[t("div",ke,[i(a(v),{type:"submit",class:"admin-btn-primary gap-2",disabled:u.value},{default:o(()=>[i(a(M),{class:"h-4 w-4"}),n(" "+C(u.value?"Menyimpan...":"Simpan Kategori"),1)]),_:1},8,["disabled"]),i(a(v),{type:"button",variant:"outline",class:"admin-btn-secondary",onClick:k},{default:o(()=>[...e[16]||(e[16]=[n(" Batal ",-1)])]),_:1})])])]),_:1},8,["transition"])])],32),e[17]||(e[17]=t("div",{class:"h-36 md:hidden"},null,-1))])]),_:1}),t("div",we,[i(a(v),{type:"submit",form:"category-form",class:"admin-btn-primary gap-2 w-full",disabled:u.value},{default:o(()=>[i(a(M),{class:"h-4 w-4"}),n(" "+C(u.value?"Menyimpan...":"Simpan Kategori"),1)]),_:1},8,["disabled"])])]),_:1})],64))}});export{rt as default};
