import{d as O,u as q,c as N,r as C,a as m,b as a,e,w as n,f as s,h as G,g as k,j as u,l as $,F as M,i as _,o as l,q as U,t as i,k as H,C as Q,D as Y}from"./app-Bup2iCrW.js";import{_ as J}from"./AnimatePresence.vue-hwJfZm02.js";import{u as X,d as Z,s as B,M as d}from"./shopping-bag-Cyqv5MtD.js";import{_ as tt,s as et,a as st}from"./StoreHeader.vue_vue_type_script_setup_true_lang-BNT3L5Mg.js";import{a as at}from"./CheckoutController-BPHuwCVz.js";import{_ as nt}from"./CartCounter.vue_vue_type_script_setup_true_lang-g3Qz_jfD.js";import{_ as ot}from"./index-BTLehctj.js";import{_ as D}from"./Input.vue_vue_type_script_setup_true_lang-DzWyVDWT.js";import{_ as w}from"./Label.vue_vue_type_script_setup_true_lang-CtzFslDC.js";import{A as rt}from"./arrow-left-yHnVqiVj.js";import{C as it}from"./circle-alert-DSDS1ZHo.js";import{U as lt}from"./user-CLIfCHKh.js";import{M as dt}from"./map-pin-BTNAhKB9.js";import{P as S}from"./package-C9MS62E-.js";import{L as ut}from"./loader-circle-l6oOwzKV.js";import{C as mt}from"./circle-check-big-Ccfw_IGb.js";import"./index-Dp0PW41R.js";import"./shopping-cart-WNci46Qf.js";import"./CartController-1jpe7Y2F.js";import"./useForwardExpose-B27rRWi-.js";const ct={class:"min-h-screen bg-background"},pt={class:"ios-navbar fixed inset-x-0 top-0 z-50 border-b border-brand-blue-200/30 dark:border-brand-blue-800/30"},ft={class:"mx-auto flex h-14 max-w-7xl items-center justify-between px-4 sm:h-16 sm:px-6 lg:px-8"},xt={class:"flex items-center gap-2 sm:gap-3"},bt={class:"mx-auto max-w-7xl px-4 py-6 sm:px-6 sm:py-8 lg:px-8"},gt={class:"space-y-4 sm:space-y-6 lg:col-span-2"},_t={class:"flex items-center gap-2 text-destructive"},vt={class:"text-sm font-medium sm:text-base"},yt={class:"mb-4 flex items-center gap-2 text-base font-semibold text-foreground sm:mb-6 sm:text-lg"},ht={class:"space-y-4"},kt={class:"grid gap-4 sm:grid-cols-2"},wt={class:"space-y-2"},$t={key:0,class:"animate-ios-shake text-sm text-destructive"},Pt={class:"space-y-2"},Ft={key:0,class:"animate-ios-shake text-sm text-destructive"},Ct={class:"space-y-2"},Mt={key:0,class:"animate-ios-shake text-sm text-destructive"},Bt={class:"mb-4 flex items-center gap-2 text-base font-semibold text-foreground sm:mb-6 sm:text-lg"},Dt={class:"space-y-4"},At={class:"space-y-2"},Tt=["aria-invalid"],jt={key:0,class:"animate-ios-shake text-sm text-destructive"},Nt={class:"space-y-2"},St=["aria-invalid"],It={key:0,class:"animate-ios-shake text-sm text-destructive"},Lt={class:"premium-card sticky top-24 rounded-2xl p-6"},Rt={class:"mb-4 flex items-center gap-2 text-lg font-semibold text-foreground"},Wt={class:"ios-scroll mb-4 max-h-64 space-y-3 overflow-y-auto"},Vt={class:"h-12 w-12 shrink-0 overflow-hidden rounded-lg bg-muted"},zt=["src","alt"],Et={key:1,class:"flex h-full w-full items-center justify-center"},Kt={class:"min-w-0 flex-1"},Ot={class:"truncate text-sm font-medium text-foreground"},qt={class:"text-xs text-muted-foreground"},Gt={class:"text-sm font-medium text-foreground"},Ut={class:"space-y-3"},Ht={class:"flex items-center justify-between text-sm"},Qt={class:"text-muted-foreground"},Yt={class:"font-medium text-foreground"},Jt={class:"flex items-center justify-between rounded-xl bg-gradient-to-r from-brand-blue-50 to-brand-gold-50 p-3 dark:from-brand-blue-900/30 dark:to-brand-gold-900/20"},Xt={class:"price-tag text-xl font-bold"},Zt={class:"mt-16 hidden border-t border-brand-blue-100 bg-gradient-to-b from-brand-blue-50/50 to-white dark:border-brand-blue-900/30 dark:from-brand-blue-900/20 dark:to-background md:block"},te={class:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8"},ee={class:"flex flex-col items-center gap-2"},se={class:"text-center text-sm text-muted-foreground"},ae={class:"text-xs text-brand-gold"},$e=O({__name:"Checkout",props:{cart:{},customer:{}},setup(c){const I=c,L=q(),P=N(()=>L.props.store??{name:"Simple Store",tagline:"Premium Quality Products",logo:null}),A=X(),{shakeClass:R,shake:W}=Z(),p=C(!1),b=C(!1),f=C(null),T=N(()=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(I.cart.subtotal));function j(h){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(h)}function V(){A.error(),W()}function v(h){f.value=h,A.selection()}function y(){f.value=null}const g={type:"spring",...B.ios},z={type:"spring",...B.bouncy},x={type:"spring",...B.snappy};return(h,t)=>(l(),m(M,null,[a(s(G),{title:`Checkout - ${P.value.name}`},{default:n(()=>[...t[15]||(t[15]=[e("link",{rel:"preconnect",href:"https://rsms.me/"},null,-1),e("link",{rel:"stylesheet",href:"https://rsms.me/inter/inter.css"},null,-1)])]),_:1},8,["title"]),e("div",ct,[e("header",pt,[e("div",ft,[a(tt),e("nav",xt,[a(nt,{count:c.cart.total_items},null,8,["count"]),h.$page.props.auth.user?(l(),k(s($),{key:0,href:"/dashboard",class:"ios-button hidden rounded-xl bg-primary px-4 py-2.5 text-sm font-medium text-primary-foreground shadow-sm sm:inline-flex"},{default:n(()=>[...t[16]||(t[16]=[u(" Dashboard ",-1)])]),_:1})):(l(),m(M,{key:1},[a(s($),{href:"/login",class:"ios-button hidden rounded-xl px-4 py-2.5 text-sm font-medium text-foreground sm:inline-flex"},{default:n(()=>[...t[17]||(t[17]=[u(" Masuk ",-1)])]),_:1}),a(s($),{href:"/register",class:"ios-button hidden rounded-xl bg-primary px-4 py-2.5 text-sm font-medium text-primary-foreground shadow-sm sm:inline-flex"},{default:n(()=>[...t[18]||(t[18]=[u(" Daftar ",-1)])]),_:1})],64))])])]),t[36]||(t[36]=e("div",{class:"h-14 sm:h-16"},null,-1)),e("main",bt,[a(s(d),{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:g},{default:n(()=>[a(s(d),{animate:{scale:p.value?.95:1,opacity:p.value?.7:1},transition:x},{default:n(()=>[a(s($),{href:s(et)(),class:"ios-button mb-4 inline-flex h-11 items-center gap-2 rounded-xl px-3 text-sm text-muted-foreground hover:bg-accent hover:text-foreground sm:mb-6 sm:h-auto sm:px-0",onMousedown:t[0]||(t[0]=o=>p.value=!0),onMouseup:t[1]||(t[1]=o=>p.value=!1),onMouseleave:t[2]||(t[2]=o=>p.value=!1),onTouchstartPassive:t[3]||(t[3]=o=>p.value=!0),onTouchend:t[4]||(t[4]=o=>p.value=!1)},{default:n(()=>[a(s(rt),{class:"h-4 w-4"}),t[19]||(t[19]=u(" Kembali ke Keranjang ",-1))]),_:1},8,["href"])]),_:1},8,["animate"])]),_:1}),a(s(d),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...g,delay:.05},class:"mb-6 sm:mb-8"},{default:n(()=>[...t[20]||(t[20]=[e("h1",{class:"text-2xl font-bold tracking-tight text-foreground sm:text-3xl"}," Checkout ",-1),e("p",{class:"mt-1 text-sm text-muted-foreground sm:mt-2 sm:text-base"}," Lengkapi data pengiriman untuk melanjutkan pesanan ",-1)])]),_:1},8,["transition"]),a(s(Y),Q(s(at).form(),{class:"grid gap-6 lg:grid-cols-3 lg:gap-8",onError:V}),{default:n(({errors:o,processing:F,hasErrors:E})=>[e("div",gt,[a(s(J),null,{default:n(()=>[E&&o.checkout?(l(),k(s(d),{key:0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:z,class:U([s(R),"rounded-2xl border border-destructive/50 bg-destructive/10 p-4"])},{default:n(()=>[e("div",_t,[a(s(it),{class:"h-5 w-5 shrink-0"}),e("span",vt,i(o.checkout),1)])]),_:2},1032,["class"])):_("",!0)]),_:2},1024),a(s(d),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...g,delay:.1},class:"ios-card rounded-2xl border border-brand-blue-100 bg-card p-4 dark:border-brand-blue-800/30 sm:p-6"},{default:n(()=>[e("h2",yt,[a(s(lt),{class:"h-5 w-5 text-brand-blue"}),t[21]||(t[21]=u(" Data Penerima ",-1))]),e("div",ht,[e("div",kt,[e("div",wt,[a(s(w),{for:"customer_first_name",class:"text-sm sm:text-base"},{default:n(()=>[...t[22]||(t[22]=[u("Nama Depan *",-1)])]),_:1}),a(s(d),{animate:{scale:f.value==="customer_first_name"?1.02:1},transition:x},{default:n(()=>[a(s(D),{id:"customer_first_name",name:"customer_first_name",type:"text",placeholder:"Masukkan nama depan","default-value":c.customer?.first_name??"",class:"ios-input h-12 rounded-xl text-base sm:h-11 sm:text-sm","aria-invalid":!!o.customer_first_name,onFocus:t[5]||(t[5]=r=>v("customer_first_name")),onBlur:y},null,8,["default-value","aria-invalid"])]),_:2},1032,["animate"]),o.customer_first_name?(l(),m("p",$t,i(o.customer_first_name),1)):_("",!0)]),e("div",Pt,[a(s(w),{for:"customer_last_name",class:"text-sm sm:text-base"},{default:n(()=>[...t[23]||(t[23]=[u("Nama Belakang *",-1)])]),_:1}),a(s(d),{animate:{scale:f.value==="customer_last_name"?1.02:1},transition:x},{default:n(()=>[a(s(D),{id:"customer_last_name",name:"customer_last_name",type:"text",placeholder:"Masukkan nama belakang","default-value":c.customer?.last_name??"",class:"ios-input h-12 rounded-xl text-base sm:h-11 sm:text-sm","aria-invalid":!!o.customer_last_name,onFocus:t[6]||(t[6]=r=>v("customer_last_name")),onBlur:y},null,8,["default-value","aria-invalid"])]),_:2},1032,["animate"]),o.customer_last_name?(l(),m("p",Ft,i(o.customer_last_name),1)):_("",!0)])]),t[26]||(t[26]=e("p",{class:"text-xs text-muted-foreground"}," Gunakan nama asli tanpa gelar (Pak, Bu, Mr, Mrs, dll) dan tanpa simbol (-) ",-1)),e("div",Ct,[a(s(w),{for:"customer_phone",class:"text-sm sm:text-base"},{default:n(()=>[...t[24]||(t[24]=[u(" Nomor Telepon (WhatsApp) * ",-1)])]),_:1}),a(s(d),{animate:{scale:f.value==="customer_phone"?1.02:1},transition:x},{default:n(()=>[a(s(D),{id:"customer_phone",name:"customer_phone",type:"tel",inputmode:"tel",placeholder:"08xxxxxxxxxx","default-value":c.customer?.phone??"",class:"ios-input h-12 rounded-xl text-base sm:h-11 sm:text-sm","aria-invalid":!!o.customer_phone,onFocus:t[7]||(t[7]=r=>v("customer_phone")),onBlur:y},null,8,["default-value","aria-invalid"])]),_:2},1032,["animate"]),o.customer_phone?(l(),m("p",Mt,i(o.customer_phone),1)):_("",!0),t[25]||(t[25]=e("p",{class:"text-xs text-muted-foreground"}," Pesanan akan dikonfirmasi via WhatsApp ke nomor ini ",-1))])])]),_:2},1032,["transition"]),a(s(d),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...g,delay:.15},class:"ios-card rounded-2xl border border-brand-blue-100 bg-card p-4 dark:border-brand-blue-800/30 sm:p-6"},{default:n(()=>[e("h2",Bt,[a(s(dt),{class:"h-5 w-5 text-brand-blue"}),t[27]||(t[27]=u(" Alamat Pengiriman ",-1))]),e("div",Dt,[e("div",At,[a(s(w),{for:"customer_address",class:"text-sm sm:text-base"},{default:n(()=>[...t[28]||(t[28]=[u(" Alamat Lengkap ",-1),e("span",{class:"text-muted-foreground"},"(Opsional)",-1)])]),_:1}),a(s(d),{animate:{scale:f.value==="customer_address"?1.01:1},transition:x},{default:n(()=>[e("textarea",{id:"customer_address",name:"customer_address",rows:"4",placeholder:"Masukkan alamat lengkap dengan RT/RW, kelurahan, kecamatan, kota, dan kode pos",class:"ios-input flex min-h-[120px] w-full rounded-xl border-0 bg-muted/50 px-4 py-3 text-base shadow-xs placeholder:text-muted-foreground focus:bg-background focus:ring-2 focus:ring-primary/20 disabled:cursor-not-allowed disabled:opacity-50 sm:text-sm","aria-invalid":!!o.customer_address,onFocus:t[8]||(t[8]=r=>v("customer_address")),onBlur:y},i(c.customer?.address??""),41,Tt)]),_:2},1032,["animate"]),o.customer_address?(l(),m("p",jt,i(o.customer_address),1)):_("",!0)]),e("div",Nt,[a(s(w),{for:"notes",class:"text-sm sm:text-base"},{default:n(()=>[...t[29]||(t[29]=[u(" Catatan (Opsional) ",-1)])]),_:1}),a(s(d),{animate:{scale:f.value==="notes"?1.01:1},transition:x},{default:n(()=>[e("textarea",{id:"notes",name:"notes",rows:"3",placeholder:"Catatan tambahan untuk pesanan (misal: warna, ukuran, patokan alamat, dll)",class:"ios-input flex min-h-[100px] w-full rounded-xl border-0 bg-muted/50 px-4 py-3 text-base shadow-xs placeholder:text-muted-foreground focus:bg-background focus:ring-2 focus:ring-primary/20 disabled:cursor-not-allowed disabled:opacity-50 sm:text-sm","aria-invalid":!!o.notes,onFocus:t[9]||(t[9]=r=>v("notes")),onBlur:y},null,40,St)]),_:2},1032,["animate"]),o.notes?(l(),m("p",It,i(o.notes),1)):_("",!0)])])]),_:2},1032,["transition"])]),a(s(d),{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{...g,delay:.2},class:"lg:col-span-1"},{default:n(()=>[e("div",Lt,[e("h2",Rt,[a(s(S),{class:"h-5 w-5 text-brand-blue"}),t[30]||(t[30]=u(" Ringkasan Pesanan ",-1))]),e("div",Wt,[(l(!0),m(M,null,H(c.cart.items,(r,K)=>(l(),k(s(d),{key:r.id,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...g,delay:.25+K*.05},class:"flex items-center gap-3 rounded-xl bg-muted/30 p-3"},{default:n(()=>[e("div",Vt,[r.product.image?(l(),m("img",{key:0,src:`/storage/${r.product.image}`,alt:r.product.name,class:"h-full w-full object-cover"},null,8,zt)):(l(),m("div",Et,[a(s(S),{class:"h-5 w-5 text-muted-foreground"})]))]),e("div",Kt,[e("p",Ot,i(r.product.name),1),e("p",qt,i(r.quantity)+" x "+i(j(r.product.price)),1)]),e("p",Gt,i(j(r.subtotal)),1)]),_:2},1032,["transition"]))),128))]),t[34]||(t[34]=e("hr",{class:"my-4 border-border"},null,-1)),e("div",Ut,[e("div",Ht,[e("span",Qt,"Subtotal ("+i(c.cart.total_items)+" item)",1),e("span",Yt,i(T.value),1)]),t[32]||(t[32]=e("div",{class:"flex items-center justify-between text-sm"},[e("span",{class:"text-muted-foreground"},"Ongkos Kirim"),e("span",{class:"font-medium text-brand-gold"},"Gratis")],-1)),t[33]||(t[33]=e("hr",{class:"border-border"},null,-1)),e("div",Jt,[t[31]||(t[31]=e("span",{class:"font-semibold text-foreground"},"Total",-1)),e("span",Xt,i(T.value),1)])]),a(s(d),{animate:{scale:b.value?.95:1},transition:x},{default:n(()=>[a(s(ot),{type:"submit",size:"lg",class:"ios-button mt-6 h-14 w-full gap-2 rounded-2xl bg-gradient-to-r from-brand-blue-500 to-brand-blue-600 shadow-lg shadow-brand-blue-500/25 hover:from-brand-blue-600 hover:to-brand-blue-700",disabled:F,onMousedown:t[10]||(t[10]=r=>b.value=!0),onMouseup:t[11]||(t[11]=r=>b.value=!1),onMouseleave:t[12]||(t[12]=r=>b.value=!1),onTouchstartPassive:t[13]||(t[13]=r=>b.value=!0),onTouchend:t[14]||(t[14]=r=>b.value=!1)},{default:n(()=>[F?(l(),k(s(ut),{key:0,class:"h-5 w-5 animate-spin"})):(l(),k(s(mt),{key:1,class:"h-5 w-5"})),e("span",null,i(F?"Memproses...":"Pesan via WhatsApp"),1)]),_:2},1032,["disabled"])]),_:2},1032,["animate"]),t[35]||(t[35]=e("p",{class:"mt-4 text-center text-xs text-muted-foreground"}," Dengan memesan, Anda akan diarahkan ke WhatsApp untuk konfirmasi pesanan ",-1))])]),_:2},1032,["transition"])]),_:1},16)]),e("footer",Zt,[e("div",te,[e("div",ee,[e("p",se," Â© "+i(new Date().getFullYear())+" "+i(P.value.name)+". ",1),e("p",ae,i(P.value.tagline),1)])])]),t[37]||(t[37]=e("div",{class:"h-20 md:hidden"},null,-1)),a(st)])],64))}});export{$e as default};
