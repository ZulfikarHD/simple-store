import{d as q,u as H,c as $,r as P,a as _,b as s,e as n,w as l,f as t,h as K,g as b,i as g,l as k,t as m,j as p,o as d,F as C,k as O,q as z}from"./app-Bup2iCrW.js";import{_ as L}from"./AnimatePresence.vue-hwJfZm02.js";import{u as Q,s as M,M as i,S as Y}from"./shopping-bag-Cyqv5MtD.js";import{h as G}from"./index-Dp0PW41R.js";import{_ as J,a as U}from"./StoreHeader.vue_vue_type_script_setup_true_lang-BNT3L5Mg.js";import{_ as W}from"./PullToRefresh.vue_vue_type_script_setup_true_lang-CBIcfCho.js";import{_ as X,a as Z}from"./CardContent.vue_vue_type_script_setup_true_lang-DAF6xKXa.js";import{_ as j}from"./index-BTLehctj.js";import{_ as ee,P as te}from"./package-C9MS62E-.js";import"./ProductController-0M3t1kra.js";import"./CartController-1jpe7Y2F.js";/* empty css                                                                       */import{_ as ae}from"./OrderStatusBadge.vue_vue_type_script_setup_true_lang-h6pLGaPL.js";import{_ as se}from"./PriceDisplay.vue_vue_type_script_setup_true_lang-tjkdvr0X.js";import{A as N}from"./arrow-left-yHnVqiVj.js";import{S as ne}from"./shopping-cart-WNci46Qf.js";import{F as le}from"./filter-UDweayT6.js";import{C as ie}from"./clock-CTY1vp6i.js";import{C as oe}from"./chevron-right-Bn8HQhDI.js";import"./user-CLIfCHKh.js";import"./loader-circle-l6oOwzKV.js";const re={class:"flex min-h-screen flex-col bg-background"},ue={class:"ios-navbar fixed inset-x-0 top-0 z-50 border-b border-brand-blue-200/30 dark:border-brand-blue-800/30"},de={class:"mx-auto flex h-14 max-w-7xl items-center justify-between px-4 sm:h-16 sm:px-6 lg:px-8"},me={class:"mx-auto w-full max-w-2xl flex-1 px-4 py-4 sm:px-6 sm:py-8"},fe={class:"flex items-center justify-between gap-3 sm:hidden"},pe={class:"flex-1 text-center"},ce={class:"text-xs text-muted-foreground"},ve={class:"hidden sm:block"},xe={class:"mt-1 text-sm text-muted-foreground"},be={class:"-mx-4 overflow-x-auto px-4 pb-2 sm:mx-0 sm:px-0"},ge={class:"flex gap-2"},ye={key:1,class:"space-y-3"},he={class:"flex items-start justify-between gap-2"},_e={class:"min-w-0 flex-1"},ke={class:"truncate font-mono text-sm font-semibold text-foreground"},we={class:"mt-0.5 flex items-center gap-1 text-[11px] text-muted-foreground sm:text-xs"},$e={class:"mt-2.5 flex items-center gap-2 rounded-lg bg-muted/50 px-2.5 py-2 sm:mt-3 sm:rounded-xl sm:p-3"},Pe={class:"truncate text-xs text-muted-foreground sm:text-sm"},Ce={class:"mt-2.5 flex items-center justify-between sm:mt-3"},Me={class:"flex items-center gap-1 text-xs text-brand-blue sm:text-sm"},Je=q({__name:"Orders",props:{orders:{}},setup(y){const h=y,R=H(),V=$(()=>R.props.store??{name:"Simple Store",tagline:"Premium Quality Products",logo:null}),T=Q(),o=P(!1),v=P(null),f=P("all"),E=[{value:"all",label:"Semua"},{value:"pending",label:"Menunggu"},{value:"confirmed",label:"Dikonfirmasi"},{value:"preparing",label:"Diproses"},{value:"ready",label:"Siap"},{value:"delivered",label:"Selesai"},{value:"cancelled",label:"Dibatalkan"}],x=$(()=>f.value==="all"?h.orders:h.orders.filter(r=>r.status===f.value)),S=$(()=>{const r={all:h.orders.length,pending:0,confirmed:0,preparing:0,ready:0,delivered:0,cancelled:0};return h.orders.forEach(e=>{const a=e.status;r[a]!==void 0&&r[a]++}),r});function D(r){T.selection(),f.value=r}function I(r){return new Date(r).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function B(r){v.value=r,T.light()}const u={type:"spring",...M.ios},F={type:"spring",...M.bouncy},w={type:"spring",...M.snappy};return(r,e)=>(d(),_(C,null,[s(t(K),{title:`Riwayat Pesanan - ${V.value.name}`},{default:l(()=>[...e[14]||(e[14]=[n("link",{rel:"preconnect",href:"https://rsms.me/"},null,-1),n("link",{rel:"stylesheet",href:"https://rsms.me/inter/inter.css"},null,-1)])]),_:1},8,["title"]),n("div",re,[n("header",ue,[n("div",de,[s(t(i),{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:u},{default:l(()=>[s(J)]),_:1})])]),e[26]||(e[26]=n("div",{class:"h-14 sm:h-16"},null,-1)),s(W,null,{default:l(()=>[n("main",me,[s(t(i),{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:u,class:"mb-4"},{default:l(()=>[n("div",fe,[s(t(i),{animate:{scale:o.value?.9:1},transition:w},{default:l(()=>[s(t(k),{href:"/",class:"flex h-10 w-10 items-center justify-center rounded-full bg-muted/50",onMousedown:e[0]||(e[0]=a=>o.value=!0),onMouseup:e[1]||(e[1]=a=>o.value=!1),onMouseleave:e[2]||(e[2]=a=>o.value=!1),onTouchstartPassive:e[3]||(e[3]=a=>o.value=!0),onTouchend:e[4]||(e[4]=a=>o.value=!1)},{default:l(()=>[s(t(N),{class:"h-5 w-5 text-muted-foreground"})]),_:1})]),_:1},8,["animate"]),n("div",pe,[e[15]||(e[15]=n("h1",{class:"text-lg font-bold text-foreground"},"Riwayat Pesanan",-1)),n("p",ce,m(x.value.length)+" pesanan",1)]),e[16]||(e[16]=n("div",{class:"h-10 w-10"},null,-1))]),n("div",ve,[s(t(i),{animate:{scale:o.value?.95:1,opacity:o.value?.7:1},transition:w},{default:l(()=>[s(t(k),{href:"/account",class:"ios-button mb-4 inline-flex h-11 items-center gap-2 rounded-xl px-3 text-sm text-muted-foreground hover:bg-accent hover:text-foreground sm:mb-6 sm:h-auto sm:px-0",onMousedown:e[5]||(e[5]=a=>o.value=!0),onMouseup:e[6]||(e[6]=a=>o.value=!1),onMouseleave:e[7]||(e[7]=a=>o.value=!1),onTouchstartPassive:e[8]||(e[8]=a=>o.value=!0),onTouchend:e[9]||(e[9]=a=>o.value=!1)},{default:l(()=>[s(t(N),{class:"h-4 w-4"}),e[17]||(e[17]=p(" Kembali ke Akun ",-1))]),_:1})]),_:1},8,["animate"]),e[18]||(e[18]=n("h1",{class:"text-2xl font-bold tracking-tight text-foreground"}," Riwayat Pesanan ",-1)),n("p",xe,m(x.value.length)+" pesanan ditemukan ",1)])]),_:1}),y.orders.length>0?(d(),b(t(i),{key:0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...u,delay:.05},class:"mb-4"},{default:l(()=>[n("div",be,[n("div",ge,[(d(),_(C,null,O(E,a=>s(t(j),{key:a.value,variant:f.value===a.value?"default":"outline",size:"sm",class:z(["ios-button shrink-0 gap-1.5 rounded-full",[f.value===a.value?"bg-brand-blue-500 text-white hover:bg-brand-blue-600":"border-brand-blue-100 hover:bg-brand-blue-50 dark:border-brand-blue-800/30"]]),onClick:A=>D(a.value)},{default:l(()=>[p(m(a.label)+" ",1),S.value[a.value]>0?(d(),b(t(ee),{key:0,variant:f.value===a.value?"secondary":"outline",class:z(["h-5 min-w-5 rounded-full px-1.5 text-[10px]",[f.value===a.value?"bg-white/20 text-white":"bg-muted text-muted-foreground"]])},{default:l(()=>[p(m(S.value[a.value]),1)]),_:2},1032,["variant","class"])):g("",!0)]),_:2},1032,["variant","class","onClick"])),64))])])]),_:1},8,["transition"])):g("",!0),s(t(L),null,{default:l(()=>[y.orders.length===0?(d(),b(t(i),{key:0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{...u,delay:.1},class:"flex flex-col items-center justify-center py-12"},{default:l(()=>[s(t(i),{initial:{scale:0},animate:{scale:1},transition:{...F,delay:.15},class:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted"},{default:l(()=>[s(t(ne),{class:"h-8 w-8 text-muted-foreground"})]),_:1},8,["transition"]),s(t(i),{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...u,delay:.2}},{default:l(()=>[...e[19]||(e[19]=[n("h2",{class:"mb-2 text-lg font-semibold text-foreground"},"Belum Ada Pesanan",-1)])]),_:1},8,["transition"]),s(t(i),{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...u,delay:.25}},{default:l(()=>[...e[20]||(e[20]=[n("p",{class:"mb-6 text-center text-muted-foreground"}," Anda belum pernah melakukan pemesanan. Yuk mulai belanja! ",-1)])]),_:1},8,["transition"]),s(t(i),{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...u,delay:.3}},{default:l(()=>[s(t(k),{href:t(G)()},{default:l(()=>[s(t(j),{class:"ios-button gap-2 rounded-xl"},{default:l(()=>[s(t(Y),{class:"h-4 w-4"}),e[21]||(e[21]=p(" Mulai Belanja ",-1))]),_:1})]),_:1},8,["href"])]),_:1},8,["transition"])]),_:1},8,["transition"])):g("",!0)]),_:1}),s(t(L),null,{default:l(()=>[y.orders.length>0&&x.value.length===0?(d(),b(t(i),{key:0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{...u,delay:.1},class:"flex flex-col items-center justify-center py-12"},{default:l(()=>[s(t(i),{initial:{scale:0},animate:{scale:1},transition:{...F,delay:.15},class:"mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-muted"},{default:l(()=>[s(t(le),{class:"h-8 w-8 text-muted-foreground"})]),_:1},8,["transition"]),e[23]||(e[23]=n("h2",{class:"mb-2 text-lg font-semibold text-foreground"},"Tidak Ada Pesanan",-1)),e[24]||(e[24]=n("p",{class:"mb-4 text-center text-muted-foreground"}," Tidak ada pesanan dengan status ini ",-1)),s(t(j),{variant:"outline",class:"ios-button rounded-xl",onClick:e[10]||(e[10]=a=>D("all"))},{default:l(()=>[...e[22]||(e[22]=[p(" Lihat Semua Pesanan ",-1)])]),_:1})]),_:1},8,["transition"])):g("",!0)]),_:1}),x.value.length>0?(d(),_("div",ye,[(d(!0),_(C,null,O(x.value,(a,A)=>(d(),b(t(i),{key:a.id,initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{...u,delay:.1+A*.04}},{default:l(()=>[s(t(i),{animate:{scale:v.value===a.id?.98:1},transition:w},{default:l(()=>[s(t(k),{href:`/account/orders/${a.id}`,class:"block",onMousedown:c=>B(a.id),onMouseup:e[11]||(e[11]=c=>v.value=null),onMouseleave:e[12]||(e[12]=c=>v.value=null),onTouchstartPassive:c=>B(a.id),onTouchend:e[13]||(e[13]=c=>v.value=null)},{default:l(()=>[s(t(X),{class:"ios-card cursor-pointer overflow-hidden rounded-2xl border-brand-blue-100 hover:border-brand-blue-200 dark:border-brand-blue-800/30 dark:hover:border-brand-blue-700/50"},{default:l(()=>[s(t(Z),{class:"p-3 sm:p-4"},{default:l(()=>[n("div",he,[n("div",_e,[n("p",ke,m(a.order_number),1),n("p",we,[s(t(ie),{class:"h-3 w-3 shrink-0"}),p(" "+m(I(a.created_at)),1)])]),s(t(ae),{status:a.status},null,8,["status"])]),n("div",$e,[s(t(te),{class:"h-4 w-4 shrink-0 text-muted-foreground"}),n("p",Pe,m(a.items_count)+" item Â· "+m(a.items.map(c=>c.product_name).join(", ")),1)]),n("div",Ce,[s(se,{price:a.total,size:"lg",class:"font-bold"},null,8,["price"]),n("span",Me,[e[25]||(e[25]=p(" Detail ",-1)),s(t(oe),{class:"h-4 w-4"})])])]),_:2},1024)]),_:2},1024)]),_:2},1032,["href","onMousedown","onTouchstartPassive"])]),_:2},1032,["animate"])]),_:2},1032,["transition"]))),128))])):g("",!0)])]),_:1}),e[27]||(e[27]=n("div",{class:"h-20 md:hidden"},null,-1)),s(U)])],64))}});export{Je as default};
