import{d as me,r as V,c as T,a as m,F as U,b as a,f as s,q as A,w as l,i as p,j as u,t as o,e,g as D,l as G,m as Z,n as E,o as d,u as Ce,z as $e,h as Se,T as Q,k as O,v as Ve,B as De}from"./app-rYMLcSRK.js";import{u as fe,E as pe,f as Pe,a as Te,b as Me,c as je,d as Fe,e as Ae,_ as Be}from"./AppLayout.vue_vue_type_script_setup_true_lang-CpM9iny-.js";import{_}from"./index-Yhpfw_Rk.js";import{_ as B}from"./Input.vue_vue_type_script_setup_true_lang-DIu4COLh.js";import{P as K,_ as ge}from"./package-Bu1G0Iu3.js";import{_ as ee}from"./PriceDisplay.vue_vue_type_script_setup_true_lang-CK0xnTPe.js";import{_ as ze,a as Ue}from"./CardContent.vue_vue_type_script_setup_true_lang-B9svxYcW.js";import"./ProductController-0M3t1kra.js";import"./CartController-1jpe7Y2F.js";/* empty css                                                                       */import{_ as Le}from"./OrderStatusBadge.vue_vue_type_script_setup_true_lang-uCMn81xb.js";import{e as Y,d as We,c as H}from"./index-WEbfYsTi.js";import{C as te}from"./circle-check-DL3FNF9H.js";import{C as ve}from"./chef-hat-CsRKL14c.js";import{C as Ie}from"./check-CEURsKOR.js";import{C as re}from"./circle-alert-D0hsfanN.js";import{C as xe}from"./clock-xmYqOtSl.js";import{P as be}from"./phone-B7_iUOIt.js";import{L as ne}from"./loader-circle-CTO26N7A.js";import{_ as Ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Ee}from"./PullToRefresh.vue_vue_type_script_setup_true_lang-B3il7ojJ.js";import{u as Ke,b as Re,M as I,s as N,a as X,S as le}from"./shopping-bag-B7J_X1G7.js";import{_ as z}from"./SortableHeader.vue_vue_type_script_setup_true_lang-BbKP6dqF.js";import{S as oe}from"./search-Y8eC5cxU.js";import{C as ie}from"./calendar-dj-4HftE.js";import{X as de}from"./x-D0ZSBgBB.js";import{F as qe}from"./filter-DHAprZab.js";import{C as ue}from"./chevron-left-D1Kj3Ali.js";import{C as ce}from"./chevron-right-DjX711rQ.js";import{C as Oe}from"./circle-x-BbfroPXU.js";import{T as He}from"./truck-Brihz3s4.js";import"./VisuallyHidden-CRL6js4n.js";import"./useForwardExpose-BDsdl_Vj.js";import"./RovingFocusGroup-B78VDds0.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-Dp0PW41R.js";import"./settings-CJA-V1on.js";import"./log-out-DzACcyKq.js";import"./Label.vue_vue_type_script_setup_true_lang-DUin8xf5.js";import"./lock-CZQn6FQ3.js";const Xe={key:0,class:"flex items-center gap-2 bg-red-500 px-4 py-2 text-sm font-medium text-white"},Ge={class:"flex items-start justify-between gap-2"},Ye={class:"flex-1 min-w-0"},Je={class:"flex items-center gap-2 flex-wrap"},Qe={class:"mt-1 text-base font-medium text-foreground truncate"},Ze={class:"mt-3 flex flex-wrap items-center gap-3 text-sm text-muted-foreground"},et={class:"flex items-center gap-1"},tt={class:"mt-3 text-sm text-muted-foreground"},st={class:"truncate"},at={key:0,class:"mt-3 rounded-lg bg-red-50 p-2 text-sm text-red-600 dark:bg-red-950 dark:text-red-400"},rt={class:"mt-4 flex flex-col gap-3"},nt={class:"flex items-center justify-between"},lt={class:"flex items-center gap-2"},ot={class:"font-semibold text-foreground"},it={class:"font-semibold text-primary"},dt={class:"rounded-lg border bg-muted/50 p-3"},ut={class:"flex items-center justify-between text-sm"},ct={class:"font-medium"},mt={class:"mt-1 flex items-center justify-between text-sm"},ft={class:"mt-1 flex items-center justify-between text-sm"},pt=me({__name:"OrderCard",props:{order:{},statuses:{}},emits:["statusUpdated"],setup(n,{emit:k}){const f=n,{openWhatsApp:M}=fe(),j=k,S=V(!1),C=T(()=>{if(f.order.waiting_minutes!==void 0)return f.order.waiting_minutes;const v=new Date(f.order.created_at);return Math.floor((new Date().getTime()-v.getTime())/6e4)}),P=T(()=>["pending","confirmed","preparing"].includes(f.order.status)?C.value>=15?"urgent":C.value>=5?"warning":"normal":"none"),J=T(()=>{switch(P.value){case"urgent":return"border-l-4 border-l-red-500";case"warning":return"border-l-4 border-l-amber-500";case"normal":return"border-l-4 border-l-green-500";default:return""}}),L=T(()=>{const v=C.value;if(v<1)return"Baru saja";if(v<60)return`${v} menit`;const i=Math.floor(v/60),x=v%60;return x===0?`${i} jam`:`${i} jam ${x} menit`}),h=T(()=>{switch(f.order.status){case"pending":return{status:"confirmed",label:"Konfirmasi",icon:Ie};case"confirmed":return{status:"preparing",label:"Proses",icon:ve};case"preparing":return{status:"ready",label:"Siap Kirim",icon:K};case"ready":return{status:"delivered",label:"Selesai",icon:te};default:return null}}),F=V(null),g=V(!1);function $(){!h.value||S.value||(g.value=!0)}function y(){g.value=!1}function w(){!h.value||S.value||(S.value=!0,F.value=null,g.value=!1,E.patch(`/admin/orders/${f.order.id}/status`,{status:h.value.status},{preserveScroll:!0,onSuccess:()=>{j("statusUpdated",f.order.id,h.value.status)},onError:v=>{F.value=v.status||"Gagal mengubah status pesanan",setTimeout(()=>{F.value=null},3e3)},onFinish:()=>{S.value=!1}}))}function W(v){return{confirmed:"Dikonfirmasi",preparing:"Diproses",ready:"Siap Kirim",delivered:"Selesai"}[v]||v}function R(){M(f.order.customer_phone)}return(v,i)=>(d(),m(U,null,[a(s(ze),{class:A(["overflow-hidden transition-all duration-200",J.value,P.value==="urgent"&&"animate-pulse-subtle ring-2 ring-red-200 dark:ring-red-900",P.value==="warning"&&"ring-1 ring-amber-200 dark:ring-amber-900"])},{default:l(()=>[P.value==="urgent"?(d(),m("div",Xe,[a(s(re),{class:"h-4 w-4"}),u(" Menunggu "+o(L.value)+" - Segera proses! ",1)])):p("",!0),a(s(Ue),{class:"p-4"},{default:l(()=>[e("div",Ge,[e("div",Ye,[e("div",Je,[a(s(G),{href:s(Y)(n.order.id).url,class:"font-mono text-sm font-semibold text-primary hover:underline"},{default:l(()=>[u(o(n.order.order_number),1)]),_:1},8,["href"]),a(s(Le),{status:n.order.status},null,8,["status"])]),e("h3",Qe,o(n.order.customer_name),1)]),["pending","confirmed","preparing"].includes(n.order.status)&&P.value!=="urgent"?(d(),D(s(ge),{key:0,variant:P.value==="warning"?"secondary":"outline",class:"shrink-0 gap-1"},{default:l(()=>[a(s(xe),{class:"h-3 w-3"}),u(" "+o(L.value),1)]),_:1},8,["variant"])):p("",!0)]),e("div",Ze,[e("span",et,[a(s(K),{class:"h-4 w-4"}),u(" "+o(n.order.items.length)+" item ",1)]),e("button",{class:"flex items-center gap-1 hover:text-primary transition-colors",onClick:R},[a(s(be),{class:"h-4 w-4"}),u(" "+o(n.order.customer_phone),1)])]),e("div",tt,[e("p",st,o(n.order.items.map(x=>`${x.product_name} (${x.quantity})`).join(", ")),1)]),F.value?(d(),m("div",at,o(F.value),1)):p("",!0),e("div",rt,[e("div",nt,[i[1]||(i[1]=e("span",{class:"text-sm text-muted-foreground"},"Total Pesanan",-1)),a(ee,{price:n.order.total,size:"lg",class:"font-bold text-primary"},null,8,["price"])]),e("div",lt,[a(s(_),{variant:"outline",class:"h-11 flex-1 gap-2 text-green-600 hover:bg-green-50 hover:text-green-700 dark:text-green-400 dark:hover:bg-green-950",onClick:R},{default:l(()=>[...i[2]||(i[2]=[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1),e("span",{class:"text-sm"},"WhatsApp",-1)])]),_:1}),a(s(G),{href:s(Y)(n.order.id).url,class:"flex-1"},{default:l(()=>[a(s(_),{variant:"outline",class:"h-11 w-full gap-2"},{default:l(()=>[a(s(pe),{class:"h-4 w-4"}),i[3]||(i[3]=e("span",{class:"text-sm"},"Detail",-1))]),_:1})]),_:1},8,["href"])]),h.value?(d(),D(s(_),{key:0,class:"h-12 w-full gap-2 rounded-xl text-base font-semibold",disabled:S.value,onClick:$},{default:l(()=>[S.value?(d(),D(s(ne),{key:0,class:"h-5 w-5 animate-spin"})):(d(),D(Z(h.value.icon),{key:1,class:"h-5 w-5"})),u(" "+o(h.value.label),1)]),_:1},8,["disabled"])):p("",!0)])]),_:1})]),_:1},8,["class"]),a(s(Pe),{open:g.value,"onUpdate:open":i[0]||(i[0]=x=>g.value=x)},{default:l(()=>[a(s(Te),{class:"sm:max-w-md"},{default:l(()=>[a(s(Me),null,{default:l(()=>[a(s(je),{class:"flex items-center gap-2"},{default:l(()=>[a(s(re),{class:"h-5 w-5 text-amber-500"}),i[4]||(i[4]=u(" Konfirmasi Perubahan Status ",-1))]),_:1}),a(s(Fe),null,{default:l(()=>[i[5]||(i[5]=u(" Apakah Anda yakin ingin mengubah status pesanan ",-1)),e("span",ot,o(n.order.order_number),1),i[6]||(i[6]=u(" menjadi ",-1)),e("span",it,o(h.value?W(h.value.status):""),1),i[7]||(i[7]=u("? ",-1))]),_:1})]),_:1}),e("div",dt,[e("div",ut,[i[8]||(i[8]=e("span",{class:"text-muted-foreground"},"Customer:",-1)),e("span",ct,o(n.order.customer_name),1)]),e("div",mt,[i[9]||(i[9]=e("span",{class:"text-muted-foreground"},"Total:",-1)),a(ee,{price:n.order.total,size:"sm"},null,8,["price"])]),e("div",ft,[i[10]||(i[10]=e("span",{class:"text-muted-foreground"},"Items:",-1)),e("span",null,o(n.order.items.length)+" item",1)])]),a(s(Ae),{class:"flex-col gap-2 sm:flex-row"},{default:l(()=>[a(s(_),{variant:"outline",class:"w-full sm:w-auto",onClick:y},{default:l(()=>[...i[11]||(i[11]=[u(" Batal ",-1)])]),_:1}),a(s(_),{class:"w-full sm:w-auto",disabled:S.value,onClick:w},{default:l(()=>[S.value?(d(),D(s(ne),{key:0,class:"mr-2 h-4 w-4 animate-spin"})):(d(),D(Z(h.value?.icon),{key:1,class:"mr-2 h-4 w-4"})),u(" Ya, "+o(h.value?.label),1)]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"])],64))}}),gt=Ne(pt,[["__scopeId","data-v-6a9b47de"]]),vt={class:"admin-page flex flex-col gap-6 p-4 md:p-6"},xt={class:"flex items-center gap-3"},bt={key:0,class:"rounded-2xl border border-green-200 bg-green-50 p-4 text-green-800 dark:border-green-800 dark:bg-green-950 dark:text-green-200"},ht={key:0,class:"rounded-2xl border border-red-200 bg-red-50 p-4 text-red-800 dark:border-red-800 dark:bg-red-950 dark:text-red-200"},yt={class:"-mx-4 overflow-x-auto px-4 scrollbar-hide"},wt={class:"flex gap-2 pb-2"},_t=["onClick"],kt={class:"relative flex-1"},Ct={key:0,class:"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary"},$t={key:0,class:"admin-form-section md:hidden"},St={class:"admin-form-section-content"},Vt={class:"flex flex-col gap-4"},Dt={class:"grid grid-cols-2 gap-3"},Pt={class:"admin-input-group"},Tt={class:"admin-input-group"},Mt={class:"admin-form-section"},jt={class:"admin-form-section-header"},Ft={class:"admin-form-section-content"},At={class:"flex flex-col gap-4"},Bt={class:"flex flex-col gap-4 sm:flex-row"},zt={class:"relative flex-1"},Ut=["value"],Lt={class:"flex flex-col gap-4 sm:flex-row sm:items-center"},Wt={class:"flex items-center gap-2 text-sm text-muted-foreground"},It={class:"flex flex-col gap-3 md:hidden"},Nt={key:0,class:"admin-form-section"},Et={class:"admin-empty-state"},Kt={class:"icon-wrapper"},Rt={key:1,class:"flex items-center justify-between rounded-2xl border bg-card p-3"},qt={class:"text-sm text-muted-foreground"},Ot={class:"ios-table-container"},Ht={class:"overflow-x-auto"},Xt={class:"ios-table w-full"},Gt={class:"px-4 py-3"},Yt={class:"px-4 py-3"},Jt={class:"flex flex-col"},Qt={class:"font-medium text-foreground"},Zt=["onClick"],es={class:"px-4 py-3 text-right"},ts={class:"px-4 py-3 text-center"},ss={class:"ios-badge ios-badge--outline tabular-nums"},as={class:"px-4 py-3 text-center"},rs={class:"px-4 py-3 text-center"},ns={class:"whitespace-nowrap text-sm text-muted-foreground"},ls={class:"px-4 py-3 text-center"},os={key:0},is={colspan:"7",class:"px-4 py-16"},ds={class:"flex flex-col items-center justify-center text-center"},us={class:"mb-4 rounded-2xl bg-muted p-4"},cs={key:0,class:"flex items-center justify-between border-t border-border/50 px-4 py-3"},ms={class:"text-sm text-muted-foreground"},fs={class:"font-medium text-foreground"},ps={class:"font-medium text-foreground"},gs={class:"font-medium text-foreground"},vs={class:"flex items-center gap-2"},xs={class:"rounded-lg bg-muted px-3 py-1 text-sm font-medium tabular-nums"},na=me({__name:"Index",props:{orders:{},statuses:{},filters:{},statusCounts:{}},setup(n){const k=V(null),f=V("asc");function M(c){const t=c;k.value===t?f.value=f.value==="asc"?"desc":"asc":(k.value=t,f.value="asc")}const j=Ke(),{openWhatsApp:S}=fe(),C=n,P=Ce(),J=[{title:"Dashboard",href:We().url},{title:"Pesanan",href:H().url}],L=T(()=>P.props.flash?.success),h=T(()=>P.props.flash?.error),F=T(()=>k.value?[...C.orders.data].sort((c,t)=>{let r=0;switch(k.value){case"order_number":r=c.order_number.localeCompare(t.order_number);break;case"customer_name":r=c.customer_name.localeCompare(t.customer_name,"id");break;case"total":r=c.total-t.total;break;case"items":r=c.items.length-t.items.length;break;case"status":r=c.status.localeCompare(t.status);break;case"created_at":r=new Date(c.created_at).getTime()-new Date(t.created_at).getTime();break}return f.value==="asc"?r:-r}):C.orders.data),g=V(C.filters.search||""),$=V(C.filters.status||""),y=V(C.filters.start_date||""),w=V(C.filters.end_date||""),W=V(!1);function R(){j.selection(),W.value=!W.value}const v=T(()=>g.value||$.value||y.value||w.value),i=Re(()=>{x()},300);$e(g,()=>{i()});function x(){j.selection(),E.get(H().url,{search:g.value||void 0,status:$.value||void 0,start_date:y.value||void 0,end_date:w.value||void 0},{preserveState:!0,preserveScroll:!0})}function he(){j.medium(),g.value="",$.value="",y.value="",w.value="",E.get(H().url)}function se(c){j.selection(),$.value=c,E.get(H().url,{search:g.value||void 0,status:c||void 0,start_date:y.value||void 0,end_date:w.value||void 0},{preserveState:!0,preserveScroll:!0})}function ae(c){return C.statusCounts?C.statusCounts.find(r=>r.status===c)?.count??0:0}function ye(c){switch(c){case"pending":return xe;case"confirmed":return te;case"preparing":return ve;case"ready":return He;case"delivered":return te;case"cancelled":return Oe;default:return K}}function q(c){c&&(j.light(),E.get(c,{},{preserveState:!0,preserveScroll:!0}))}function we(c){switch(c){case"pending":return"ios-badge--pending";case"confirmed":return"ios-badge--confirmed";case"preparing":return"ios-badge--preparing";case"ready":return"ios-badge--ready";case"delivered":return"ios-badge--delivered";case"cancelled":return"ios-badge--cancelled";default:return"ios-badge--muted"}}function _e(c){return new Date(c).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function ke(c){j.medium(),S(c)}return(c,t)=>(d(),m(U,null,[a(s(Se),{title:"Manajemen Pesanan"}),a(Be,{breadcrumbs:J},{default:l(()=>[a(Ee,null,{default:l(()=>[e("div",vt,[a(s(I),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:s(N).ios,class:"flex flex-col gap-1"},{default:l(()=>[e("div",xt,[t[13]||(t[13]=e("h1",{class:"text-2xl font-bold tracking-tight md:text-3xl"}," Pesanan ",-1)),a(s(ge),{variant:"secondary",class:"tabular-nums"},{default:l(()=>[u(o(n.orders.total)+" total ",1)]),_:1})]),t[14]||(t[14]=e("p",{class:"text-muted-foreground"}," Kelola dan pantau semua pesanan customer ",-1))]),_:1},8,["transition"]),a(Q,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:l(()=>[L.value?(d(),m("div",bt,o(L.value),1)):p("",!0)]),_:1}),a(Q,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:l(()=>[h.value?(d(),m("div",ht,o(h.value),1)):p("",!0)]),_:1}),a(s(I),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(N).ios,delay:s(X)(0)},class:"md:hidden"},{default:l(()=>[e("div",yt,[e("div",wt,[e("button",{class:A(["ios-button flex h-10 shrink-0 items-center gap-2 rounded-full px-4 text-sm font-medium transition-all",[$.value?"bg-muted/50 text-muted-foreground hover:bg-muted":"bg-primary text-primary-foreground shadow-md"]]),onClick:t[0]||(t[0]=r=>se(""))},[a(s(K),{class:"h-4 w-4"}),t[15]||(t[15]=u(" Semua ",-1)),n.orders.total?(d(),m("span",{key:0,class:A(["rounded-full px-1.5 text-xs tabular-nums",$.value?"bg-muted":"bg-primary-foreground/20"])},o(n.orders.total),3)):p("",!0)],2),(d(!0),m(U,null,O(n.statuses,(r,b)=>(d(),m("button",{key:b,class:A(["ios-button flex h-10 shrink-0 items-center gap-2 rounded-full px-4 text-sm font-medium transition-all",[$.value===b?b==="pending"?"bg-amber-500 text-white shadow-md":b==="cancelled"?"bg-red-500 text-white shadow-md":"bg-primary text-primary-foreground shadow-md":"bg-muted/50 text-muted-foreground hover:bg-muted"]]),onClick:bs=>se(b)},[(d(),D(Z(ye(b)),{class:"h-4 w-4"})),u(" "+o(r)+" ",1),ae(b)>0?(d(),m("span",{key:0,class:A(["rounded-full px-1.5 text-xs tabular-nums",[$.value===b?"bg-white/20":b==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300":"bg-muted"]])},o(ae(b)),3)):p("",!0)],10,_t))),128))])])]),_:1},8,["transition"]),a(s(I),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(N).ios,delay:s(X)(1)},class:"flex gap-2 md:hidden"},{default:l(()=>[e("div",kt,[a(s(oe),{class:"absolute left-3.5 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(s(B),{modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=r=>g.value=r),type:"text",placeholder:"Cari pesanan...",class:"admin-input h-12 pl-10"},null,8,["modelValue"])]),a(s(_),{variant:"outline",size:"icon",class:A(["ios-button relative h-12 w-12 shrink-0",{"border-primary bg-primary/5":y.value||w.value}]),onClick:R},{default:l(()=>[a(s(ie),{class:"h-4 w-4"}),y.value||w.value?(d(),m("span",Ct,[...t[16]||(t[16]=[e("span",{class:"h-2 w-2 rounded-full bg-white"},null,-1)])])):p("",!0)]),_:1},8,["class"])]),_:1},8,["transition"]),a(Q,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2 scale-95","enter-to-class":"opacity-100 translate-y-0 scale-100","leave-active-class":"transition-all duration-200 ease-[var(--ios-spring-snappy)]","leave-from-class":"opacity-100 translate-y-0 scale-100","leave-to-class":"opacity-0 -translate-y-2 scale-95"},{default:l(()=>[W.value?(d(),m("div",$t,[e("div",St,[e("div",Vt,[t[20]||(t[20]=e("p",{class:"text-sm font-medium text-muted-foreground"}," Filter berdasarkan tanggal ",-1)),e("div",Dt,[e("div",Pt,[t[17]||(t[17]=e("label",null,"Dari Tanggal",-1)),a(s(B),{modelValue:y.value,"onUpdate:modelValue":t[2]||(t[2]=r=>y.value=r),type:"date",class:"admin-input",onChange:x},null,8,["modelValue"])]),e("div",Tt,[t[18]||(t[18]=e("label",null,"Sampai",-1)),a(s(B),{modelValue:w.value,"onUpdate:modelValue":t[3]||(t[3]=r=>w.value=r),type:"date",class:"admin-input",onChange:x},null,8,["modelValue"])])]),y.value||w.value?(d(),D(s(_),{key:0,variant:"outline",class:"admin-btn-secondary",onClick:t[4]||(t[4]=r=>{y.value="",w.value="",x()})},{default:l(()=>[a(s(de),{class:"mr-2 h-4 w-4"}),t[19]||(t[19]=u(" Reset Tanggal ",-1))]),_:1})):p("",!0)])])])):p("",!0)]),_:1}),a(s(I),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(N).ios,delay:s(X)(0)},class:"hidden md:block"},{default:l(()=>[e("div",Mt,[e("div",jt,[e("h3",null,[a(s(qe)),t[21]||(t[21]=u(" Filter & Pencarian ",-1))])]),e("div",Ft,[e("div",At,[e("div",Bt,[e("div",zt,[a(s(oe),{class:"absolute left-3.5 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(s(B),{modelValue:g.value,"onUpdate:modelValue":t[5]||(t[5]=r=>g.value=r),type:"text",placeholder:"Cari order number, nama, atau telepon...",class:"admin-input pl-10"},null,8,["modelValue"])]),Ve(e("select",{"onUpdate:modelValue":t[6]||(t[6]=r=>$.value=r),class:"admin-select w-full sm:w-48",onChange:x},[t[22]||(t[22]=e("option",{value:""},"Semua Status",-1)),(d(!0),m(U,null,O(n.statuses,(r,b)=>(d(),m("option",{key:b,value:b},o(r),9,Ut))),128))],544),[[De,$.value]])]),e("div",Lt,[e("div",Wt,[a(s(ie),{class:"h-4 w-4"}),t[23]||(t[23]=e("span",null,"Rentang Tanggal:",-1))]),a(s(B),{modelValue:y.value,"onUpdate:modelValue":t[7]||(t[7]=r=>y.value=r),type:"date",class:"admin-input w-full sm:w-auto",onChange:x},null,8,["modelValue"]),t[25]||(t[25]=e("span",{class:"text-muted-foreground"},"sampai",-1)),a(s(B),{modelValue:w.value,"onUpdate:modelValue":t[8]||(t[8]=r=>w.value=r),type:"date",class:"admin-input w-full sm:w-auto",onChange:x},null,8,["modelValue"]),v.value?(d(),D(s(_),{key:0,variant:"outline",class:"ios-button",onClick:he},{default:l(()=>[a(s(de),{class:"mr-2 h-4 w-4"}),t[24]||(t[24]=u(" Reset ",-1))]),_:1})):p("",!0)])])])])]),_:1},8,["transition"]),e("div",It,[(d(!0),m(U,null,O(n.orders.data,r=>(d(),D(gt,{key:r.id,order:r,statuses:n.statuses},null,8,["order","statuses"]))),128)),!n.orders.data||n.orders.data.length===0?(d(),m("div",Nt,[e("div",Et,[e("div",Kt,[a(s(le))]),t[26]||(t[26]=e("h3",null,"Belum Ada Pesanan",-1)),t[27]||(t[27]=e("p",null,"Pesanan customer akan muncul di sini",-1))])])):p("",!0),n.orders.data?.length>0&&n.orders.last_page>1?(d(),m("div",Rt,[a(s(_),{variant:"outline",size:"sm",class:"ios-button h-10 w-10 p-0",disabled:n.orders.current_page===1,onClick:t[9]||(t[9]=r=>q(n.orders.links[0]?.url))},{default:l(()=>[a(s(ue),{class:"h-4 w-4"})]),_:1},8,["disabled"]),e("span",qt,o(n.orders.current_page)+" / "+o(n.orders.last_page),1),a(s(_),{variant:"outline",size:"sm",class:"ios-button h-10 w-10 p-0",disabled:n.orders.current_page===n.orders.last_page,onClick:t[10]||(t[10]=r=>q(n.orders.links[n.orders.links.length-1]?.url))},{default:l(()=>[a(s(ce),{class:"h-4 w-4"})]),_:1},8,["disabled"])])):p("",!0)]),a(s(I),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(N).ios,delay:s(X)(1)},class:"hidden md:block"},{default:l(()=>[e("div",Ot,[e("div",Ht,[e("table",Xt,[e("thead",null,[e("tr",null,[a(z,{column:"order_number",label:"No. Pesanan","current-sort":k.value,"current-direction":f.value,style:{width:"180px"},onSort:M},null,8,["current-sort","current-direction"]),a(z,{column:"customer_name",label:"Customer","current-sort":k.value,"current-direction":f.value,style:{"min-width":"200px"},onSort:M},null,8,["current-sort","current-direction"]),a(z,{column:"total",label:"Total","current-sort":k.value,"current-direction":f.value,align:"right",style:{width:"120px"},onSort:M},null,8,["current-sort","current-direction"]),a(z,{column:"items",label:"Items","current-sort":k.value,"current-direction":f.value,align:"center",style:{width:"80px"},onSort:M},null,8,["current-sort","current-direction"]),a(z,{column:"status",label:"Status","current-sort":k.value,"current-direction":f.value,align:"center",style:{width:"120px"},onSort:M},null,8,["current-sort","current-direction"]),a(z,{column:"created_at",label:"Tanggal","current-sort":k.value,"current-direction":f.value,align:"center",style:{width:"160px"},onSort:M},null,8,["current-sort","current-direction"]),t[28]||(t[28]=e("th",{class:"whitespace-nowrap px-4 py-3 text-center text-xs font-semibold uppercase tracking-wider text-muted-foreground",style:{width:"100px"}}," Aksi ",-1))])]),e("tbody",null,[(d(!0),m(U,null,O(F.value,r=>(d(),m("tr",{key:r.id,class:"ios-table-row"},[e("td",Gt,[a(s(G),{href:s(Y)(r.id).url,class:"font-mono text-sm font-semibold text-primary hover:underline"},{default:l(()=>[u(o(r.order_number),1)]),_:2},1032,["href"])]),e("td",Yt,[e("div",Jt,[e("span",Qt,o(r.customer_name),1),e("button",{class:"mt-0.5 flex w-fit items-center gap-1.5 text-sm text-green-600 transition-colors hover:text-green-700 dark:text-green-400",onClick:b=>ke(r.customer_phone)},[a(s(be),{class:"h-3.5 w-3.5"}),u(" "+o(r.customer_phone),1)],8,Zt)])]),e("td",es,[a(ee,{price:r.total,size:"sm",class:"font-semibold text-primary"},null,8,["price"])]),e("td",ts,[e("span",ss,[a(s(K),{class:"h-3 w-3"}),u(" "+o(r.items.length),1)])]),e("td",as,[e("span",{class:A(["ios-badge",we(r.status)])},[t[29]||(t[29]=e("span",{class:"ios-badge-dot"},null,-1)),u(" "+o(n.statuses[r.status]||r.status),1)],2)]),e("td",rs,[e("span",ns,o(_e(r.created_at)),1)]),e("td",ls,[a(s(G),{href:s(Y)(r.id).url},{default:l(()=>[a(s(_),{variant:"outline",size:"sm",class:"h-8 gap-1.5"},{default:l(()=>[a(s(pe),{class:"h-4 w-4"}),t[30]||(t[30]=u(" Detail ",-1))]),_:1})]),_:1},8,["href"])])]))),128)),F.value.length===0?(d(),m("tr",os,[e("td",is,[e("div",ds,[e("div",us,[a(s(le),{class:"h-10 w-10 text-muted-foreground/50"})]),t[31]||(t[31]=e("h3",{class:"text-lg font-semibold"},"Belum Ada Pesanan",-1)),t[32]||(t[32]=e("p",{class:"mt-1 text-sm text-muted-foreground"},"Pesanan customer akan muncul di sini",-1))])])])):p("",!0)])])]),n.orders.last_page>1?(d(),m("div",cs,[e("p",ms,[t[33]||(t[33]=u(" Menampilkan ",-1)),e("span",fs,o(n.orders.from),1),t[34]||(t[34]=u(" - ",-1)),e("span",ps,o(n.orders.to),1),t[35]||(t[35]=u(" dari ",-1)),e("span",gs,o(n.orders.total),1),t[36]||(t[36]=u(" pesanan ",-1))]),e("div",vs,[a(s(_),{variant:"outline",size:"sm",disabled:n.orders.current_page===1,onClick:t[11]||(t[11]=r=>q(n.orders.links[0]?.url))},{default:l(()=>[a(s(ue),{class:"h-4 w-4"}),t[37]||(t[37]=u(" Prev ",-1))]),_:1},8,["disabled"]),e("span",xs,o(n.orders.current_page)+" / "+o(n.orders.last_page),1),a(s(_),{variant:"outline",size:"sm",disabled:n.orders.current_page===n.orders.last_page,onClick:t[12]||(t[12]=r=>q(n.orders.links[n.orders.links.length-1]?.url))},{default:l(()=>[t[38]||(t[38]=u(" Next ",-1)),a(s(ce),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])):p("",!0)])]),_:1},8,["transition"]),t[39]||(t[39]=e("div",{class:"h-20 md:hidden"},null,-1))])]),_:1})]),_:1})],64))}});export{na as default};
