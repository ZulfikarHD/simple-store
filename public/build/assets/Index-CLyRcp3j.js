import{d as ve,r as $,c as P,a as m,F as L,b as a,f as s,q as F,w as o,i as h,j as d,t as i,e,g as j,l as Z,m as le,n as q,o as u,u as Ce,z as $e,h as Se,T as re,k as Y,v as De,B as Ve}from"./app-Xzr7XPdc.js";import{u as xe,E as be,f as Pe,a as Te,b as je,c as Me,d as Ae,e as Ue,g as Fe,h as Be,_ as ze}from"./AppLayout.vue_vue_type_script_setup_true_lang-M3JTXDXO.js";import{_ as C}from"./index-CaAJprXl.js";import{_ as z}from"./Input.vue_vue_type_script_setup_true_lang-BNNH7lEl.js";import{P as O,_ as he}from"./package-DRA6eS4s.js";import{_ as oe}from"./PriceDisplay.vue_vue_type_script_setup_true_lang-Cu7tPeJi.js";import{u as we,b as We,M as K,s as R,a as J,S as ue}from"./shopping-bag-JC4P6ug4.js";import{_ as Le,a as Ie}from"./CardContent.vue_vue_type_script_setup_true_lang-BHn9udgR.js";import"./ProductController-0M3t1kra.js";import"./CartController-1jpe7Y2F.js";/* empty css                                                                       */import{_ as Ne}from"./OrderStatusBadge.vue_vue_type_script_setup_true_lang-Bf4xM8DY.js";import{e as ee,d as Ee,c as Q}from"./index-WEbfYsTi.js";import{C as ie}from"./circle-check-Bmna56xZ.js";import{C as ye}from"./chef-hat-CQuDWTQ4.js";import{C as Ke}from"./check-BepK06WP.js";import{C as de}from"./circle-alert-C7UwNSHo.js";import{C as _e}from"./clock-Bk__DVzR.js";import{P as ke}from"./phone-DmoKKMMD.js";import{L as Re}from"./loader-circle-C8Zx05AU.js";import{_ as qe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as Oe}from"./PullToRefresh.vue_vue_type_script_setup_true_lang-CvtLkK9d.js";import{_ as W}from"./SortableHeader.vue_vue_type_script_setup_true_lang-Czkvt9Zm.js";import{S as ce}from"./search-DfW4JQin.js";import{C as me}from"./calendar-gau2MVQR.js";import{X as fe}from"./x-CXORcXoV.js";import{F as He}from"./filter-DT0AycRn.js";import{C as pe}from"./chevron-left-Gbg65E9g.js";import{C as ge}from"./chevron-right-CdA8Ikxv.js";import{C as Xe,T as Ge}from"./truck-FsE3HOO6.js";import"./VisuallyHidden-DieOkrEN.js";import"./useForwardExpose-1OMvrt9B.js";import"./RovingFocusGroup-X78QlYhv.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-Dp0PW41R.js";import"./settings-BE5pWgkO.js";import"./log-out-NrarUGqG.js";import"./Label.vue_vue_type_script_setup_true_lang-Cw3f1xlV.js";import"./lock-Dqv_5mIf.js";const Ye={key:0,class:"flex items-center gap-2 bg-red-500 px-4 py-2 text-sm font-medium text-white"},Je={class:"flex items-start justify-between gap-2"},Qe={class:"flex-1 min-w-0"},Ze={class:"flex items-center gap-2 flex-wrap"},et={class:"mt-1 text-base font-medium text-foreground truncate"},tt={class:"mt-3 flex flex-wrap items-center gap-3 text-sm text-muted-foreground"},st={class:"flex items-center gap-1"},at={class:"mt-3 text-sm text-muted-foreground"},nt={class:"truncate"},rt={key:0,class:"mt-3 rounded-lg bg-red-50 p-2 text-sm text-red-600 dark:bg-red-950 dark:text-red-400"},lt={class:"mt-4 flex flex-col gap-3"},ot={class:"flex items-center justify-between"},it={class:"flex items-center gap-2"},ut={class:"font-semibold text-foreground"},dt={class:"font-semibold text-primary"},ct={class:"rounded-lg border bg-muted/50 p-3"},mt={class:"flex items-center justify-between text-sm"},ft={class:"font-medium"},pt={class:"mt-1 flex items-center justify-between text-sm"},gt={class:"mt-1 flex items-center justify-between text-sm"},vt=ve({__name:"OrderCard",props:{order:{},statuses:{},whatsappUrls:{}},emits:["statusUpdated"],setup(n,{emit:S}){const f=n,{openWhatsApp:M}=xe(),D=we(),te=S,x=$(!1),B=P(()=>{if(f.order.waiting_minutes!==void 0)return Math.floor(f.order.waiting_minutes);const v=new Date(f.order.created_at);return Math.floor((new Date().getTime()-v.getTime())/6e4)}),A=P(()=>["pending","confirmed","preparing"].includes(f.order.status)?B.value>=15?"urgent":B.value>=5?"warning":"normal":"none"),H=P(()=>{switch(A.value){case"urgent":return"border-l-4 border-l-red-500";case"warning":return"border-l-4 border-l-amber-500";case"normal":return"border-l-4 border-l-green-500";default:return""}}),I=P(()=>{const v=B.value;if(v<1)return"Baru saja";if(v<60)return`${v} menit`;const l=Math.floor(v/60),k=v%60;return k===0?`${l} jam`:`${l} jam ${k} menit`}),_=P(()=>{switch(f.order.status){case"pending":return{status:"confirmed",label:"Konfirmasi",icon:Ke};case"confirmed":return{status:"preparing",label:"Proses",icon:ye};case"preparing":return{status:"ready",label:"Siap Kirim",icon:O};case"ready":return{status:"delivered",label:"Selesai",icon:ie};default:return null}}),w=$(null),b=$(!1),p=$(!1),g=$(!1),V=$("");function se(){!_.value||x.value||(D.medium(),b.value=!0)}function ae(){b.value=!1}function ne(){b.value=!1,p.value=!0}function T(){if(!_.value||x.value)return;D.heavy(),x.value=!0,w.value=null,p.value=!1;const v=_.value.status;q.patch(`/admin/orders/${f.order.id}/status`,{status:v},{preserveScroll:!0,onSuccess:()=>{V.value=v,g.value=!0,te("statusUpdated",f.order.id,v)},onError:l=>{D.error(),w.value=l.status||"Gagal mengubah status pesanan",setTimeout(()=>{w.value=null},3e3)},onFinish:()=>{x.value=!1}})}const N=P(()=>V.value?f.whatsappUrls?.[V.value]??"":"");function X(){D.medium(),N.value&&window.open(N.value,"_blank")}function G(){g.value=!1,V.value=""}function E(v){return{confirmed:"Dikonfirmasi",preparing:"Diproses",ready:"Siap Kirim",delivered:"Selesai"}[v]||v}function U(){M(f.order.customer_phone)}return(v,l)=>(u(),m(L,null,[a(s(Le),{class:F(["overflow-hidden transition-all duration-200",H.value,A.value==="urgent"&&"animate-pulse-subtle ring-2 ring-red-200 dark:ring-red-900",A.value==="warning"&&"ring-1 ring-amber-200 dark:ring-amber-900"])},{default:o(()=>[A.value==="urgent"?(u(),m("div",Ye,[a(s(de),{class:"h-4 w-4"}),d(" Menunggu "+i(I.value)+" - Segera proses! ",1)])):h("",!0),a(s(Ie),{class:"p-4"},{default:o(()=>[e("div",Je,[e("div",Qe,[e("div",Ze,[a(s(Z),{href:s(ee)(n.order.id).url,class:"font-mono text-sm font-semibold text-primary hover:underline"},{default:o(()=>[d(i(n.order.order_number),1)]),_:1},8,["href"]),a(s(Ne),{status:n.order.status},null,8,["status"])]),e("h3",et,i(n.order.customer_name),1)]),["pending","confirmed","preparing"].includes(n.order.status)&&A.value!=="urgent"?(u(),j(s(he),{key:0,variant:A.value==="warning"?"secondary":"outline",class:"shrink-0 gap-1"},{default:o(()=>[a(s(_e),{class:"h-3 w-3"}),d(" "+i(I.value),1)]),_:1},8,["variant"])):h("",!0)]),e("div",tt,[e("span",st,[a(s(O),{class:"h-4 w-4"}),d(" "+i(n.order.items.length)+" item ",1)]),e("button",{class:"flex items-center gap-1 hover:text-primary transition-colors",onClick:U},[a(s(ke),{class:"h-4 w-4"}),d(" "+i(n.order.customer_phone),1)])]),e("div",at,[e("p",nt,i(n.order.items.map(k=>`${k.product_name} (${k.quantity})`).join(", ")),1)]),w.value?(u(),m("div",rt,i(w.value),1)):h("",!0),e("div",lt,[e("div",ot,[l[3]||(l[3]=e("span",{class:"text-sm text-muted-foreground"},"Total Pesanan",-1)),a(oe,{price:n.order.total,size:"lg",class:"font-bold text-primary"},null,8,["price"])]),e("div",it,[a(s(C),{variant:"outline",class:"h-11 flex-1 gap-2 text-green-600 hover:bg-green-50 hover:text-green-700 dark:text-green-400 dark:hover:bg-green-950",onClick:U},{default:o(()=>[...l[4]||(l[4]=[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1),e("span",{class:"text-sm"},"WhatsApp",-1)])]),_:1}),a(s(Z),{href:s(ee)(n.order.id).url,class:"flex-1"},{default:o(()=>[a(s(C),{variant:"outline",class:"h-11 w-full gap-2"},{default:o(()=>[a(s(be),{class:"h-4 w-4"}),l[5]||(l[5]=e("span",{class:"text-sm"},"Detail",-1))]),_:1})]),_:1},8,["href"])]),_.value?(u(),j(s(C),{key:0,class:"h-12 w-full gap-2 rounded-xl text-base font-semibold",disabled:x.value,onClick:se},{default:o(()=>[x.value?(u(),j(s(Re),{key:0,class:"h-5 w-5 animate-spin"})):(u(),j(le(_.value.icon),{key:1,class:"h-5 w-5"})),d(" "+i(_.value.label),1)]),_:1},8,["disabled"])):h("",!0)])]),_:1})]),_:1},8,["class"]),a(s(Pe),{open:b.value,"onUpdate:open":l[0]||(l[0]=k=>b.value=k)},{default:o(()=>[a(s(Te),{class:"sm:max-w-md"},{default:o(()=>[a(s(je),null,{default:o(()=>[a(s(Me),{class:"flex items-center gap-2"},{default:o(()=>[a(s(de),{class:"h-5 w-5 text-amber-500"}),l[6]||(l[6]=d(" Konfirmasi Perubahan Status ",-1))]),_:1}),a(s(Ae),null,{default:o(()=>[l[7]||(l[7]=d(" Apakah Anda yakin ingin mengubah status pesanan ",-1)),e("span",ut,i(n.order.order_number),1),l[8]||(l[8]=d(" menjadi ",-1)),e("span",dt,i(_.value?E(_.value.status):""),1),l[9]||(l[9]=d("? ",-1))]),_:1})]),_:1}),e("div",ct,[e("div",mt,[l[10]||(l[10]=e("span",{class:"text-muted-foreground"},"Customer:",-1)),e("span",ft,i(n.order.customer_name),1)]),e("div",pt,[l[11]||(l[11]=e("span",{class:"text-muted-foreground"},"Total:",-1)),a(oe,{price:n.order.total,size:"sm"},null,8,["price"])]),e("div",gt,[l[12]||(l[12]=e("span",{class:"text-muted-foreground"},"Items:",-1)),e("span",null,i(n.order.items.length)+" item",1)])]),a(s(Ue),{class:"flex-col gap-2 sm:flex-row"},{default:o(()=>[a(s(C),{variant:"outline",class:"w-full sm:w-auto",onClick:ae},{default:o(()=>[...l[13]||(l[13]=[d(" Batal ",-1)])]),_:1}),a(s(C),{class:"w-full sm:w-auto",onClick:ne},{default:o(()=>[(u(),j(le(_.value?.icon),{class:"mr-2 h-4 w-4"})),l[14]||(l[14]=d(" Ya, Lanjutkan ",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),a(Fe,{open:p.value,"onUpdate:open":l[1]||(l[1]=k=>p.value=k),title:"Verifikasi Password",description:`Masukkan password untuk mengubah status pesanan ${n.order.order_number} menjadi ${_.value?E(_.value.status):""}.`,"confirm-label":"Update Status",loading:x.value,onConfirm:T},null,8,["open","description","loading"]),a(Be,{open:g.value,"onUpdate:open":l[2]||(l[2]=k=>g.value=k),"new-status":V.value,"new-status-label":E(V.value),"order-number":n.order.order_number,"customer-name":n.order.customer_name,"whatsapp-url":N.value,onClose:G,onSendWhatsApp:X},null,8,["open","new-status","new-status-label","order-number","customer-name","whatsapp-url"])],64))}}),xt=qe(vt,[["__scopeId","data-v-e7da5e41"]]),bt={class:"admin-page flex flex-col gap-6 p-4 md:p-6"},ht={class:"flex items-center gap-3"},wt={key:0,class:"rounded-2xl border border-green-200 bg-green-50 p-4 text-green-800 dark:border-green-800 dark:bg-green-950 dark:text-green-200"},yt={key:0,class:"rounded-2xl border border-red-200 bg-red-50 p-4 text-red-800 dark:border-red-800 dark:bg-red-950 dark:text-red-200"},_t={class:"-mx-4 overflow-x-auto px-4 scrollbar-hide"},kt={class:"flex gap-2 pb-2"},Ct=["onClick"],$t={class:"relative flex-1"},St={key:0,class:"absolute -right-1 -top-1 flex h-4 w-4 items-center justify-center rounded-full bg-primary"},Dt={key:0,class:"admin-form-section md:hidden"},Vt={class:"admin-form-section-content"},Pt={class:"flex flex-col gap-4"},Tt={class:"grid grid-cols-2 gap-3"},jt={class:"admin-input-group"},Mt={class:"admin-input-group"},At={class:"admin-form-section"},Ut={class:"admin-form-section-header"},Ft={class:"admin-form-section-content"},Bt={class:"flex flex-col gap-4"},zt={class:"flex flex-col gap-4 sm:flex-row"},Wt={class:"relative flex-1"},Lt=["value"],It={class:"flex flex-col gap-4 sm:flex-row sm:items-center"},Nt={class:"flex items-center gap-2 text-sm text-muted-foreground"},Et={class:"flex flex-col gap-3 md:hidden"},Kt={key:0,class:"admin-form-section"},Rt={class:"admin-empty-state"},qt={class:"icon-wrapper"},Ot={key:1,class:"flex items-center justify-between rounded-2xl border bg-card p-3"},Ht={class:"text-sm text-muted-foreground"},Xt={class:"ios-table-container"},Gt={class:"overflow-x-auto"},Yt={class:"ios-table w-full"},Jt={class:"px-4 py-3"},Qt={class:"px-4 py-3"},Zt={class:"flex flex-col"},es={class:"font-medium text-foreground"},ts=["onClick"],ss={class:"px-4 py-3 text-right"},as={class:"px-4 py-3 text-center"},ns={class:"ios-badge ios-badge--outline tabular-nums"},rs={class:"px-4 py-3 text-center"},ls={class:"px-4 py-3 text-center"},os={class:"whitespace-nowrap text-sm text-muted-foreground"},is={class:"px-4 py-3 text-center"},us={key:0},ds={colspan:"7",class:"px-4 py-16"},cs={class:"flex flex-col items-center justify-center text-center"},ms={class:"mb-4 rounded-2xl bg-muted p-4"},fs={key:0,class:"flex items-center justify-between border-t border-border/50 px-4 py-3"},ps={class:"text-sm text-muted-foreground"},gs={class:"font-medium text-foreground"},vs={class:"font-medium text-foreground"},xs={class:"font-medium text-foreground"},bs={class:"flex items-center gap-2"},hs={class:"rounded-lg bg-muted px-3 py-1 text-sm font-medium tabular-nums"},la=ve({__name:"Index",props:{orders:{},statuses:{},filters:{},statusCounts:{}},setup(n){const S=$(null),f=$("asc");function M(c){const t=c;S.value===t?f.value=f.value==="asc"?"desc":"asc":(S.value=t,f.value="asc")}const D=we(),{openWhatsApp:te}=xe(),x=n,B=Ce(),A=[{title:"Dashboard",href:Ee().url},{title:"Pesanan",href:Q().url}],H=P(()=>B.props.flash?.success),I=P(()=>B.props.flash?.error),_=P(()=>S.value?[...x.orders.data].sort((c,t)=>{let r=0;switch(S.value){case"order_number":r=c.order_number.localeCompare(t.order_number);break;case"customer_name":r=c.customer_name.localeCompare(t.customer_name,"id");break;case"total":r=c.total-t.total;break;case"items":r=c.items.length-t.items.length;break;case"status":r=c.status.localeCompare(t.status);break;case"created_at":r=new Date(c.created_at).getTime()-new Date(t.created_at).getTime();break}return f.value==="asc"?r:-r}):x.orders.data),w=$(x.filters.search||""),b=$(x.filters.status||""),p=$(x.filters.start_date||""),g=$(x.filters.end_date||""),V=$(!1);function se(){D.selection(),V.value=!V.value}const ae=P(()=>w.value||b.value||p.value||g.value),ne=We(()=>{T()},300);$e(w,()=>{ne()});function T(){D.selection(),q.get(Q().url,{search:w.value||void 0,status:b.value||void 0,start_date:p.value||void 0,end_date:g.value||void 0},{preserveState:!0,preserveScroll:!0})}function N(){D.medium(),w.value="",b.value="",p.value="",g.value="",q.get(Q().url)}function X(c){D.selection(),b.value=c,q.get(Q().url,{search:w.value||void 0,status:c||void 0,start_date:p.value||void 0,end_date:g.value||void 0},{preserveState:!0,preserveScroll:!0})}function G(c){return x.statusCounts?x.statusCounts.find(r=>r.status===c)?.count??0:0}function E(c){switch(c){case"pending":return _e;case"confirmed":return ie;case"preparing":return ye;case"ready":return Ge;case"delivered":return ie;case"cancelled":return Xe;default:return O}}function U(c){c&&(D.light(),q.get(c,{},{preserveState:!0,preserveScroll:!0}))}function v(c){switch(c){case"pending":return"ios-badge--pending";case"confirmed":return"ios-badge--confirmed";case"preparing":return"ios-badge--preparing";case"ready":return"ios-badge--ready";case"delivered":return"ios-badge--delivered";case"cancelled":return"ios-badge--cancelled";default:return"ios-badge--muted"}}function l(c){return new Date(c).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function k(c){D.medium(),te(c)}return(c,t)=>(u(),m(L,null,[a(s(Se),{title:"Manajemen Pesanan"}),a(ze,{breadcrumbs:A},{default:o(()=>[a(Oe,null,{default:o(()=>[e("div",bt,[a(s(K),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:s(R).ios,class:"flex flex-col gap-1"},{default:o(()=>[e("div",ht,[t[13]||(t[13]=e("h1",{class:"text-2xl font-bold tracking-tight md:text-3xl"}," Pesanan ",-1)),a(s(he),{variant:"secondary",class:"tabular-nums"},{default:o(()=>[d(i(n.orders.total)+" total ",1)]),_:1})]),t[14]||(t[14]=e("p",{class:"text-muted-foreground"}," Kelola dan pantau semua pesanan customer ",-1))]),_:1},8,["transition"]),a(re,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:o(()=>[H.value?(u(),m("div",wt,i(H.value),1)):h("",!0)]),_:1}),a(re,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:o(()=>[I.value?(u(),m("div",yt,i(I.value),1)):h("",!0)]),_:1}),a(s(K),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(R).ios,delay:s(J)(0)},class:"md:hidden"},{default:o(()=>[e("div",_t,[e("div",kt,[e("button",{class:F(["ios-button flex h-10 shrink-0 items-center gap-2 rounded-full px-4 text-sm font-medium transition-all",[b.value?"bg-muted/50 text-muted-foreground hover:bg-muted":"bg-primary text-primary-foreground shadow-md"]]),onClick:t[0]||(t[0]=r=>X(""))},[a(s(O),{class:"h-4 w-4"}),t[15]||(t[15]=d(" Semua ",-1)),n.orders.total?(u(),m("span",{key:0,class:F(["rounded-full px-1.5 text-xs tabular-nums",b.value?"bg-muted":"bg-primary-foreground/20"])},i(n.orders.total),3)):h("",!0)],2),(u(!0),m(L,null,Y(n.statuses,(r,y)=>(u(),m("button",{key:y,class:F(["ios-button flex h-10 shrink-0 items-center gap-2 rounded-full px-4 text-sm font-medium transition-all",[b.value===y?y==="pending"?"bg-amber-500 text-white shadow-md":y==="cancelled"?"bg-red-500 text-white shadow-md":"bg-primary text-primary-foreground shadow-md":"bg-muted/50 text-muted-foreground hover:bg-muted"]]),onClick:ws=>X(y)},[(u(),j(le(E(y)),{class:"h-4 w-4"})),d(" "+i(r)+" ",1),G(y)>0?(u(),m("span",{key:0,class:F(["rounded-full px-1.5 text-xs tabular-nums",[b.value===y?"bg-white/20":y==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900 dark:text-amber-300":"bg-muted"]])},i(G(y)),3)):h("",!0)],10,Ct))),128))])])]),_:1},8,["transition"]),a(s(K),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(R).ios,delay:s(J)(1)},class:"flex gap-2 md:hidden"},{default:o(()=>[e("div",$t,[a(s(ce),{class:"absolute left-3.5 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(s(z),{modelValue:w.value,"onUpdate:modelValue":t[1]||(t[1]=r=>w.value=r),type:"text",placeholder:"Cari pesanan...",class:"admin-input h-12 pl-10"},null,8,["modelValue"])]),a(s(C),{variant:"outline",size:"icon",class:F(["ios-button relative h-12 w-12 shrink-0",{"border-primary bg-primary/5":p.value||g.value}]),onClick:se},{default:o(()=>[a(s(me),{class:"h-4 w-4"}),p.value||g.value?(u(),m("span",St,[...t[16]||(t[16]=[e("span",{class:"h-2 w-2 rounded-full bg-white"},null,-1)])])):h("",!0)]),_:1},8,["class"])]),_:1},8,["transition"]),a(re,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2 scale-95","enter-to-class":"opacity-100 translate-y-0 scale-100","leave-active-class":"transition-all duration-200 ease-[var(--ios-spring-snappy)]","leave-from-class":"opacity-100 translate-y-0 scale-100","leave-to-class":"opacity-0 -translate-y-2 scale-95"},{default:o(()=>[V.value?(u(),m("div",Dt,[e("div",Vt,[e("div",Pt,[t[20]||(t[20]=e("p",{class:"text-sm font-medium text-muted-foreground"}," Filter berdasarkan tanggal ",-1)),e("div",Tt,[e("div",jt,[t[17]||(t[17]=e("label",null,"Dari Tanggal",-1)),a(s(z),{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=r=>p.value=r),type:"date",class:"admin-input",onChange:T},null,8,["modelValue"])]),e("div",Mt,[t[18]||(t[18]=e("label",null,"Sampai",-1)),a(s(z),{modelValue:g.value,"onUpdate:modelValue":t[3]||(t[3]=r=>g.value=r),type:"date",class:"admin-input",onChange:T},null,8,["modelValue"])])]),p.value||g.value?(u(),j(s(C),{key:0,variant:"outline",class:"admin-btn-secondary",onClick:t[4]||(t[4]=r=>{p.value="",g.value="",T()})},{default:o(()=>[a(s(fe),{class:"mr-2 h-4 w-4"}),t[19]||(t[19]=d(" Reset Tanggal ",-1))]),_:1})):h("",!0)])])])):h("",!0)]),_:1}),a(s(K),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(R).ios,delay:s(J)(0)},class:"hidden md:block"},{default:o(()=>[e("div",At,[e("div",Ut,[e("h3",null,[a(s(He)),t[21]||(t[21]=d(" Filter & Pencarian ",-1))])]),e("div",Ft,[e("div",Bt,[e("div",zt,[e("div",Wt,[a(s(ce),{class:"absolute left-3.5 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a(s(z),{modelValue:w.value,"onUpdate:modelValue":t[5]||(t[5]=r=>w.value=r),type:"text",placeholder:"Cari order number, nama, atau telepon...",class:"admin-input pl-10"},null,8,["modelValue"])]),De(e("select",{"onUpdate:modelValue":t[6]||(t[6]=r=>b.value=r),class:"admin-select w-full sm:w-48",onChange:T},[t[22]||(t[22]=e("option",{value:""},"Semua Status",-1)),(u(!0),m(L,null,Y(n.statuses,(r,y)=>(u(),m("option",{key:y,value:y},i(r),9,Lt))),128))],544),[[Ve,b.value]])]),e("div",It,[e("div",Nt,[a(s(me),{class:"h-4 w-4"}),t[23]||(t[23]=e("span",null,"Rentang Tanggal:",-1))]),a(s(z),{modelValue:p.value,"onUpdate:modelValue":t[7]||(t[7]=r=>p.value=r),type:"date",class:"admin-input w-full sm:w-auto",onChange:T},null,8,["modelValue"]),t[25]||(t[25]=e("span",{class:"text-muted-foreground"},"sampai",-1)),a(s(z),{modelValue:g.value,"onUpdate:modelValue":t[8]||(t[8]=r=>g.value=r),type:"date",class:"admin-input w-full sm:w-auto",onChange:T},null,8,["modelValue"]),ae.value?(u(),j(s(C),{key:0,variant:"outline",class:"ios-button",onClick:N},{default:o(()=>[a(s(fe),{class:"mr-2 h-4 w-4"}),t[24]||(t[24]=d(" Reset ",-1))]),_:1})):h("",!0)])])])])]),_:1},8,["transition"]),e("div",Et,[(u(!0),m(L,null,Y(n.orders.data,r=>(u(),j(xt,{key:r.id,order:r,statuses:n.statuses,"whatsapp-urls":r.whatsapp_urls},null,8,["order","statuses","whatsapp-urls"]))),128)),!n.orders.data||n.orders.data.length===0?(u(),m("div",Kt,[e("div",Rt,[e("div",qt,[a(s(ue))]),t[26]||(t[26]=e("h3",null,"Belum Ada Pesanan",-1)),t[27]||(t[27]=e("p",null,"Pesanan customer akan muncul di sini",-1))])])):h("",!0),n.orders.data?.length>0&&n.orders.last_page>1?(u(),m("div",Ot,[a(s(C),{variant:"outline",size:"sm",class:"ios-button h-10 w-10 p-0",disabled:n.orders.current_page===1,onClick:t[9]||(t[9]=r=>U(n.orders.links[0]?.url))},{default:o(()=>[a(s(pe),{class:"h-4 w-4"})]),_:1},8,["disabled"]),e("span",Ht,i(n.orders.current_page)+" / "+i(n.orders.last_page),1),a(s(C),{variant:"outline",size:"sm",class:"ios-button h-10 w-10 p-0",disabled:n.orders.current_page===n.orders.last_page,onClick:t[10]||(t[10]=r=>U(n.orders.links[n.orders.links.length-1]?.url))},{default:o(()=>[a(s(ge),{class:"h-4 w-4"})]),_:1},8,["disabled"])])):h("",!0)]),a(s(K),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(R).ios,delay:s(J)(1)},class:"hidden md:block"},{default:o(()=>[e("div",Xt,[e("div",Gt,[e("table",Yt,[e("thead",null,[e("tr",null,[a(W,{column:"order_number",label:"No. Pesanan","current-sort":S.value,"current-direction":f.value,style:{width:"180px"},onSort:M},null,8,["current-sort","current-direction"]),a(W,{column:"customer_name",label:"Customer","current-sort":S.value,"current-direction":f.value,style:{"min-width":"200px"},onSort:M},null,8,["current-sort","current-direction"]),a(W,{column:"total",label:"Total","current-sort":S.value,"current-direction":f.value,align:"right",style:{width:"120px"},onSort:M},null,8,["current-sort","current-direction"]),a(W,{column:"items",label:"Items","current-sort":S.value,"current-direction":f.value,align:"center",style:{width:"80px"},onSort:M},null,8,["current-sort","current-direction"]),a(W,{column:"status",label:"Status","current-sort":S.value,"current-direction":f.value,align:"center",style:{width:"120px"},onSort:M},null,8,["current-sort","current-direction"]),a(W,{column:"created_at",label:"Tanggal","current-sort":S.value,"current-direction":f.value,align:"center",style:{width:"160px"},onSort:M},null,8,["current-sort","current-direction"]),t[28]||(t[28]=e("th",{class:"whitespace-nowrap px-4 py-3 text-center text-xs font-semibold uppercase tracking-wider text-muted-foreground",style:{width:"100px"}}," Aksi ",-1))])]),e("tbody",null,[(u(!0),m(L,null,Y(_.value,r=>(u(),m("tr",{key:r.id,class:"ios-table-row"},[e("td",Jt,[a(s(Z),{href:s(ee)(r.id).url,class:"font-mono text-sm font-semibold text-primary hover:underline"},{default:o(()=>[d(i(r.order_number),1)]),_:2},1032,["href"])]),e("td",Qt,[e("div",Zt,[e("span",es,i(r.customer_name),1),e("button",{class:"mt-0.5 flex w-fit items-center gap-1.5 text-sm text-green-600 transition-colors hover:text-green-700 dark:text-green-400",onClick:y=>k(r.customer_phone)},[a(s(ke),{class:"h-3.5 w-3.5"}),d(" "+i(r.customer_phone),1)],8,ts)])]),e("td",ss,[a(oe,{price:r.total,size:"sm",class:"font-semibold text-primary"},null,8,["price"])]),e("td",as,[e("span",ns,[a(s(O),{class:"h-3 w-3"}),d(" "+i(r.items.length),1)])]),e("td",rs,[e("span",{class:F(["ios-badge",v(r.status)])},[t[29]||(t[29]=e("span",{class:"ios-badge-dot"},null,-1)),d(" "+i(n.statuses[r.status]||r.status),1)],2)]),e("td",ls,[e("span",os,i(l(r.created_at)),1)]),e("td",is,[a(s(Z),{href:s(ee)(r.id).url},{default:o(()=>[a(s(C),{variant:"outline",size:"sm",class:"h-8 gap-1.5"},{default:o(()=>[a(s(be),{class:"h-4 w-4"}),t[30]||(t[30]=d(" Detail ",-1))]),_:1})]),_:1},8,["href"])])]))),128)),_.value.length===0?(u(),m("tr",us,[e("td",ds,[e("div",cs,[e("div",ms,[a(s(ue),{class:"h-10 w-10 text-muted-foreground/50"})]),t[31]||(t[31]=e("h3",{class:"text-lg font-semibold"},"Belum Ada Pesanan",-1)),t[32]||(t[32]=e("p",{class:"mt-1 text-sm text-muted-foreground"},"Pesanan customer akan muncul di sini",-1))])])])):h("",!0)])])]),n.orders.last_page>1?(u(),m("div",fs,[e("p",ps,[t[33]||(t[33]=d(" Menampilkan ",-1)),e("span",gs,i(n.orders.from),1),t[34]||(t[34]=d(" - ",-1)),e("span",vs,i(n.orders.to),1),t[35]||(t[35]=d(" dari ",-1)),e("span",xs,i(n.orders.total),1),t[36]||(t[36]=d(" pesanan ",-1))]),e("div",bs,[a(s(C),{variant:"outline",size:"sm",disabled:n.orders.current_page===1,onClick:t[11]||(t[11]=r=>U(n.orders.links[0]?.url))},{default:o(()=>[a(s(pe),{class:"h-4 w-4"}),t[37]||(t[37]=d(" Prev ",-1))]),_:1},8,["disabled"]),e("span",hs,i(n.orders.current_page)+" / "+i(n.orders.last_page),1),a(s(C),{variant:"outline",size:"sm",disabled:n.orders.current_page===n.orders.last_page,onClick:t[12]||(t[12]=r=>U(n.orders.links[n.orders.links.length-1]?.url))},{default:o(()=>[t[38]||(t[38]=d(" Next ",-1)),a(s(ge),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])):h("",!0)])]),_:1},8,["transition"]),t[39]||(t[39]=e("div",{class:"h-20 md:hidden"},null,-1))])]),_:1})]),_:1})],64))}});export{la as default};
