import{d as pe,c as C,z as Me,g as k,w as n,b as a,f as s,e,q as A,j as c,t as l,i as h,o as d,u as ze,r as w,a as p,h as Le,T as V,F as j,k as L,v as se,B as Ne,x as We,m as ae,n as ne}from"./app-ER5cxcBq.js";import{a as fe,b as ge,c as xe,d as ve,e as be,f as he,u as Fe,h as Ie,i as Ke,j as Re,k as Ve,l as qe,_ as He,g as Ee}from"./AppLayout.vue_vue_type_script_setup_true_lang-CokBVKmS.js";import{_ as S}from"./index-BkMJABks.js";import{P as q,_ as H}from"./package-CsDP_40k.js";import{_ as ie}from"./Label.vue_vue_type_script_setup_true_lang-BkLVSIif.js";import{c as Xe,u as ye,M as f,s as g,a as K,S as re}from"./shopping-bag-BY6ZtFtF.js";import{C as N}from"./circle-check-BLW_U09B.js";import{_ as U}from"./PriceDisplay.vue_vue_type_script_setup_true_lang-Dvz3OE45.js";import{_ as Ge}from"./PullToRefresh.vue_vue_type_script_setup_true_lang-6d0t54rP.js";import{d as Oe,c as oe,f as Qe}from"./index-WEbfYsTi.js";import{T as E,C as X}from"./truck-Ckiw3IpM.js";import{C as G}from"./chef-hat-DTw7BvxY.js";import{C as O}from"./check-BrTasoZG.js";import{A as Ye}from"./arrow-left-BgfnO_tv.js";import{U as le}from"./user-DYDmTIwW.js";import{P as de}from"./phone-BVATxZgU.js";import{M as Je}from"./map-pin-CKJvXfrB.js";import{N as ue,M as Ze,T as et,H as tt,R as st,B as at,S as nt,a as it,C as rt,P as ot,A as lt,G as dt,b as ut,c as ct,F as mt,U as pt,d as ft,e as gt,f as xt,g as vt}from"./utensils-COJ3oVGW.js";import{F as ce}from"./file-text-Twx6Evkd.js";import{C as Q}from"./clock-DBOwPiC-.js";import{C as bt}from"./chevron-right-73wMWnOX.js";import{L as ht}from"./loader-circle-_eVlSk89.js";import{S as yt}from"./star-Dw25a0jn.js";import{S as kt}from"./shopping-cart-_a805H-2.js";import{C as _t}from"./circle-alert-BG35wZRV.js";import{X as wt}from"./x-DmjxkOhw.js";import{R as me}from"./refresh-cw-BJl1fAyb.js";import{C as Ct}from"./circle-check-big-CxBEONYX.js";import"./Input.vue_vue_type_script_setup_true_lang-Dr10aau6.js";import"./VisuallyHidden-DLQLEOUO.js";import"./useForwardExpose-CjJuz8cX.js";import"./RovingFocusGroup-CsuA_wO3.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-Dp0PW41R.js";import"./settings-BIHqGbMT.js";import"./log-out-iqsL09EU.js";import"./lock-dbRTwNZF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const St=Xe("CircleDotIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),$t={class:"flex flex-col gap-2 text-sm"},Pt={class:"flex items-center justify-between"},Ut={class:"font-mono font-semibold"},At={class:"flex items-center justify-between"},Dt={class:"font-medium"},Bt={class:"flex items-center justify-between"},jt=pe({__name:"StatusUpdateSuccessDialog",props:{open:{type:Boolean},newStatus:{},newStatusLabel:{},orderNumber:{},customerName:{},whatsappUrl:{default:""}},emits:["update:open","close","sendWhatsApp"],setup(i,{emit:v}){const T=i,u=v,D=ye(),$=C(()=>{switch(T.newStatus){case"confirmed":return{bg:"bg-blue-100 dark:bg-blue-900/40",text:"text-blue-600 dark:text-blue-400",ring:"ring-blue-500/20"};case"preparing":return{bg:"bg-purple-100 dark:bg-purple-900/40",text:"text-purple-600 dark:text-purple-400",ring:"ring-purple-500/20"};case"ready":return{bg:"bg-cyan-100 dark:bg-cyan-900/40",text:"text-cyan-600 dark:text-cyan-400",ring:"ring-cyan-500/20"};case"delivered":return{bg:"bg-green-100 dark:bg-green-900/40",text:"text-green-600 dark:text-green-400",ring:"ring-green-500/20"};case"cancelled":return{bg:"bg-red-100 dark:bg-red-900/40",text:"text-red-600 dark:text-red-400",ring:"ring-red-500/20"};default:return{bg:"bg-green-100 dark:bg-green-900/40",text:"text-green-600 dark:text-green-400",ring:"ring-green-500/20"}}}),W=C(()=>{switch(T.newStatus){case"confirmed":return"Pesanan telah dikonfirmasi dan siap diproses.";case"preparing":return"Pesanan sedang dalam proses pembuatan.";case"ready":return"Pesanan siap untuk dikirim ke customer.";case"delivered":return"Pesanan telah berhasil dikirim ke customer.";case"cancelled":return"Pesanan telah dibatalkan.";default:return"Status pesanan berhasil diperbarui."}});Me(()=>T.open,_=>{_&&D.success()});function F(){D.light(),u("close"),u("update:open",!1)}function b(){D.medium(),u("sendWhatsApp")}return(_,m)=>(d(),k(s(he),{open:i.open,"onUpdate:open":m[0]||(m[0]=P=>u("update:open",P))},{default:n(()=>[a(s(fe),{class:"rounded-2xl sm:max-w-md"},{default:n(()=>[a(s(ge),{class:"text-center"},{default:n(()=>[a(s(f),{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:s(g).bouncy,class:"mx-auto mb-4"},{default:n(()=>[e("div",{class:A(["flex h-16 w-16 items-center justify-center rounded-full ring-4",$.value.bg,$.value.ring])},[a(s(N),{class:A(["h-8 w-8",$.value.text])},null,8,["class"])],2)]),_:1},8,["transition"]),a(s(f),{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...s(g).ios,delay:.1}},{default:n(()=>[a(s(xe),{class:"text-xl"},{default:n(()=>[...m[1]||(m[1]=[c(" Status Berhasil Diperbarui! ",-1)])]),_:1})]),_:1},8,["transition"]),a(s(f),{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...s(g).ios,delay:.15}},{default:n(()=>[a(s(ve),{class:"text-center"},{default:n(()=>[c(l(W.value),1)]),_:1})]),_:1},8,["transition"])]),_:1}),a(s(f),{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...s(g).ios,delay:.2},class:"rounded-xl border bg-muted/30 p-4"},{default:n(()=>[e("div",$t,[e("div",Pt,[m[2]||(m[2]=e("span",{class:"text-muted-foreground"},"Nomor Pesanan",-1)),e("span",Ut,l(i.orderNumber),1)]),e("div",At,[m[3]||(m[3]=e("span",{class:"text-muted-foreground"},"Customer",-1)),e("span",Dt,l(i.customerName),1)]),e("div",Bt,[m[4]||(m[4]=e("span",{class:"text-muted-foreground"},"Status Baru",-1)),e("span",{class:A(["rounded-full px-2.5 py-0.5 text-xs font-medium",$.value.bg,$.value.text])},l(i.newStatusLabel),3)])])]),_:1},8,["transition"]),a(s(be),{class:"flex-col gap-2 pt-2 sm:flex-col"},{default:n(()=>[a(s(f),{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...s(g).ios,delay:.25},class:"w-full"},{default:n(()=>[i.whatsappUrl&&i.newStatus!=="cancelled"?(d(),k(s(S),{key:0,class:"ios-button w-full gap-2 bg-green-600 text-white hover:bg-green-700",onClick:b},{default:n(()=>[...m[5]||(m[5]=[e("svg",{class:"h-5 w-5",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1),c(" Kirim via WhatsApp ",-1)])]),_:1})):h("",!0)]),_:1},8,["transition"]),a(s(f),{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...s(g).ios,delay:.3},class:"w-full"},{default:n(()=>[a(s(S),{variant:"outline",class:"ios-button w-full",onClick:F},{default:n(()=>[...m[6]||(m[6]=[c(" Tutup ",-1)])]),_:1})]),_:1},8,["transition"])]),_:1})]),_:1})]),_:1},8,["open"]))}}),Tt={class:"admin-page flex flex-col gap-6 p-4 md:p-6"},Mt={class:"flex items-center gap-3"},zt={class:"flex flex-col gap-1"},Lt={class:"flex items-center gap-3"},Nt={class:"text-xl font-bold tracking-tight md:text-2xl"},Wt={key:0,class:"rounded-2xl border border-green-200 bg-green-50 p-4 text-green-800 dark:border-green-800 dark:bg-green-950 dark:text-green-200"},Ft={key:0,class:"rounded-2xl border border-red-200 bg-red-50 p-4 text-red-800 dark:border-red-800 dark:bg-red-950 dark:text-red-200"},It={class:"grid gap-6 lg:grid-cols-3"},Kt={class:"flex flex-col gap-6 lg:col-span-2"},Rt={class:"admin-form-section"},Vt={class:"admin-form-section-header"},qt={class:"admin-form-section-content"},Ht={class:"grid gap-4 sm:grid-cols-2"},Et={class:"flex items-start gap-3"},Xt={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-primary/10"},Gt={class:"min-w-0 flex-1"},Ot={class:"truncate font-semibold"},Qt={class:"flex items-start gap-3"},Yt={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-green-100 dark:bg-green-900/40"},Jt={class:"min-w-0 flex-1"},Zt={class:"font-semibold"},es={class:"mt-2 flex gap-2"},ts={key:0,class:"flex items-start gap-3 sm:col-span-2"},ss={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-orange-100 dark:bg-orange-900/40"},as={class:"min-w-0 flex-1"},ns={class:"font-medium"},is={key:1,class:"flex items-start gap-3 sm:col-span-2"},rs={class:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-muted"},os={class:"min-w-0 flex-1"},ls={class:"font-medium"},ds={class:"admin-form-section"},us={class:"admin-form-section-header"},cs={class:"flex items-center justify-between"},ms={class:"p-0"},ps={class:"flex flex-col gap-3 p-4 md:hidden"},fs={class:"flex items-start justify-between gap-3"},gs={class:"min-w-0 flex-1"},xs={class:"font-semibold leading-snug"},vs={key:0,class:"mt-1 text-sm text-muted-foreground"},bs={class:"mt-3 flex items-center justify-between border-t border-border/50 pt-3"},hs={class:"text-sm text-muted-foreground"},ys={class:"hidden overflow-x-auto md:block"},ks={class:"admin-table"},_s={class:"flex flex-col gap-0.5"},ws={class:"font-medium"},Cs={key:0,class:"text-sm text-muted-foreground"},Ss={class:"text-right"},$s={class:"text-center"},Ps={class:"text-right"},Us={class:"border-t bg-muted/30 p-5"},As={class:"flex flex-col gap-3"},Ds={class:"flex justify-between text-sm"},Bs={class:"flex justify-between text-sm"},js={class:"flex justify-between border-t pt-3"},Ts={class:"flex flex-col gap-6"},Ms={class:"admin-form-section"},zs={class:"admin-form-section-header"},Ls={class:"admin-form-section-content"},Ns={class:"flex flex-col gap-4"},Ws={class:"admin-input-group"},Fs=["value"],Is={key:0,class:"admin-input-group"},Ks={class:"mt-2 border-t border-border pt-4"},Rs={class:"admin-form-section"},Vs={class:"admin-form-section-header"},qs={class:"admin-form-section-content"},Hs={class:"status-timeline"},Es={class:"timeline-dot"},Xs={class:"flex flex-col"},Gs={class:"font-medium"},Os={class:"text-sm text-muted-foreground"},Qs={class:"flex items-start gap-2"},Ys={class:"text-sm text-red-700 dark:text-red-300"},Js={key:0,class:"fixed inset-x-0 bottom-0 z-40 border-t bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/80 md:hidden",style:{"padding-bottom":"env(safe-area-inset-bottom)"}},Zs={class:"flex items-center gap-3 p-4"},ea={class:"min-w-0 flex-1"},ta={class:"flex items-center gap-2"},sa={class:"text-sm font-medium text-primary"},aa={class:"mt-4 flex flex-col gap-2"},na=["onClick"],ia={class:"font-medium"},ra={key:0,class:"mt-2 block text-red-600"},Ea=pe({__name:"Show",props:{order:{},statuses:{},whatsappUrls:{},timelineIcons:{}},setup(i){const v=ye(),{openWhatsApp:T}=Fe(),u=i,D=ze(),$=[{title:"Dashboard",href:Oe().url},{title:"Pesanan",href:oe().url},{title:u.order.order_number,href:"#"}],W=C(()=>D.props.flash?.success),F=C(()=>D.props.flash?.error),b=w(u.order.status),_=w(""),m=w(!1),P=w(!1),I=w(!1),M=w(""),z=w(!1),R=w(!1),B=C(()=>{switch(u.order.status){case"pending":return{status:"confirmed",label:"Konfirmasi",icon:O};case"confirmed":return{status:"preparing",label:"Proses",icon:G};case"preparing":return{status:"ready",label:"Siap Kirim",icon:q};case"ready":return{status:"delivered",label:"Selesai",icon:E};default:return null}});function ke(){B.value&&(v.medium(),b.value=B.value.status,m.value=!0)}const y=C(()=>b.value==="cancelled"),Y=C(()=>b.value!==u.order.status);function J(o){switch(o){case"pending":return"admin-badge--pending";case"confirmed":return"admin-badge--confirmed";case"preparing":return"bg-purple-100 text-purple-700 dark:bg-purple-900/40 dark:text-purple-300";case"ready":return"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/40 dark:text-cyan-300";case"delivered":return"admin-badge--success";case"cancelled":return"admin-badge--destructive";default:return""}}const Z={Clock:Q,Timer:vt,Hourglass:xt,CalendarClock:gt,CheckCircle2:N,CircleCheck:N,Check:O,CircleCheckBig:Ct,BadgeCheck:ft,ChefHat:G,Utensils:pt,Flame:mt,CookingPot:ct,Loader:me,RefreshCw:me,Package:q,Box:ut,Gift:dt,Archive:lt,PackageCheck:ot,Truck:E,Car:rt,Bike:it,Send:nt,Navigation:ue,XCircle:X,X:wt,Ban:at,CircleX:X,AlertCircle:_t,ShoppingBag:re,ShoppingCart:kt,Receipt:st,FileText:ce,Star:yt,Heart:tt,ThumbsUp:et};function _e(o){const t=u.timelineIcons?.[o];if(t&&Z[t])return Z[t];switch(o){case"created":case"pending":return Q;case"confirmed":return N;case"preparing":return G;case"ready":return q;case"delivered":return E;case"cancelled":return X;default:return St}}function we(o){return o?new Date(o).toLocaleDateString("id-ID",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}function Ce(o){v.medium(),T(o)}function Se(o){v.medium();const t=u.whatsappUrls[o];t&&window.open(t,"_blank")}function ee(){Y.value&&(y.value&&!_.value.trim()||(v.medium(),m.value=!0))}function $e(){m.value=!1,P.value=!0}function Pe(){v.heavy(),z.value=!0,P.value=!1;const o=b.value;ne.patch(Qe(u.order.id).url,{status:o,cancellation_reason:y.value?_.value:null},{onSuccess:()=>{v.success(),M.value=o,I.value=!0},onError:()=>{v.error()},onFinish:()=>{z.value=!1}})}function Ue(){const o=u.whatsappUrls[M.value];o&&window.open(o,"_blank")}function Ae(){I.value=!1}function De(){P.value=!1}const te=C(()=>{const o=[];return u.order.timestamps.created_at&&o.push({status:"created",label:"Pesanan Dibuat",timestamp:u.order.timestamps.created_at,active:!0}),u.order.timestamps.confirmed_at&&o.push({status:"confirmed",label:"Dikonfirmasi",timestamp:u.order.timestamps.confirmed_at,active:!0}),u.order.timestamps.preparing_at&&o.push({status:"preparing",label:"Sedang Diproses",timestamp:u.order.timestamps.preparing_at,active:!0}),u.order.timestamps.ready_at&&o.push({status:"ready",label:"Siap Dikirim",timestamp:u.order.timestamps.ready_at,active:!0}),u.order.timestamps.delivered_at&&o.push({status:"delivered",label:"Terkirim",timestamp:u.order.timestamps.delivered_at,active:!0}),u.order.timestamps.cancelled_at&&o.push({status:"cancelled",label:"Dibatalkan",timestamp:u.order.timestamps.cancelled_at,active:!0}),o});function Be(){v.light(),ne.visit(oe().url)}function je(o){v.medium();const t=encodeURIComponent(o);window.open(`https://www.google.com/maps/search/?api=1&query=${t}`,"_blank")}function Te(o){v.medium(),window.location.href=`tel:${o}`}return(o,t)=>(d(),p(j,null,[a(s(Le),{title:`Detail Pesanan - ${i.order.order_number}`},null,8,["title"]),a(He,{breadcrumbs:$},{default:n(()=>[a(Ge,null,{default:n(()=>[e("div",Tt,[a(s(f),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:s(g).ios,class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},{default:n(()=>[e("div",Mt,[a(s(S),{variant:"ghost",size:"icon",class:"ios-button h-10 w-10 shrink-0",onClick:Be},{default:n(()=>[a(s(Ye),{class:"h-5 w-5"})]),_:1}),e("div",zt,[e("div",Lt,[e("h1",Nt,l(i.order.order_number),1),a(s(f),{initial:{scale:0},animate:{scale:1},transition:s(g).bouncy},{default:n(()=>[e("span",{class:A(["admin-badge text-sm",J(i.order.status)])},l(i.order.status_label),3)]),_:1},8,["transition"])]),t[11]||(t[11]=e("p",{class:"text-sm text-muted-foreground"}," Detail pesanan dan update status ",-1))])])]),_:1},8,["transition"]),a(V,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:n(()=>[W.value?(d(),p("div",Wt,l(W.value),1)):h("",!0)]),_:1}),a(V,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:n(()=>[F.value?(d(),p("div",Ft,l(F.value),1)):h("",!0)]),_:1}),e("div",It,[e("div",Kt,[a(s(f),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(g).ios,delay:s(K)(0)}},{default:n(()=>[e("div",Rt,[e("div",Vt,[e("h3",null,[a(s(le)),t[12]||(t[12]=c(" Informasi Customer ",-1))])]),e("div",qt,[e("div",Ht,[e("div",Et,[e("div",Xt,[a(s(le),{class:"h-5 w-5 text-primary"})]),e("div",Gt,[t[13]||(t[13]=e("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Nama",-1)),e("p",Ot,l(i.order.customer_name),1)])]),e("div",Qt,[e("div",Yt,[a(s(de),{class:"h-5 w-5 text-green-600 dark:text-green-400"})]),e("div",Jt,[t[16]||(t[16]=e("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Telepon",-1)),e("p",Zt,l(i.order.customer_phone),1),e("div",es,[e("button",{class:"ios-button flex h-9 items-center gap-1.5 rounded-lg bg-green-600 px-3 text-sm font-medium text-white active:scale-95",onClick:t[0]||(t[0]=r=>Ce(i.order.customer_phone))},[...t[14]||(t[14]=[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1),e("span",{class:"hidden sm:inline"},"WhatsApp",-1)])]),e("button",{class:"ios-button flex h-9 items-center gap-1.5 rounded-lg border border-border bg-background px-3 text-sm font-medium active:scale-95",onClick:t[1]||(t[1]=r=>Te(i.order.customer_phone))},[a(s(de),{class:"h-4 w-4"}),t[15]||(t[15]=e("span",{class:"hidden sm:inline"},"Telepon",-1))])])])]),i.order.customer_address?(d(),p("div",ts,[e("div",ss,[a(s(Je),{class:"h-5 w-5 text-orange-600 dark:text-orange-400"})]),e("div",as,[t[18]||(t[18]=e("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Alamat",-1)),e("p",ns,l(i.order.customer_address),1),e("button",{class:"mt-2 flex h-9 items-center gap-1.5 rounded-lg border border-orange-200 bg-orange-50 px-3 text-sm font-medium text-orange-700 active:scale-95 dark:border-orange-800 dark:bg-orange-950 dark:text-orange-300",onClick:t[2]||(t[2]=r=>je(i.order.customer_address))},[a(s(ue),{class:"h-4 w-4"}),t[17]||(t[17]=c(" Buka di Maps ",-1))])])])):h("",!0),i.order.notes?(d(),p("div",is,[e("div",rs,[a(s(ce),{class:"h-5 w-5 text-muted-foreground"})]),e("div",os,[t[19]||(t[19]=e("p",{class:"text-xs font-medium uppercase tracking-wider text-muted-foreground"},"Catatan",-1)),e("p",ls,l(i.order.notes),1)])])):h("",!0)])])])]),_:1},8,["transition"]),a(s(f),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(g).ios,delay:s(K)(1)}},{default:n(()=>[e("div",ds,[e("div",us,[e("div",cs,[e("h3",null,[a(s(re)),t[20]||(t[20]=c(" Detail Pesanan ",-1))]),a(s(H),{variant:"secondary",class:"tabular-nums"},{default:n(()=>[c(l(i.order.items_count)+" item ",1)]),_:1})])]),e("div",ms,[e("div",ps,[(d(!0),p(j,null,L(i.order.items,(r,x)=>(d(),k(s(f),{key:r.id,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{...s(g).ios,delay:.15+x*.03},class:"rounded-xl border bg-muted/20 p-4"},{default:n(()=>[e("div",fs,[e("div",gs,[e("h4",xs,l(r.product_name),1),r.notes?(d(),p("p",vs,l(r.notes),1)):h("",!0)]),a(s(H),{variant:"secondary",class:"shrink-0 tabular-nums"},{default:n(()=>[c(" x"+l(r.quantity),1)]),_:2},1024)]),e("div",bs,[e("span",hs,[a(U,{price:r.product_price,size:"sm"},null,8,["price"]),t[21]||(t[21]=c(" / item ",-1))]),a(U,{price:r.subtotal,size:"base",class:"font-bold text-primary"},null,8,["price"])])]),_:2},1032,["transition"]))),128))]),e("div",ys,[e("table",ks,[t[22]||(t[22]=e("thead",null,[e("tr",null,[e("th",null,"Produk"),e("th",{class:"text-right"},"Harga"),e("th",{class:"text-center"},"Qty"),e("th",{class:"text-right"},"Subtotal")])],-1)),e("tbody",null,[(d(!0),p(j,null,L(i.order.items,(r,x)=>(d(),k(s(f),{key:r.id,tag:"tr",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{...s(g).ios,delay:.15+x*.03}},{default:n(()=>[e("td",null,[e("div",_s,[e("span",ws,l(r.product_name),1),r.notes?(d(),p("span",Cs,l(r.notes),1)):h("",!0)])]),e("td",Ss,[a(U,{price:r.product_price,size:"sm"},null,8,["price"])]),e("td",$s,[a(s(H),{variant:"outline",class:"tabular-nums"},{default:n(()=>[c(l(r.quantity),1)]),_:2},1024)]),e("td",Ps,[a(U,{price:r.subtotal,size:"sm",class:"font-semibold"},null,8,["price"])])]),_:2},1032,["transition"]))),128))])])]),e("div",Us,[e("div",As,[e("div",Ds,[t[23]||(t[23]=e("span",{class:"text-muted-foreground"},"Subtotal",-1)),a(U,{price:i.order.subtotal,size:"sm"},null,8,["price"])]),e("div",Bs,[t[24]||(t[24]=e("span",{class:"text-muted-foreground"},"Ongkos Kirim",-1)),a(U,{price:i.order.delivery_fee,size:"sm"},null,8,["price"])]),e("div",js,[t[25]||(t[25]=e("span",{class:"text-lg font-bold"},"Total",-1)),a(U,{price:i.order.total,size:"lg",class:"text-xl! font-bold"},null,8,["price"])])])])])])]),_:1},8,["transition"])]),e("div",Ts,[a(s(f),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(g).ios,delay:s(K)(2)}},{default:n(()=>[e("div",Ms,[e("div",zs,[e("h3",null,[a(s(N)),t[26]||(t[26]=c(" Update Status ",-1))])]),e("div",Ls,[e("div",Ns,[e("div",Ws,[a(s(ie),{for:"status"},{default:n(()=>[...t[27]||(t[27]=[c("Status Pesanan",-1)])]),_:1}),se(e("select",{id:"status","onUpdate:modelValue":t[3]||(t[3]=r=>b.value=r),class:"admin-select"},[(d(!0),p(j,null,L(i.statuses,(r,x)=>(d(),p("option",{key:x,value:x},l(r),9,Fs))),128))],512),[[Ne,b.value]])]),a(V,{"enter-active-class":"transition-all duration-300 ease-[var(--ios-spring-smooth)]","enter-from-class":"opacity-0 -translate-y-2","enter-to-class":"opacity-100 translate-y-0","leave-active-class":"transition-all duration-200","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:n(()=>[y.value?(d(),p("div",Is,[a(s(ie),{for:"cancellation_reason"},{default:n(()=>[...t[28]||(t[28]=[c(" Alasan Pembatalan ",-1),e("span",{class:"text-destructive"},"*",-1)])]),_:1}),se(e("textarea",{id:"cancellation_reason","onUpdate:modelValue":t[4]||(t[4]=r=>_.value=r),placeholder:"Masukkan alasan pembatalan...",rows:"3",class:"admin-textarea"},null,512),[[We,_.value]])])):h("",!0)]),_:1}),a(s(S),{disabled:!Y.value||y.value&&!_.value.trim(),class:"admin-btn-primary",onClick:ee},{default:n(()=>[...t[29]||(t[29]=[c(" Update Status ",-1)])]),_:1},8,["disabled"]),e("div",Ks,[t[31]||(t[31]=e("p",{class:"mb-2 text-sm text-muted-foreground"}," Kirim notifikasi ke customer: ",-1)),a(s(S),{type:"button",variant:"outline",class:"ios-button w-full gap-2 border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",onClick:t[5]||(t[5]=r=>Se(i.order.status))},{default:n(()=>[...t[30]||(t[30]=[e("svg",{class:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor"},[e("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})],-1),c(" Kirim via WhatsApp ",-1)])]),_:1})])])])])]),_:1},8,["transition"]),a(s(f),{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...s(g).ios,delay:s(K)(3)}},{default:n(()=>[e("div",Rs,[e("div",Vs,[e("h3",null,[a(s(Q)),t[32]||(t[32]=c(" Timeline ",-1))])]),e("div",qs,[e("div",Hs,[(d(!0),p(j,null,L(te.value,(r,x)=>(d(),k(s(f),{key:r.status,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{...s(g).ios,delay:.25+x*.05},class:A(["timeline-item",{completed:r.status!=="cancelled",active:x===te.value.length-1}])},{default:n(()=>[e("div",Es,[(d(),k(ae(_e(r.status)),{class:"h-4 w-4"}))]),e("div",Xs,[e("span",Gs,l(r.label),1),e("span",Os,l(we(r.timestamp)),1)])]),_:2},1032,["transition","class"]))),128))]),i.order.status==="cancelled"&&i.order.cancellation_reason?(d(),k(s(f),{key:0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:s(g).ios,class:"mt-4 rounded-xl border border-red-200 bg-red-50 p-3 dark:border-red-800 dark:bg-red-950"},{default:n(()=>[e("div",Qs,[a(s(Ze),{class:"mt-0.5 h-4 w-4 shrink-0 text-red-600 dark:text-red-400"}),e("div",null,[t[33]||(t[33]=e("p",{class:"text-sm font-medium text-red-800 dark:text-red-200"}," Alasan Pembatalan ",-1)),e("p",Ys,l(i.order.cancellation_reason),1)])])]),_:1},8,["transition"])):h("",!0)])])]),_:1},8,["transition"])])]),t[34]||(t[34]=e("div",{class:"h-40 md:hidden"},null,-1))])]),_:1}),B.value?(d(),p("div",Js,[e("div",Zs,[e("div",ea,[t[35]||(t[35]=e("p",{class:"text-xs text-muted-foreground"},"Status Sekarang",-1)),e("div",ta,[e("span",{class:A(["admin-badge",J(i.order.status)])},l(i.order.status_label),3),a(s(bt),{class:"h-4 w-4 text-muted-foreground"}),e("span",sa,l(i.statuses[B.value.status]),1)])]),a(s(S),{class:"h-12 shrink-0 gap-2 rounded-xl px-6",disabled:z.value,onClick:ke},{default:n(()=>[z.value?(d(),k(s(ht),{key:0,class:"h-5 w-5 animate-spin"})):(d(),k(ae(B.value.icon),{key:1,class:"h-5 w-5"})),c(" "+l(B.value.label),1)]),_:1},8,["disabled"])])])):h("",!0),a(s(Ie),{open:R.value,"onUpdate:open":t[6]||(t[6]=r=>R.value=r)},{default:n(()=>[a(s(Ke),{side:"bottom",class:"rounded-t-3xl"},{default:n(()=>[a(s(Re),null,{default:n(()=>[a(s(Ve),null,{default:n(()=>[...t[36]||(t[36]=[c("Update Status Pesanan",-1)])]),_:1}),a(s(qe),null,{default:n(()=>[c(" Pilih status baru untuk pesanan "+l(i.order.order_number),1)]),_:1})]),_:1}),e("div",aa,[(d(!0),p(j,null,L(i.statuses,(r,x)=>(d(),p("button",{key:x,class:A(["flex items-center justify-between rounded-xl px-4 py-4 text-left transition-colors",[b.value===x?"bg-primary/10 text-primary":"hover:bg-muted/50"]]),onClick:oa=>{b.value=x,R.value=!1,ee()}},[e("span",ia,l(r),1),b.value===x?(d(),k(s(O),{key:0,class:"h-5 w-5 text-primary"})):h("",!0)],10,na))),128))])]),_:1})]),_:1},8,["open"])]),_:1}),a(s(he),{open:m.value,"onUpdate:open":t[8]||(t[8]=r=>m.value=r)},{default:n(()=>[a(s(fe),{class:"rounded-2xl"},{default:n(()=>[a(s(ge),null,{default:n(()=>[a(s(xe),null,{default:n(()=>[...t[37]||(t[37]=[c("Konfirmasi Update Status",-1)])]),_:1}),a(s(ve),null,{default:n(()=>[t[38]||(t[38]=c(" Apakah Anda yakin ingin mengubah status pesanan menjadi ",-1)),e("strong",null,l(i.statuses[b.value]),1),t[39]||(t[39]=c("? ",-1)),y.value?(d(),p("span",ra," Tindakan pembatalan tidak dapat dibatalkan. ")):h("",!0)]),_:1})]),_:1}),a(s(be),null,{default:n(()=>[a(s(S),{variant:"outline",class:"ios-button",onClick:t[7]||(t[7]=r=>m.value=!1)},{default:n(()=>[...t[40]||(t[40]=[c(" Batal ",-1)])]),_:1}),a(s(S),{variant:y.value?"destructive":"default",class:"ios-button",onClick:$e},{default:n(()=>[...t[41]||(t[41]=[c(" Ya, Lanjutkan ",-1)])]),_:1},8,["variant"])]),_:1})]),_:1})]),_:1},8,["open"]),a(Ee,{open:P.value,"onUpdate:open":t[9]||(t[9]=r=>P.value=r),title:y.value?"Konfirmasi Pembatalan":"Konfirmasi Update Status",description:`Masukkan password Anda untuk ${y.value?"membatalkan":"mengupdate status"} pesanan ini.`,"confirm-label":y.value?"Batalkan Pesanan":"Update Status","confirm-variant":y.value?"destructive":"default",loading:z.value,onConfirm:Pe,onCancel:De},null,8,["open","title","description","confirm-label","confirm-variant","loading"]),a(jt,{open:I.value,"onUpdate:open":t[10]||(t[10]=r=>I.value=r),"new-status":M.value,"new-status-label":i.statuses[M.value]||"","order-number":i.order.order_number,"customer-name":i.order.customer_name,"whatsapp-url":i.whatsappUrls[M.value],onClose:Ae,onSendWhatsApp:Ue},null,8,["open","new-status","new-status-label","order-number","customer-name","whatsapp-url"])],64))}});export{Ea as default};
