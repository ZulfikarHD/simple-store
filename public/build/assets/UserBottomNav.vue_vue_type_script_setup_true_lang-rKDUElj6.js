import{d as z,u as L,r as I,c as y,z as C,a as B,e as E,F as K,k as G,g,w as m,b as v,f as l,o as p,m as J,q as b,i as F,j as R,t as O,l as X}from"./app-CZppbeYQ.js";import{_ as W}from"./AnimatePresence.vue-BCT8tUuZ.js";import{u as Y,s as $,M as T}from"./shopping-bag-CgJLrDmv.js";import{_ as Z}from"./index-ChOoFR3L.js";import{q as _,a as D,h as ee}from"./index-Dp0PW41R.js";import{H as te,P as re}from"./package-D47XvBWL.js";import{S as ae}from"./shopping-cart-Dh-ymfaE.js";import{U as oe}from"./user-BcBa71Ld.js";const a=e=>({url:a.url(e),method:"get"});a.definition={methods:["get","head"],url:"/cart"};a.url=e=>a.definition.url+_(e);a.get=e=>({url:a.url(e),method:"get"});a.head=e=>({url:a.url(e),method:"head"});const k=e=>({action:a.url(e),method:"get"});k.get=e=>({action:a.url(e),method:"get"});k.head=e=>({action:a.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});a.form=k;const o=e=>({url:o.url(e),method:"post"});o.definition={methods:["post"],url:"/cart"};o.url=e=>o.definition.url+_(e);o.post=e=>({url:o.url(e),method:"post"});const H=e=>({action:o.url(e),method:"post"});H.post=e=>({action:o.url(e),method:"post"});o.form=H;const s=(e,t)=>({url:s.url(e,t),method:"patch"});s.definition={methods:["patch"],url:"/cart/{cartItem}"};s.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={cartItem:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={cartItem:e.id}),Array.isArray(e)&&(e={cartItem:e[0]}),e=D(e);const u={cartItem:typeof e.cartItem=="object"?e.cartItem.id:e.cartItem};return s.definition.url.replace("{cartItem}",u.cartItem.toString()).replace(/\/+$/,"")+_(t)};s.patch=(e,t)=>({url:s.url(e,t),method:"patch"});const M=(e,t)=>({action:s.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});M.patch=(e,t)=>({action:s.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});s.form=M;const n=(e,t)=>({url:n.url(e,t),method:"delete"});n.definition={methods:["delete"],url:"/cart/{cartItem}"};n.url=(e,t)=>{(typeof e=="string"||typeof e=="number")&&(e={cartItem:e}),typeof e=="object"&&!Array.isArray(e)&&"id"in e&&(e={cartItem:e.id}),Array.isArray(e)&&(e={cartItem:e[0]}),e=D(e);const u={cartItem:typeof e.cartItem=="object"?e.cartItem.id:e.cartItem};return n.definition.url.replace("{cartItem}",u.cartItem.toString()).replace(/\/+$/,"")+_(t)};n.delete=(e,t)=>({url:n.url(e,t),method:"delete"});const N=(e,t)=>({action:n.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});N.delete=(e,t)=>({action:n.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});n.form=N;Object.assign(a,a),Object.assign(o,o),Object.assign(s,s),Object.assign(n,n);const se={class:"ios-tabbar fixed inset-x-0 bottom-0 z-50 border-t border-border/50 md:hidden"},ne={class:"flex items-center justify-around"},he=z({__name:"UserBottomNav",setup(e){const t=L(),u=Y(),f=I(null),x=I(!1),A=I(!1),w=y(()=>t.props.cart?.total_items??0),Q=y(()=>t.props.active_orders?.count??0);C(w,(c,d)=>{c>d&&(x.value=!0,u.success(),setTimeout(()=>{x.value=!1},400))}),C(Q,(c,d)=>{c!==d&&(A.value=!0,u.light(),setTimeout(()=>{A.value=!1},400))});const i=y(()=>t.url),S=y(()=>[{id:"home",title:"Beranda",href:ee(),icon:te,badge:0,badgeType:"default",isActive:i.value==="/"||i.value.startsWith("/products")},{id:"orders",title:"Pesanan",href:"/account/orders",icon:re,badge:Q.value,badgeType:"orders",isActive:i.value.startsWith("/account/orders")},{id:"cart",title:"Keranjang",href:a(),icon:ae,badge:w.value,badgeType:"cart",isActive:i.value.startsWith("/cart")||i.value.startsWith("/checkout")},{id:"account",title:"Akun",href:"/account",icon:oe,badge:0,badgeType:"default",isActive:i.value==="/account"||i.value.startsWith("/settings")||i.value.startsWith("/login")||i.value.startsWith("/register")}]);function q(c){f.value=c,u.light()}function h(){f.value=null}function U(){u.medium()}const P={type:"spring",...$.bouncy},V={type:"spring",...$.snappy};return(c,d)=>(p(),B("nav",se,[E("div",ne,[(p(!0),B(K,null,G(S.value,r=>(p(),g(l(X),{key:r.id,href:r.href,class:b(["relative flex flex-1 flex-col items-center gap-1 py-3",[r.isActive?"text-primary":"text-muted-foreground"]]),onMousedown:j=>q(r.id),onMouseup:h,onMouseleave:h,onTouchstartPassive:j=>q(r.id),onTouchend:h,onTouchcancel:h,onClick:d[0]||(d[0]=j=>U())},{default:m(()=>[v(l(T),{animate:{scale:f.value===r.id?.9:r.isActive?1.1:1,opacity:f.value===r.id?.7:1},transition:V,class:"relative"},{default:m(()=>[(p(),g(J(r.icon),{class:b(["h-6 w-6 transition-colors duration-200",[r.isActive?"text-primary":"text-muted-foreground"]]),"stroke-width":r.isActive?2.5:2},null,8,["class","stroke-width"])),v(l(W),null,{default:m(()=>[r.badge&&r.badge>0?(p(),g(l(T),{key:0,initial:{scale:0},animate:{scale:x.value&&r.badgeType==="cart"||A.value&&r.badgeType==="orders"?[1,1.3,1]:1},exit:{scale:0},transition:P,class:"absolute -right-2.5 -top-1.5"},{default:m(()=>[v(l(Z),{class:b(["flex h-5 min-w-5 items-center justify-center rounded-full px-1.5 text-[10px] font-bold shadow-sm ring-2 ring-background",r.badgeType==="orders"?"bg-gradient-to-r from-brand-gold-500 to-brand-gold-600 text-white":"bg-primary text-primary-foreground"])},{default:m(()=>[R(O(r.badge>99?"99+":r.badge),1)]),_:2},1032,["class"])]),_:2},1032,["animate"])):F("",!0)]),_:2},1024)]),_:2},1032,["animate"]),E("span",{class:b(["text-[11px] font-medium transition-all duration-200",[r.isActive?"text-primary font-semibold":"text-muted-foreground"]])},O(r.title),3),v(l(W),null,{default:m(()=>[r.isActive?(p(),g(l(T),{key:0,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:P,class:"absolute -bottom-0.5 h-1 w-1 rounded-full bg-primary"})):F("",!0)]),_:2},1024)]),_:2},1032,["href","class","onMousedown","onTouchstartPassive"]))),128))])]))}});export{he as _,a as s};
