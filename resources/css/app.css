/**
 * F&B Web App - Main Stylesheet
 * Design system terinspirasi Airbnb dengan blue sebagai primary color
 * untuk memberikan kesan modern, terpercaya, dan profesional
 */

@import 'tailwindcss';

@import 'tw-animate-css';

@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';
@source '../../storage/framework/views/*.php';

@custom-variant dark (&:is(.dark *));

@theme inline {
    /* Font Family - Clean & Modern */
    --font-sans:
        'Plus Jakarta Sans', 'DM Sans', 'Inter', ui-sans-serif, system-ui, sans-serif,
        'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
        'Noto Color Emoji';

    /* Border Radius */
    --radius-lg: var(--radius);
    --radius-md: calc(var(--radius) - 2px);
    --radius-sm: calc(var(--radius) - 4px);

    /* Semantic Color Mappings */
    --color-background: var(--background);
    --color-foreground: var(--foreground);

    --color-card: var(--card);
    --color-card-foreground: var(--card-foreground);

    --color-popover: var(--popover);
    --color-popover-foreground: var(--popover-foreground);

    --color-primary: var(--primary);
    --color-primary-foreground: var(--primary-foreground);

    --color-secondary: var(--secondary);
    --color-secondary-foreground: var(--secondary-foreground);

    --color-muted: var(--muted);
    --color-muted-foreground: var(--muted-foreground);

    --color-accent: var(--accent);
    --color-accent-foreground: var(--accent-foreground);

    --color-destructive: var(--destructive);
    --color-destructive-foreground: var(--destructive-foreground);

    --color-border: var(--border);
    --color-input: var(--input);
    --color-ring: var(--ring);

    --color-chart-1: var(--chart-1);
    --color-chart-2: var(--chart-2);
    --color-chart-3: var(--chart-3);
    --color-chart-4: var(--chart-4);
    --color-chart-5: var(--chart-5);

    --color-sidebar: var(--sidebar-background);
    --color-sidebar-foreground: var(--sidebar-foreground);
    --color-sidebar-primary: var(--sidebar-primary);
    --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
    --color-sidebar-accent: var(--sidebar-accent);
    --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
    --color-sidebar-border: var(--sidebar-border);
    --color-sidebar-ring: var(--sidebar-ring);

    /* Brand Colors - Blue Spectrum untuk Tailwind utilities */
    --color-brand-50: oklch(0.97 0.01 240);
    --color-brand-100: oklch(0.93 0.03 240);
    --color-brand-200: oklch(0.86 0.06 240);
    --color-brand-300: oklch(0.76 0.10 240);
    --color-brand-400: oklch(0.65 0.15 240);
    --color-brand-500: oklch(0.55 0.20 240);
    --color-brand-600: oklch(0.48 0.20 240);
    --color-brand-700: oklch(0.40 0.18 240);
    --color-brand-800: oklch(0.32 0.15 240);
    --color-brand-900: oklch(0.25 0.12 240);

    /* Semantic Colors untuk status */
    --color-success: oklch(0.60 0.18 145);
    --color-success-foreground: oklch(0.98 0 0);
    --color-warning: oklch(0.75 0.15 85);
    --color-warning-foreground: oklch(0.25 0.05 85);
    --color-info: oklch(0.65 0.15 200);
    --color-info-foreground: oklch(0.98 0 0);

    /* Shadows - Airbnb style subtle shadows */
    --shadow-card: 0 2px 8px oklch(0 0 0 / 0.08);
    --shadow-card-hover: 0 8px 24px oklch(0 0 0 / 0.12);
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        border-color: var(--color-gray-200, currentColor);
    }
}

@layer utilities {
    body,
    html {
        --font-sans:
            'Plus Jakarta Sans', 'DM Sans', 'Inter', ui-sans-serif, system-ui, sans-serif,
            'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
            'Noto Color Emoji';
    }
}

/* ========================================
   iOS-LIKE ANIMATION SYSTEM
   Spring physics dan timing functions untuk native feel
   ======================================== */
:root {
    /* iOS Spring Timing Functions */
    --ios-spring-bounce: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    --ios-spring-smooth: cubic-bezier(0.23, 1, 0.32, 1);
    --ios-spring-snappy: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --ios-ease-out-expo: cubic-bezier(0.19, 1, 0.22, 1);

    /* iOS Timing Durations */
    --ios-duration-instant: 100ms;
    --ios-duration-fast: 200ms;
    --ios-duration-normal: 350ms;
    --ios-duration-slow: 500ms;

    /* iOS Interaction Scales */
    --ios-press-scale: 0.97;
    --ios-hover-scale: 1.02;
    --ios-bounce-scale: 1.05;

    /* iOS Shadows - Layered depth effect */
    --ios-shadow-sm: 0 1px 2px oklch(0 0 0 / 0.04), 0 1px 3px oklch(0 0 0 / 0.06);
    --ios-shadow-md: 0 4px 6px oklch(0 0 0 / 0.05), 0 2px 4px oklch(0 0 0 / 0.04);
    --ios-shadow-lg: 0 10px 15px oklch(0 0 0 / 0.08), 0 4px 6px oklch(0 0 0 / 0.05);
    --ios-shadow-xl: 0 20px 25px oklch(0 0 0 / 0.1), 0 8px 10px oklch(0 0 0 / 0.06);
    --ios-shadow-float: 0 25px 50px oklch(0 0 0 / 0.15);

    /* iOS Blur Values */
    --ios-blur-sm: 8px;
    --ios-blur-md: 16px;
    --ios-blur-lg: 24px;
    --ios-blur-xl: 40px;
}

/* ========================================
   LIGHT MODE - Blue Theme
   Airbnb-inspired clean aesthetic
   ======================================== */
:root {
    /* Background & Surface */
    --background: hsl(0 0% 100%);
    --foreground: hsl(222 47% 11%);

    /* Card */
    --card: hsl(0 0% 100%);
    --card-foreground: hsl(222 47% 11%);

    /* Popover */
    --popover: hsl(0 0% 100%);
    --popover-foreground: hsl(222 47% 11%);

    /* Primary - Blue (Main Brand Color) */
    --primary: hsl(217 91% 60%);
    --primary-foreground: hsl(0 0% 100%);

    /* Secondary */
    --secondary: hsl(210 40% 96%);
    --secondary-foreground: hsl(222 47% 11%);

    /* Muted */
    --muted: hsl(210 40% 96%);
    --muted-foreground: hsl(215 16% 47%);

    /* Accent */
    --accent: hsl(210 40% 96%);
    --accent-foreground: hsl(222 47% 11%);

    /* Destructive */
    --destructive: hsl(0 84% 60%);
    --destructive-foreground: hsl(0 0% 98%);

    /* Border & Input */
    --border: hsl(214 32% 91%);
    --input: hsl(214 32% 91%);
    --ring: hsl(217 91% 60%);

    /* Chart Colors */
    --chart-1: hsl(217 91% 60%);
    --chart-2: hsl(160 60% 45%);
    --chart-3: hsl(30 80% 55%);
    --chart-4: hsl(280 65% 60%);
    --chart-5: hsl(340 75% 55%);

    /* Radius - Rounded corners */
    --radius: 0.75rem;

    /* Sidebar - Clean & Professional */
    --sidebar-background: hsl(0 0% 98%);
    --sidebar-foreground: hsl(222 47% 11%);
    --sidebar-primary: hsl(217 91% 60%);
    --sidebar-primary-foreground: hsl(0 0% 100%);
    --sidebar-accent: hsl(210 40% 96%);
    --sidebar-accent-foreground: hsl(222 47% 11%);
    --sidebar-border: hsl(214 32% 91%);
    --sidebar-ring: hsl(217 91% 60%);
    --sidebar: hsl(0 0% 98%);
}

/* ========================================
   DARK MODE - Blue Theme
   ======================================== */
.dark {
    /* Background & Surface */
    --background: hsl(222 47% 6%);
    --foreground: hsl(210 40% 98%);

    /* Card */
    --card: hsl(222 47% 8%);
    --card-foreground: hsl(210 40% 98%);

    /* Popover */
    --popover: hsl(222 47% 8%);
    --popover-foreground: hsl(210 40% 98%);

    /* Primary - Blue (Lighter for dark mode) */
    --primary: hsl(217 91% 65%);
    --primary-foreground: hsl(222 47% 6%);

    /* Secondary */
    --secondary: hsl(217 33% 17%);
    --secondary-foreground: hsl(210 40% 98%);

    /* Muted */
    --muted: hsl(217 33% 17%);
    --muted-foreground: hsl(215 20% 65%);

    /* Accent */
    --accent: hsl(217 33% 17%);
    --accent-foreground: hsl(210 40% 98%);

    /* Destructive */
    --destructive: hsl(0 62% 50%);
    --destructive-foreground: hsl(0 0% 98%);

    /* Border & Input */
    --border: hsl(217 33% 17%);
    --input: hsl(217 33% 17%);
    --ring: hsl(217 91% 65%);

    /* Chart Colors - Adjusted for dark mode */
    --chart-1: hsl(217 91% 65%);
    --chart-2: hsl(160 60% 50%);
    --chart-3: hsl(30 80% 60%);
    --chart-4: hsl(280 65% 65%);
    --chart-5: hsl(340 75% 60%);

    /* Sidebar */
    --sidebar-background: hsl(222 47% 8%);
    --sidebar-foreground: hsl(210 40% 98%);
    --sidebar-primary: hsl(217 91% 65%);
    --sidebar-primary-foreground: hsl(222 47% 6%);
    --sidebar-accent: hsl(217 33% 17%);
    --sidebar-accent-foreground: hsl(210 40% 98%);
    --sidebar-border: hsl(217 33% 17%);
    --sidebar-ring: hsl(217 91% 65%);
    --sidebar: hsl(222 47% 8%);
}

@layer base {
    * {
        @apply border-border outline-ring/50;
    }
    body {
        @apply bg-background text-foreground;
    }
}

/* ========================================
   ANIMATIONS
   Smooth transitions untuk micro-interactions
   ======================================== */
@layer utilities {
    /* Skeleton Loading Animation */
    @keyframes shimmer {
        from { background-position: -200% 0; }
        to { background-position: 200% 0; }
    }

    .skeleton {
        @apply bg-gradient-to-r from-muted via-muted/50 to-muted;
        background-size: 200% 100%;
        animation: shimmer 1.5s infinite;
    }

    /* Fade In Animation */
    @keyframes fade-in {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    .animate-fade-in {
        animation: fade-in 0.3s ease-out;
    }

    /* Slide Up Animation */
    @keyframes slide-up {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-slide-up {
        animation: slide-up 0.3s ease-out;
    }

    /* Scale In Animation */
    @keyframes scale-in {
        from {
            opacity: 0;
            transform: scale(0.95);
        }
        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    .animate-scale-in {
        animation: scale-in 0.2s ease-out;
    }

    /* Line clamp utilities */
    .line-clamp-1 {
        display: -webkit-box;
        -webkit-line-clamp: 1;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .line-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
}

/* ========================================
   iOS-LIKE ANIMATIONS
   Spring physics keyframes dan utility classes
   ======================================== */
@layer utilities {
    /* iOS Spring Bounce In */
    @keyframes ios-bounce-in {
        0% {
            opacity: 0;
            transform: scale(0.9);
        }
        50% {
            transform: scale(1.02);
        }
        100% {
            opacity: 1;
            transform: scale(1);
        }
    }

    .animate-ios-bounce-in {
        animation: ios-bounce-in var(--ios-duration-normal) var(--ios-spring-bounce);
    }

    /* iOS Slide Up with Spring */
    @keyframes ios-slide-up {
        0% {
            opacity: 0;
            transform: translateY(20px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-ios-slide-up {
        animation: ios-slide-up var(--ios-duration-normal) var(--ios-spring-smooth);
    }

    /* iOS Slide Down (for dismissing) */
    @keyframes ios-slide-down {
        0% {
            opacity: 1;
            transform: translateY(0);
        }
        100% {
            opacity: 0;
            transform: translateY(20px);
        }
    }

    .animate-ios-slide-down {
        animation: ios-slide-down var(--ios-duration-fast) var(--ios-spring-snappy);
    }

    /* iOS Fade Scale */
    @keyframes ios-fade-scale {
        0% {
            opacity: 0;
            transform: scale(0.95);
        }
        100% {
            opacity: 1;
            transform: scale(1);
        }
    }

    .animate-ios-fade-scale {
        animation: ios-fade-scale var(--ios-duration-fast) var(--ios-spring-smooth);
    }

    /* iOS Pop (for buttons, badges) */
    @keyframes ios-pop {
        0% {
            transform: scale(0.8);
        }
        50% {
            transform: scale(1.1);
        }
        100% {
            transform: scale(1);
        }
    }

    .animate-ios-pop {
        animation: ios-pop var(--ios-duration-fast) var(--ios-spring-bounce);
    }

    /* iOS Shake (for errors) */
    @keyframes ios-shake {
        0%, 100% { transform: translateX(0); }
        20% { transform: translateX(-8px); }
        40% { transform: translateX(8px); }
        60% { transform: translateX(-4px); }
        80% { transform: translateX(4px); }
    }

    .animate-ios-shake {
        animation: ios-shake 0.5s var(--ios-spring-snappy);
    }

    /* iOS Pulse (for loading states) */
    @keyframes ios-pulse {
        0%, 100% {
            opacity: 1;
        }
        50% {
            opacity: 0.5;
        }
    }

    .animate-ios-pulse {
        animation: ios-pulse 1.5s var(--ios-spring-smooth) infinite;
    }

    /* iOS Spin (for loaders) */
    @keyframes ios-spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .animate-ios-spin {
        animation: ios-spin 1s linear infinite;
    }

    /* iOS Badge Bounce */
    @keyframes ios-badge-bounce {
        0% {
            transform: scale(0);
        }
        50% {
            transform: scale(1.2);
        }
        100% {
            transform: scale(1);
        }
    }

    .animate-ios-badge {
        animation: ios-badge-bounce var(--ios-duration-normal) var(--ios-spring-bounce);
    }

    /* Staggered Animation Delays */
    .stagger-1 { animation-delay: 50ms; }
    .stagger-2 { animation-delay: 100ms; }
    .stagger-3 { animation-delay: 150ms; }
    .stagger-4 { animation-delay: 200ms; }
    .stagger-5 { animation-delay: 250ms; }
    .stagger-6 { animation-delay: 300ms; }
    .stagger-7 { animation-delay: 350ms; }
    .stagger-8 { animation-delay: 400ms; }

    /* iOS Press Effect - Active state */
    .ios-press {
        transition: transform var(--ios-duration-instant) var(--ios-spring-snappy),
                    box-shadow var(--ios-duration-instant) var(--ios-spring-snappy);
        will-change: transform;
    }

    .ios-press:active {
        transform: scale(var(--ios-press-scale));
    }

    /* iOS Hover Lift Effect */
    .ios-hover-lift {
        transition: transform var(--ios-duration-fast) var(--ios-spring-smooth),
                    box-shadow var(--ios-duration-fast) var(--ios-spring-smooth);
    }

    .ios-hover-lift:hover {
        transform: translateY(-2px);
        box-shadow: var(--ios-shadow-lg);
    }

    /* iOS Card Style */
    .ios-card {
        @apply bg-card rounded-2xl;
        box-shadow: var(--ios-shadow-md);
        transition: transform var(--ios-duration-fast) var(--ios-spring-smooth),
                    box-shadow var(--ios-duration-fast) var(--ios-spring-smooth);
    }

    .ios-card:hover {
        transform: translateY(-4px);
        box-shadow: var(--ios-shadow-xl);
    }

    .ios-card:active {
        transform: scale(var(--ios-press-scale));
    }

    /* iOS Glass Effect (Frosted Glass) */
    .ios-glass {
        background: oklch(1 0 0 / 0.7);
        backdrop-filter: blur(var(--ios-blur-md)) saturate(180%);
        -webkit-backdrop-filter: blur(var(--ios-blur-md)) saturate(180%);
    }

    .dark .ios-glass {
        background: oklch(0.15 0.02 260 / 0.7);
    }

    /* iOS Bottom Sheet Handle */
    .ios-handle {
        @apply mx-auto mt-2 mb-4 h-1 w-10 rounded-full bg-muted-foreground/30;
    }

    /* iOS Momentum Scroll */
    .ios-scroll {
        -webkit-overflow-scrolling: touch;
        scroll-behavior: smooth;
    }

    /* iOS Snap Scroll untuk Carousel */
    .ios-snap-scroll {
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
    }

    .ios-snap-item {
        scroll-snap-align: start;
    }

    /* iOS Safe Area Padding */
    .ios-safe-top {
        padding-top: env(safe-area-inset-top);
    }

    .ios-safe-bottom {
        padding-bottom: env(safe-area-inset-bottom);
    }

    /* Pull to Refresh Indicator */
    @keyframes ptr-spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    .ptr-spinner {
        animation: ptr-spin 1s linear infinite;
    }
}

/* ========================================
   PRODUCT CARD STYLES
   iOS-inspired interactions dengan spring physics
   ======================================== */
@layer components {
    .product-card {
        @apply bg-card rounded-2xl overflow-hidden;
        box-shadow: var(--ios-shadow-md);
        transition: transform var(--ios-duration-fast) var(--ios-spring-smooth),
                    box-shadow var(--ios-duration-fast) var(--ios-spring-smooth);
        will-change: transform;
        -webkit-tap-highlight-color: transparent;
    }

    .product-card:hover {
        box-shadow: var(--ios-shadow-xl);
        transform: translateY(-4px) scale(1.01);
    }

    .product-card:active {
        transform: scale(var(--ios-press-scale));
        box-shadow: var(--ios-shadow-sm);
    }

    /* Status badges */
    .status-available {
        @apply bg-success/10 text-success;
    }

    .status-limited {
        @apply bg-warning/10 text-warning;
    }

    .status-unavailable {
        @apply bg-destructive/10 text-destructive;
    }
}

/* ========================================
   iOS COMPONENT STYLES
   Reusable iOS-like components
   ======================================== */
@layer components {
    /* iOS Button Style */
    .ios-button {
        @apply relative overflow-hidden rounded-xl font-semibold;
        transition: transform var(--ios-duration-instant) var(--ios-spring-snappy),
                    background-color var(--ios-duration-fast) ease,
                    box-shadow var(--ios-duration-fast) ease;
        -webkit-tap-highlight-color: transparent;
    }

    .ios-button:active {
        transform: scale(var(--ios-press-scale));
    }

    /* iOS List Item */
    .ios-list-item {
        @apply relative flex items-center gap-3 px-4 py-3;
        transition: background-color var(--ios-duration-instant) ease;
        -webkit-tap-highlight-color: transparent;
    }

    .ios-list-item:active {
        @apply bg-muted/50;
    }

    /* iOS Input Style */
    .ios-input {
        @apply rounded-xl border-0 bg-muted/50 px-4 py-3;
        transition: background-color var(--ios-duration-fast) ease,
                    box-shadow var(--ios-duration-fast) ease;
    }

    .ios-input:focus {
        @apply bg-background ring-2 ring-primary/20;
        box-shadow: var(--ios-shadow-md);
    }

    /* iOS Segmented Control */
    .ios-segmented {
        @apply flex gap-1 rounded-xl bg-muted/50 p-1;
    }

    .ios-segmented-item {
        @apply flex-1 rounded-lg px-4 py-2 text-center text-sm font-medium;
        transition: all var(--ios-duration-fast) var(--ios-spring-smooth);
    }

    .ios-segmented-item[data-active="true"] {
        @apply bg-background text-foreground shadow-sm;
    }

    /* iOS Navigation Bar */
    .ios-navbar {
        @apply sticky top-0 z-50;
        background: oklch(1 0 0 / 0.85);
        backdrop-filter: blur(var(--ios-blur-lg)) saturate(180%);
        -webkit-backdrop-filter: blur(var(--ios-blur-lg)) saturate(180%);
    }

    .dark .ios-navbar {
        background: oklch(0.1 0.02 260 / 0.85);
    }

    /* iOS Tab Bar */
    .ios-tabbar {
        @apply fixed inset-x-0 bottom-0 z-50;
        background: oklch(1 0 0 / 0.85);
        backdrop-filter: blur(var(--ios-blur-lg)) saturate(180%);
        -webkit-backdrop-filter: blur(var(--ios-blur-lg)) saturate(180%);
        padding-bottom: env(safe-area-inset-bottom);
    }

    .dark .ios-tabbar {
        background: oklch(0.1 0.02 260 / 0.85);
    }

    /* iOS Bottom Sheet */
    .ios-bottom-sheet {
        @apply fixed inset-x-0 bottom-0 z-50 rounded-t-3xl bg-background;
        box-shadow: 0 -10px 40px oklch(0 0 0 / 0.15);
        max-height: 90vh;
        padding-bottom: env(safe-area-inset-bottom);
    }

    /* iOS Action Sheet */
    .ios-action-sheet {
        @apply mx-2 mb-2 overflow-hidden rounded-2xl bg-background;
        box-shadow: var(--ios-shadow-xl);
    }

    .ios-action-sheet-item {
        @apply flex w-full items-center justify-center py-4 text-base font-medium text-primary;
        border-top: 1px solid var(--border);
        transition: background-color var(--ios-duration-instant) ease;
    }

    .ios-action-sheet-item:first-child {
        border-top: none;
    }

    .ios-action-sheet-item:active {
        @apply bg-muted/50;
    }

    .ios-action-sheet-item--destructive {
        @apply text-destructive;
    }

    /* iOS Pull to Refresh */
    .ios-ptr-container {
        @apply relative overflow-hidden;
    }

    .ios-ptr-indicator {
        @apply absolute left-1/2 top-0 flex -translate-x-1/2 items-center justify-center;
        transition: transform var(--ios-duration-fast) var(--ios-spring-smooth);
    }
}
